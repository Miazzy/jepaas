var APP=APP||{};APP.home={appTpl:'<div class="je-app"  data-code="{code}" data-text="{text}" data-version="{version}" data-type="{type}" data-folder="{folder}"><div class="je-app-icon"><tpl if="iconCls"><span class="mui-icon {iconCls}"></span><tpl else><img class="je-app-icon-img" src="{icon}" /></tpl><span class="mui-badge"></span><div class = "je-app-icon-new" style="display:<tpl if=\'!newapp\'>none</tpl>;"></div></div><div class="je-app-title"><span class="je-app-icon-update" style="display:<tpl if=\'!update\'>none</tpl>;"></span>{text}</div></div>',refreshHome:function(a){APP.home.buildHome(APP.apkID,a)},resetHome:function(a){var b=JE.select("nav");if(!a.footBar&&b){b.parentNode.removeChild(b)}Ext.get(JE.select("header"))[a.images?"addCls":"removeCls"]("header-black");mui(".mui-slider.imgnews").slider({interval:5000});mui(".mui-slider.menupage").slider()},doHomePerm:function(b,a){var b=b||[],a=a||[];var c=[];Ext.each(b,function(e){if(a.indexOf(e.id)!=-1){if(e.code!="image"){var d=[];Ext.each(e.cfg.funcs,function(f){if(a.indexOf(f.id)!=-1){var g=[];if(f.type=="menu"){Ext.each(f.funcs,function(h){if(a.indexOf(h.id)!=-1){g.push(h)}})}f.funcs=g;d.push(f)}});e.cfg.funcs=d}c.push(e)}else{if(e.type=="basic"){c.push(e)}}});return c},buildHome:function(a,c){if(JE.isEmpty(a)){JE.alert("apkID不存在！");return}APP.apkID=a;APP.home._images={};if(mui.os.plus){var b=plus.webview.getWebviewById("__homemenu");if(b){b.evalJS("APP.menu.buildHomeMenu();")}}JE.ajax({url:"/je/appAction!loadHome.action",params:{apkId:a,cid:JE.getPushInfo("clientid")},callback:function(s,j){if(!s&&c){c(s,j);return}JE.setCurrentUser(j.user);JE.setUsers(j.users);JE.setSystemConfig(j);var n={},d={},i=[],o=j.badges;var e=j.funcs,m=j.imgNews,q=j.perms;Ext.each(e,function(u){var p=u.APP_TYPE,t=u.APP_CODE;if(p=="home"){n=u}else{d[t]=u}});APP.apps=d;APP.home.badges=o;APP.home.folderMenus={};var l=APP.home.doHomePerm(n.APP_HOME_CFG,q);var r=[],g=false,h=false;Ext.each(l,function(x,t){var p=x.cfg||{},w=x.code,v=x.type;var u="";if(w=="image"){u=APP.home.buildImages(p,x,m);h=true}else{if(v=="menu"&&JE.isNotEmpty(p.funcs)){if(w=="gridmenu"){u=APP.home.buildGridMenu(p,x)}else{if(w=="footmenu"){u=APP.home.buildFootMenu(p,x);g=true}}}else{if(v=="basic"){u=APP.home.buildBasicCfg(p)}}}r.push(u)});for(var f in APP.home.folderMenus){var k=APP.home.buildFolderMenu(APP.home.folderMenus[f]);r.push(k)}JE.get("je-content").innerHTML=r.join("");APP.home.buildBadges(APP.home.badges);APP.home.resetHome({footBar:g,images:h});if(c){c(s,j)}}});if(mui("#je-content").pullToRefresh){mui("#je-content").pullToRefresh({down:{callback:function(){var d=this;APP.home.refreshHome(function(f,e){d.endPullDownToRefresh();JE.msg(f?"刷新完成！":e.msg)})}}})}},buildBasicCfg:function(b){var c=JE.get("title"),a=b.hideTitle=="1";headerDom=JE.select("header");c.innerHTML=b.title||"管理系统";c.style.display=a?"none":"";headerDom.style.backgroundColor=a?"transparent":(b.titleBGColor||"");JE.get("loginout").style.color=b.logoutColor||""},buildImages:function(b,g,e){var d="";var f=[],h=[],a=b.height||200;if(JE.isNotEmpty(e)){f=[e[e.length-1]].concat(e).concat(e[0])}Ext.each(f,function(j,i){if(i==0||i==f.length-1){j.cls="mui-slider-item-duplicate"}j.url=JE.buildURL(j.IMGNEW_TP.split("*")[1]);var k={url:JE.buildURL(j.IMGNEW_TP.split("*")[1]),info:j.IMGNEW_MS,id:j.JE_CORE_IMGNEW_ID,height:a,zw:j.IMGNEW_ZW};h.push(k);APP.home._images[k.id]=k});var c=['<div class="mui-slider imgnews" style="min-height:{height}px">','<div class="mui-slider-group mui-slider-loop">','<tpl for="imgs">','<div class="mui-slider-item {cls}" data-id="{id}">','<a href="#">','<img src="{url}" style="height:{height}px;">','<p class="mui-slider-title">{info}</p>',"</a>","</div>","</tpl>","</div>",'<div class="mui-slider-indicator mui-text-right">','{% for(var i=0;i<values.imgCount;i++) { var cls = "";if(i==0){cls="mui-active";}       %}','<div class="mui-indicator {[cls]}"></div>',"{% } %}","</div>","</div>"].join("");var d=JE.toXT(c,{imgs:h,imgCount:(e||[]).length,height:b.height||200});return d},buildFuncData:function(j,b){var d=APP.apps[j];if(!d){return}var e="../images/";var k=d.APP_TEXT,a=d.APP_CODE,f=d.APP_VERSION,h=d.APP_TYPE,i=e+"app.png";var c={text:k,code:a,icon:i,version:f,update:false,newapp:false,type:h};if(JE.isNotEmpty(d.APP_ICON)){c.icon=JE.buildURL(d.APP_ICON.split("*")[1])}else{if(h=="menu"){c.icon=e+"folder.png"}else{if(h=="plugin_cloud"&&JE.isNotEmpty(d.APP_PLUGIN_CLOUD_ICON)){c.icon=JE.getJESaasUrl()+d.APP_PLUGIN_CLOUD_ICON.split("*")[1]}}}if(mui.os.plus&&b&&["menu"].indexOf(h)==-1){var g=b[a];if(g&&g!=f){c.update=true}else{if(JE.isEmpty(g)){c.newapp=true}}}return c},buildGridMenu:function(g){var h='<li class="{itemcls}">'+APP.home.appTpl+"</li>";var m=JE.getVersion("app");var b=q=="folder"?"":"mui-col-sm-3";var p=g.funcs,q=g.menuType,x=g.title,t=JE.toNum(g.colCount||4),n=JE.toNum(g.rowCount||4),e=g.page=="1",s=g.hideTitle=="1",k="";var f=[];Ext.each(p,function(i){if(i.type=="menu"||APP.apps[i.code]){f.push(i)}});p=f;if(q=="foldermenu"){t=3;n=3;e=true;s=true;k=g.code}else{var c=t-p.length%t;if(t>c){for(var v=0;v<c;v++){p.push({type:"empty"})}}}var b="mui-col-xs-"+12/t;var a=[];Ext.each(p,function(j){var i;if(j.type=="menu"){i=Ext.applyIf({update:false,newapp:false},j);i.icon=JE.isEmpty(i.icon)?"../images/folder.png":JE.buildURL(i.icon);APP.home.folderMenus[i.code]=i}else{if(j.type=="empty"){a.push('<li class="mui-table-view-cell mui-media '+b+' je-app-empty"></li>')}else{i=APP.home.buildFuncData(j.code,m)}}if(i){j.icon=i.icon;i.folder=k;i.itemcls="mui-table-view-cell "+b;a.push(JE.toXT(h,i))}});var o=[];var d=t*n;var r=parseInt(p.length/d)+(p.length%d>0?1:0);if(e&&r>1){o.push('<div class="mui-slider menupage">');o.push('<div class="mui-slider-group">');for(var v=0;v<a.length;){var w=['<div class="mui-slider-item">','<ul class="je-menu je-menu-grid mui-table-view mui-grid-view mui-grid-9">'];for(var u=0;u<d;u++){w.push(a[v]);v++;if(v==a.length){break}}w.push("</ul>");w.push("</div>");o.push(w.join(""))}o.push("</div>");o.push('<div class="mui-slider-indicator">');for(var v=0;v<r;v++){o.push('<div class="mui-indicator '+(v==0?"mui-active":"")+'"></div>')}o.push("</div>");o.push("</div>")}else{o.push('<ul class="je-menu je-menu-grid mui-table-view mui-grid-view mui-grid-9">');o=o.concat(a);o.push("</ul>")}var l=o.join("");if(q=="foldermenu"){return l}o=[];o.push('<div class="mui-card menucard">');if(!s){o.push('<div class="mui-card-header">'+x+"</div>")}o.push('<div class="mui-card-content">');o.push(l);o.push("</div>");o.push('<div class="mui-card-footer">');o.push("</div>");o.push("</div>");return o.join("")},buildFolderMenu:function(a){var c=a.code,d=a.text,f=c+"__foldermenu";a.menuType="foldermenu";var b=APP.home.buildGridMenu(a);var e=JE.get(f);if(!e){var e=document.createElement("div");e.setAttribute("id",f);e.setAttribute("class","mui-popover je-folder-menu");document.body.appendChild(e)}e.innerHTML='<div class="je-folder-menu-title">'+d+"</div>"+b;return""},openFolderMenu:function(d){JE.playAudio(JE.audios.funcclick);mui("#"+d.code+"__foldermenu").popover("show");var e=mui("#"+d.code+"__foldermenu .mui-slider.menupage");if(e.length==1){e.slider().gotoItem(0,0)}var f=JE.get(d.code+"__foldermenu");var a=f.offsetWidth;var h=f.offsetHeight;var i=window.innerWidth;var b=window.innerHeight;var c=i/2-a/2;var g=b/2-h/2;f.style.top=g+"px";f.style.left=c+"px"},buildNotices:function(b){var a='<div class="je-marquee"><marquee ><tpl for="."><span>* {info}</span></tpl></marquee><div class="mui-icon fa fa-volume-up" style="position: absolute;left:0px;top:0px;margin:2px 0 0 4px;"></div></div>';a=JE.toXT(a,b);return a},buildEvents:function(){mui("body").on("tap",".je-menu .je-app",function(){var a=["code","text","version","type"],d=this,c={};Ext.each(a,function(e){c[e]=d.getAttribute("data-"+e)});if(c.type=="menu"){APP.home.openFolderMenu(c)}else{if(APP.app){JE.showFunc(c);var b=d.getAttribute("data-folder");if(JE.isNotEmpty(b)){mui("#"+b+"__foldermenu").popover("hide")}}else{JE.msg(c.text)}}});mui(".mui-content").on("tap",".mui-slider.imgnews .mui-slider-item",function(){var c=this,d=c.getAttribute("data-id");if(!mui.os.plus){return}var b=APP.home._images[d],a=b.zw.replaceAll("src=&quot;","src=&quot;"+JE.getServerPath()),a=Ext.htmlDecode(a);JE.fire("je-ux-html","init",{title:b.info,html:a}).show("slide-in-right")})},buildBadges:function(a){if(!mui.os.plus){return}JE.refreshBadge(a)},buildFootMenu:function(b){var c=b.funcs;var h=[];var a=JE.getVersion("app");Ext.each(c,function(j){var i;if(j.type=="menu"){i=Ext.applyIf({icon:"../images/folder.png",update:false,newapp:false},j);APP.home.folderMenus[i.code]=i}else{i=APP.home.buildFuncData(j.code,a)}if(i){h.push(i)}});if(h.length>0){var g=JE.select("nav");if(!g){g=document.createElement("nav");g.setAttribute("class","mui-bar mui-bar-tab je-menu");document.body.insertBefore(g,JE.get("je-content"))}var f=[];for(var e=0;e<4;e++){var d='<li class="mui-tab-item"></li>';if(h[e]){d=JE.toXT('<li class="mui-tab-item">'+APP.home.appTpl+"</li>",h[e])}f.push(d)}g.innerHTML=f.join("")}return""}};!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.echarts=b():a.echarts=b()}(this,function(){return function(b){function c(e){if(a[e]){return a[e].exports}var d=a[e]={exports:{},id:e,loaded:!1};return b[e].call(d.exports,d,d.exports,c),d.loaded=!0,d.exports}var a={};return c.m=b,c.c=a,c.p="",c(0)}([function(b,c,a){b.exports=a(2),a(108),a(102),a(112),a(191),a(331),a(319),a(346),a(293),a(289),a(285),a(326),a(336),a(270),a(275),a(282),a(314),a(306),a(330),a(341),a(281),a(207),a(208),a(209),a(232),a(55),a(373),a(370),a(251),a(252),a(361),a(368),a(223),a(197),a(387),a(216),a(215),a(214),a(377),a(224),a(239)},function(ax,aM){function aI(c){if(null==c||"object"!=typeof c){return c}var f=c,h=ae.call(c);if("[object Array]"===h){f=[];for(var b=0,g=c.length;b<g;b++){f[b]=aI(c[b])}}else{if(ab[h]){f=c.constructor.from(c)}else{if(!al[h]&&!ac(c)&&!ah(c)){f={};for(var d in c){c.hasOwnProperty(d)&&(f[d]=aI(c[d]))}}}}return f}function aD(c,g,b){if(!aa(g)||!aa(c)){return b?aI(g):c}for(var h in g){if(g.hasOwnProperty(h)){var f=c[h],d=g[h];!aa(d)||!aa(f)||aR(d)||aR(f)||ah(d)||ah(f)||af(d)||af(f)||ac(d)||ac(f)?!b&&h in c||(c[h]=aI(g[h],!0)):aD(f,d,b)}}return c}function aQ(d,f){for(var c=d[0],b=1,g=d.length;b<g;b++){c=aD(c,d[b],f)}return c}function aC(b,c){for(var a in c){c.hasOwnProperty(a)&&(b[a]=c[a])}return b}function az(b,c,a){for(var d in c){c.hasOwnProperty(d)&&(a?null!=c[d]:null==b[d])&&(b[d]=c[d])}return b}function ay(){return document.createElement("canvas")}function aF(){return aq||(aq=X.createCanvas().getContext("2d")),aq}function aw(b,c){if(b){if(b.indexOf){return b.indexOf(c)}for(var a=0,d=b.length;a<d;a++){if(b[a]===c){return a}}}return -1}function aO(d,f){function c(){}var g=d.prototype;c.prototype=f.prototype,d.prototype=new c;for(var b in g){d.prototype[b]=g[b]}d.prototype.constructor=d,d.superClass=f}function aJ(b,c,a){b="prototype" in b?b.prototype:b,c="prototype" in c?c.prototype:c,az(b,c,a)}function aN(a){if(a){return"string"!=typeof a&&"number"==typeof a.length}}function aL(d,f,c){if(d&&f){if(d.forEach&&d.forEach===ao){d.forEach(f,c)}else{if(d.length===+d.length){for(var h=0,b=d.length;h<b;h++){f.call(c,d[h],h,d)}}else{for(var g in d){d.hasOwnProperty(g)&&f.call(c,d[g],g,d)}}}}}function aB(d,f,c){if(d&&f){if(d.map&&d.map===ak){return d.map(f,c)}for(var h=[],b=0,g=d.length;b<g;b++){h.push(f.call(c,d[b],b,d))}return h}}function aK(d,f,c,h){if(d&&f){if(d.reduce&&d.reduce===K){return d.reduce(f,c,h)}for(var b=0,g=d.length;b<g;b++){c=f.call(h,c,d[b],b,d)}return c}}function aE(d,f,c){if(d&&f){if(d.filter&&d.filter===aj){return d.filter(f,c)}for(var h=[],b=0,g=d.length;b<g;b++){f.call(c,d[b],b,d)&&h.push(d[b])}return h}}function av(d,f,c){if(d&&f){for(var g=0,b=d.length;g<b;g++){if(f.call(c,d[g],g,d)){return d[g]}}}}function ar(b,c){var a=ai.call(arguments,2);return function(){return b.apply(c,a.concat(ai.call(arguments)))}}function at(a){var b=ai.call(arguments,1);return function(){return a.apply(this,b.concat(ai.call(arguments)))}}function aR(a){return"[object Array]"===ae.call(a)}function aP(a){return"function"==typeof a}function au(a){return"[object String]"===ae.call(a)}function aa(a){var b=typeof a;return"function"===b||!!a&&"object"==b}function af(a){return !!al[ae.call(a)]}function ah(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function Y(a){return a!==a}function ap(b){for(var c=0,a=arguments.length;c<a;c++){if(null!=arguments[c]){return arguments[c]}}}function an(){return Function.call.apply(ai,arguments)}function ag(a,b){if(!a){throw new Error(b)}}function am(a){a[J]=!0}function ac(a){return a[J]}function aG(a){a&&aL(a,function(b,c){this.set(c,b)},this)}function ad(a){return new aG(a)}var aq,al={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},ab={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},ae=Object.prototype.toString,Q=Array.prototype,ao=Q.forEach,aj=Q.filter,ai=Q.slice,ak=Q.map,K=Q.reduce,J="__ec_primitive__",aA="_ec_",aH=4;aG.prototype={constructor:aG,get:function(a){return this[aA+a]},set:function(a,b){return this[aA+a]=b,b},each:function(b,c){void 0!==c&&(b=ar(b,c));for(var a in this){this.hasOwnProperty(a)&&b(this[a],a.slice(aH))}},removeKey:function(a){delete this[a]}};var X={inherits:aO,mixin:aJ,clone:aI,merge:aD,mergeAll:aQ,extend:aC,defaults:az,getContext:aF,createCanvas:ay,indexOf:aw,slice:an,find:av,isArrayLike:aN,each:aL,map:aB,reduce:aK,filter:aE,bind:ar,curry:at,isArray:aR,isString:au,isObject:aa,isFunction:aP,isBuiltInObject:af,isDom:ah,eqNaN:Y,retrieve:ap,assert:ag,setAsPrimitive:am,createHashMap:ad,noop:function(){}};ax.exports=X},function(aV,be,a9){function a3(a){return function(c,b,d){c=c&&c.toLowerCase(),ae.prototype[a].call(this,c,b,d)}}function bi(){ae.call(this)}function a1(b,c,a){function f(g,h){return g.prio-h.prio}a=a||{},"string"==typeof c&&(c=aK[c]),this.id,this.group,this._dom=b;var d=this._zr=aC.init(b,{renderer:a.renderer||"canvas",devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height});this._throttledZrFlush=aP.throttle(aj.bind(d.flush,d),17),this._theme=aj.clone(c),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new ag,this._api=bh(this),ae.call(this),this._messageCenter=new bi,this._initEvents(),this.resize=aj.bind(this.resize,this),this._pendingActions=[],aF(az,f),aF(ah,f),d.animation.on("frame",this._onframe,this),aj.setAsPrimitive(this)}function aX(d,h,c){var k,b=this._model,j=this._coordSysMgr.getCoordinateSystems();h=ao.parseFinder(b,h);for(var g=0;g<j.length;g++){var f=j[g];if(f[d]&&null!=(k=f[d](b,h,c))){return k}}}function aW(k,h,g,d,j){function c(a){a&&a.__alive&&a[h]&&a[h](a.__model,b,k._api,g)}var b=k._model;if(!d){return void aA(k._componentsViews.concat(k._chartsViews),c)}var m={};m[d+"Id"]=g[d+"Id"],m[d+"Index"]=g[d+"Index"],m[d+"Name"]=g[d+"Name"];var f={mainType:d,query:m};j&&(f.subType=j),b&&b.eachComponent(f,function(l,a){c(k["series"===d?"_chartsMap":"_componentsMap"][l.__viewId])},k)}function a5(z,s){var m=z.type,j=z.escapeConnect,x=aJ[m],g=x.actionInfo,b=(g.update||"update").split(":"),k=b.pop();b=null!=b[0]&&ay(b[0]),this[ab]=!0;var y=[z],w=!1;z.batch&&(w=!0,y=aj.map(z.batch,function(a){return a=aj.defaults(aj.extend({},a),z),a.batch=null,a}));var p,v=[],q="highlight"===m||"downplay"===m;aA(y,function(a){p=x.action(a,this._model,this._api),p=p||aj.extend({},a),p.type=g.event||p.type,v.push(p),q?aW(this,k,a,"series"):b&&aW(this,k,a,b.main,b.sub)},this),"none"===k||q||b||(this[au]?(bc.prepareAndUpdate.call(this,z),this[au]=!1):bc[k].call(this,z)),p=w?{type:g.event||m,escapeConnect:j,batch:v}:v[0],this[ab]=!1,!s&&this._messageCenter.trigger(p.type,p)}function aU(b){for(var c=this._pendingActions;c.length;){var a=c.shift();a5.call(this,a,b)}}function bg(a){!a&&this.trigger("updated")}function ba(b,c,a){var d=this._api;aA(this._componentsViews,function(e){var f=e.__model;e[b](f,c,d,a),bj(f,e)},this),c.eachSeries(function(e,g){var f=this._chartsMap[e.__viewId];f[b](e,c,d,a),bj(e,f),aR(e,f)},this),aQ(this._zr,c),aA(aM,function(e){e(c,d)})}function bf(d,h){for(var c="component"===d,k=c?this._componentsViews:this._chartsViews,b=c?this._componentsMap:this._chartsMap,j=this._zr,g=0;g<k.length;g++){k[g].__alive=!1}h[c?"eachComponent":"eachSeries"](function(i,n){if(c){if("series"===i){return}}else{n=i}var m="_ec_"+n.id+"_"+n.type,a=b[m];if(!a){var e=ay(n.type),o=c?aD.getClass(e.main,e.sub):am.getClass(e.sub);if(!o){return}a=new o,a.init(h,this._api),b[m]=a,k.push(a),j.add(a.group)}n.__viewId=a.__id=m,a.__alive=!0,a.__model=n,a.group.__ecComponentInfo={mainType:n.mainType,index:n.componentIndex}},this);for(var g=0;g<k.length;){var f=k[g];f.__alive?g++:(j.remove(f.group),f.dispose(h,this._api),k.splice(g,1),delete b[f.__id],f.__id=f.group.__ecComponentInfo=null)}}function bd(a,b){aA(ah,function(c){c.func(a,b)})}function a0(a){var b={};a.eachSeries(function(e){var d=e.get("stack"),f=e.getData();if(d&&"list"===f.type){var c=b[d];b.hasOwnProperty(d)&&c&&(f.stackedOn=c),b[d]=f}})}function bb(b,c){var a=this._api;aA(az,function(d){d.isLayout&&d.func(b,a,c)})}function a4(b,c,a){var d=this._api;b.clearColorPalette(),b.eachSeries(function(e){e.clearColorPalette()}),aA(az,function(e){(!a||!e.isLayout)&&e.func(b,d,c)})}function aT(b,c){var a=this._api;aA(this._componentsViews,function(e){var d=e.__model;e.render(d,b,a,c),bj(d,e)},this),aA(this._chartsViews,function(d){d.__alive=!1},this),b.eachSeries(function(f,d){var e=this._chartsMap[f.__viewId];e.__alive=!0,e.render(f,b,a,c),e.group.silent=!!f.get("silent"),bj(f,e),aR(f,e)},this),aQ(this._zr,b),aA(this._chartsViews,function(d){d.__alive||d.remove(b,a)},this)}function aQ(b,c){var a=b.storage,d=0;a.traverse(function(e){e.isGroup||d++}),d>c.get("hoverLayerThreshold")&&!ai.node&&a.traverse(function(e){e.isGroup||(e.useHoverLayer=!0)})}function aR(d,f){var c=0;f.group.traverse(function(a){"group"===a.type||a.ignore||c++});var h=+d.get("progressive"),b=c>d.get("progressiveThreshold")&&h&&!ai.node;b&&f.group.traverse(function(a){a.isGroup||(a.progressive=b?Math.floor(c++/h):-1,b&&a.stopAnimation(!0))});var g=d.get("blendMode")||null;f.group.traverse(function(a){a.isGroup||a.setStyle("blend",g)})}function bj(b,c){var a=b.get("z"),d=b.get("zlevel");c.group.traverse(function(e){"group"!==e.type&&(null!=a&&(e.z=a),null!=d&&(e.zlevel=d))})}function bh(a){var b=a._coordSysMgr;return aj.extend(new ax(a),{getCoordinateSystems:aj.bind(b.getCoordinateSystems,b),getComponentByElement:function(d){for(;d;){var c=d.__ecComponentInfo;if(null!=c){return a._model.getComponent(c.mainType,c.index)}d=d.parent}}})}function aS(d){function f(j,k){for(var a=0;a<j.length;a++){var l=j[a];l[g]=k}}var c=0,h=1,b=2,g="__connectUpdateStatus";aj.each(a7,function(e,a){d._messageCenter.on(a,function(k){if(a2[d.group]&&d[g]!==c){if(k&&k.escapeConnect){return}var j=d.makeActionFromEvent(k),i=[];aj.each(aH,function(l){l!==d&&l.group===d.group&&i.push(l)}),f(i,c),aA(i,function(l){l[g]!==h&&l.dispatchAction(j)}),f(i,b)}})})}
/*!
	 * ECharts, a javascript interactive chart library.
	 *
	 * Copyright (c) 2015, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
	 */
;var ai=a9(9),aq=a9(137),ax=a9(101),ag=a9(26),aG=a9(138),aE=a9(13),ar=a9(17),aD=a9(65),am=a9(30),a6=a9(3),ao=a9(5),aP=a9(37),aC=a9(88),aj=a9(1),ap=a9(22),ae=a9(23),aF=a9(51),aA=aj.each,ay=aE.parseClassType,aB=1000,ad=5000,aa=1000,aY=2000,a8=3000,af=4000,ac=5000,ab="__flagInMainProcess",aO="__hasGradientOrPatternBg",au="__optionUpdated",av=/^[a-zA-Z0-9_]+$/;bi.prototype.on=a3("on"),bi.prototype.off=a3("off"),bi.prototype.one=a3("one"),aj.mixin(bi,ae);var al=a1.prototype;al._onframe=function(){if(this[au]){var a=this[au].silent;this[ab]=!0,bc.prepareAndUpdate.call(this),this[ab]=!1,this[au]=!1,aU.call(this,a),bg.call(this,a)}},al.getDom=function(){return this._dom},al.getZr=function(){return this._zr},al.setOption=function(d,g,c){var j;if(aj.isObject(g)&&(c=g.lazyUpdate,j=g.silent,g=g.notMerge),this[ab]=!0,!this._model||g){var b=new aG(this._api),h=this._theme,f=this._model=new aq(null,null,h,b);f.init(null,null,h,b)}this._model.setOption(d,aL),c?(this[au]={silent:j},this[ab]=!1):(bc.prepareAndUpdate.call(this),this._zr.flush(),this[au]=!1,this[ab]=!1,aU.call(this,j),bg.call(this,j))},al.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},al.getModel=function(){return this._model},al.getOption=function(){return this._model&&this._model.getOption()},al.getWidth=function(){return this._zr.getWidth()},al.getHeight=function(){return this._zr.getHeight()},al.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},al.getRenderedCanvas=function(b){if(ai.canvasSupported){b=b||{},b.pixelRatio=b.pixelRatio||1,b.backgroundColor=b.backgroundColor||this._model.get("backgroundColor");var c=this._zr,a=c.storage.getDisplayList();return aj.each(a,function(d){d.stopAnimation(!0)}),c.painter.getRenderedCanvas(b)}},al.getDataURL=function(d){d=d||{};var f=d.excludeComponents,c=this._model,h=[],b=this;aA(f,function(a){c.eachComponent({mainType:a},function(i){var j=b._componentsMap[i.__viewId];j.group.ignore||(h.push(j),j.group.ignore=!0)})});var g=this.getRenderedCanvas(d).toDataURL("image/"+(d&&d.type||"png"));return aA(h,function(a){a.group.ignore=!1}),g},al.getConnectedDataURL=function(C){if(ai.canvasSupported){var x=this.group,q=Math.min,k=Math.max,A=1/0;if(a2[x]){var j=A,b=A,D=-A,m=-A,B=[],z=C&&C.pixelRatio||1;aj.each(aH,function(e,l){if(e.group===x){var f=e.getRenderedCanvas(aj.clone(C)),i=e.getDom().getBoundingClientRect();j=q(i.left,j),b=q(i.top,b),D=k(i.right,D),m=k(i.bottom,m),B.push({dom:f,left:i.left,top:i.top})}}),j*=z,b*=z,D*=z,m*=z;var v=D-j,y=m-b,w=aj.createCanvas();w.width=v,w.height=y;var g=aC.init(w);return aA(B,function(a){var c=new a6.Image({style:{x:a.left*z-j,y:a.top*z-b,image:a.dom}});g.add(c)}),g.refreshImmediately(),w.toDataURL("image/"+(C&&C.type||"png"))}return this.getDataURL(C)}},al.convertToPixel=aj.curry(aX,"convertToPixel"),al.convertFromPixel=aj.curry(aX,"convertFromPixel"),al.containPixel=function(b,c){var a,d=this._model;return b=ao.parseFinder(d,b),aj.each(b,function(e,f){f.indexOf("Models")>=0&&aj.each(e,function(h){var g=h.coordinateSystem;if(g&&g.containPoint){a|=!!g.containPoint(c)}else{if("seriesModels"===f){var i=this._chartsMap[h.__viewId];i&&i.containPoint&&(a|=i.containPoint(c,h))}}},this)},this),!!a},al.getVisual=function(d,f){var c=this._model;d=ao.parseFinder(c,d,{defaultMainType:"series"});var h=d.seriesModel,b=h.getData(),g=d.hasOwnProperty("dataIndexInside")?d.dataIndexInside:d.hasOwnProperty("dataIndex")?b.indexOfRawIndex(d.dataIndex):null;return null!=g?b.getItemVisual(g,f):b.getVisual(f)},al.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},al.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};var bc={update:function(d){var h=this._model,c=this._api,k=this._coordSysMgr,b=this._zr;if(h){h.restoreData(),k.create(this._model,this._api),bd.call(this,h,c),a0.call(this,h),k.update(h,c),a4.call(this,h,d),aT.call(this,h,d);var j=h.get("backgroundColor")||"transparent",g=b.painter;if(g.isSingleCanvas&&g.isSingleCanvas()){b.configLayer(0,{clearColor:j})}else{if(!ai.canvasSupported){var f=ap.parse(j);j=ap.stringify(f,"rgb"),0===f[3]&&(j="transparent")}j.colorStops||j.image?(b.configLayer(0,{clearColor:j}),this[aO]=!0,this._dom.style.background="transparent"):(this[aO]&&b.configLayer(0,{clearColor:null}),this[aO]=!1,this._dom.style.background=j)}aA(aM,function(a){a(h,c)})}},updateView:function(a){var b=this._model;b&&(b.eachSeries(function(c){c.getData().clearAllVisual()}),a4.call(this,b,a),ba.call(this,"updateView",b,a))},updateVisual:function(a){var b=this._model;b&&(b.eachSeries(function(c){c.getData().clearAllVisual()}),a4.call(this,b,a,!0),ba.call(this,"updateVisual",b,a))},updateLayout:function(a){var b=this._model;b&&(bb.call(this,b,a),ba.call(this,"updateLayout",b,a))},prepareAndUpdate:function(a){var b=this._model;bf.call(this,"component",b),bf.call(this,"chart",b),bc.update.call(this,a)}};al.resize=function(b){this[ab]=!0,this._zr.resize(b);var c=this._model&&this._model.resetOption("media"),a=c?"prepareAndUpdate":"update";bc[a].call(this),this._loadingFX&&this._loadingFX.resize(),this[ab]=!1;var d=b&&b.silent;aU.call(this,d),bg.call(this,d)},al.showLoading=function(b,c){if(aj.isObject(b)&&(c=b,b=""),b=b||"default",this.hideLoading(),aN[b]){var a=aN[b](this._api,c),d=this._zr;this._loadingFX=a,d.add(a)}},al.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},al.makeActionFromEvent=function(a){var b=aj.extend({},a);return b.type=a7[a.type],b},al.dispatchAction=function(a,b){if(aj.isObject(b)||(b={silent:!!b}),aJ[a.type]){if(this[ab]){return void this._pendingActions.push(a)}a5.call(this,a,b.silent),b.flush?this._zr.flush(!0):b.flush!==!1&&ai.browser.weChat&&this._throttledZrFlush(),aU.call(this,b.silent),bg.call(this,b.silent)}},al.on=a3("on"),al.off=a3("off"),al.one=a3("one");var aZ=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];al._initEvents=function(){aA(aZ,function(a){this._zr.on(a,function(d){var c,g=this.getModel(),b=d.target;if("globalout"===a){c={}}else{if(b&&null!=b.dataIndex){var f=b.dataModel||g.getSeriesByIndex(b.seriesIndex);c=f&&f.getDataParams(b.dataIndex,b.dataType)||{}}else{b&&b.eventData&&(c=aj.extend({},b.eventData))}}c&&(c.event=d,c.type=a,this.trigger(a,c))},this)},this),aA(a7,function(a,b){this._messageCenter.on(b,function(c){this.trigger(b,c)},this)},this)},al.isDisposed=function(){return this._disposed},al.clear=function(){this.setOption({series:[]},!0)},al.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._api,b=this._model;aA(this._componentsViews,function(c){c.dispose(b,a)}),aA(this._chartsViews,function(c){c.dispose(b,a)}),this._zr.dispose(),delete aH[this.id]}},aj.mixin(a1,ae);var aJ={},a7={},ah=[],aL=[],aM=[],az=[],aK={},aN={},aH={},a2={},ak=new Date-0,aI=new Date-0,aw="_echarts_instance_",an={version:"3.6.1",dependencies:{zrender:"3.5.1"}};an.init=function(d,f,c){var g=an.getInstanceByDom(d);if(g){return g}var b=new a1(d,f,c);return b.id="ec_"+ak++,aH[b.id]=b,d.setAttribute?d.setAttribute(aw,b.id):d[aw]=b.id,aS(b),b},an.connect=function(a){if(aj.isArray(a)){var b=a;a=null,aj.each(b,function(c){null!=c.group&&(a=c.group)}),a=a||"g_"+aI++,aj.each(b,function(c){c.group=a})}return a2[a]=!0,a},an.disConnect=function(a){a2[a]=!1},an.disconnect=an.disConnect,an.dispose=function(a){"string"==typeof a?a=aH[a]:a instanceof a1||(a=an.getInstanceByDom(a)),a instanceof a1&&!a.isDisposed()&&a.dispose()},an.getInstanceByDom=function(a){var b;return b=a.getAttribute?a.getAttribute(aw):a[aw],aH[b]},an.getInstanceById=function(a){return aH[a]},an.registerTheme=function(a,b){aK[a]=b},an.registerPreprocessor=function(a){aL.push(a)},an.registerProcessor=function(a,b){"function"==typeof a&&(b=a,a=aB),ah.push({prio:a,func:b})},an.registerPostUpdate=function(a){aM.push(a)},an.registerAction=function(b,c,a){"function"==typeof c&&(a=c,c="");var d=aj.isObject(b)?b.type:[b,b={event:c}][0];b.event=(b.event||d).toLowerCase(),c=b.event,aj.assert(av.test(d)&&av.test(c)),aJ[d]||(aJ[d]={action:a,actionInfo:b}),a7[c]=d},an.registerCoordinateSystem=function(a,b){ag.register(a,b)},an.registerLayout=function(a,b){"function"==typeof a&&(b=a,a=aa),az.push({prio:a,func:b,isLayout:!0})},an.registerVisual=function(a,b){"function"==typeof a&&(b=a,a=a8),az.push({prio:a,func:b})},an.registerLoading=function(a,b){aN[a]=b},an.extendComponentModel=function(a){return aE.extend(a)},an.extendComponentView=function(a){return aD.extend(a)},an.extendSeriesModel=function(a){return ar.extend(a)},an.extendChartView=function(a){return am.extend(a)},an.setCanvasCreator=function(a){aj.createCanvas=a},an.registerVisual(aY,a9(151)),an.registerPreprocessor(a9(145)),an.registerLoading("default",a9(136)),an.registerAction({type:"highlight",event:"highlight",update:"highlight"},aj.noop),an.registerAction({type:"downplay",event:"downplay",update:"downplay"},aj.noop),an.zrender=aC,an.List=a9(14),an.Model=a9(10),an.Axis=a9(33),an.graphic=a9(3),an.number=a9(4),an.format=a9(7),an.throttle=aP.throttle,an.matrix=a9(19),an.vector=a9(6),an.color=a9(22),an.util={},aA(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(a){an.util[a]=aj[a]}),an.helper=a9(135),an.PRIORITY={PROCESSOR:{FILTER:aB,STATISTIC:ad},VISUAL:{LAYOUT:aa,GLOBAL:aY,CHART:a8,COMPONENT:af,BRUSH:ac}},aV.exports=an},function(G,X,R){function O(a){return null!=a&&"none"!=a}function ab(a){return"string"==typeof a?C.lift(a,-0.1):a}function N(b){if(b.__hoverStlDirty){var f=b.style.stroke,a=b.style.fill,g=b.__hoverStl;g.fill=g.fill||(O(a)?ab(a):null),g.stroke=g.stroke||(O(f)?ab(f):null);var d={};for(var c in g){g.hasOwnProperty(c)&&(d[c]=b.style[c])}b.__normalStl=d,b.__hoverStlDirty=!1}}function J(a){a.__isHover||(N(a),a.useHoverLayer?a.__zr&&a.__zr.addHover(a,a.__hoverStl):(a.setStyle(a.__hoverStl),a.z2+=1),a.__isHover=!0)}function H(a){if(a.__isHover){var b=a.__normalStl;a.useHoverLayer?a.__zr&&a.__zr.removeHover(a):(b&&a.setStyle(b),a.z2-=1),a.__isHover=!1}}function Q(a){"group"===a.type?a.traverse(function(b){"group"!==b.type&&J(b)}):J(a)}function F(a){"group"===a.type?a.traverse(function(b){"group"!==b.type&&H(b)}):H(a)}function Z(a,b){a.__hoverStl=a.hoverStyle||b||{},a.__hoverStlDirty=!0,a.__isHover&&N(a)}function U(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&Q(this)}function Y(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&F(this)}function W(){this.__isEmphasis=!0,Q(this)}function L(){this.__isEmphasis=!1,F(this)}function V(x,m,h,f,v,d){"function"==typeof v&&(d=v,v=null);var b=f&&f.isAnimationEnabled();if(b){var y=x?"Update":"",g=f.getShallow("animationDuration"+y),w=f.getShallow("animationEasing"+y),p=f.getShallow("animationDelay"+y);"function"==typeof p&&(p=p(v,f.getAnimationDelayParams?f.getAnimationDelayParams(m,v):null)),"function"==typeof g&&(g=g(v)),g>0?m.animateTo(h,g,p||0,w,d):(m.stopAnimation(),m.attr(h),d&&d())}else{m.stopAnimation(),m.attr(h),d&&d()}}var P=R(1),E=R(180),z=R(8),C=R(22),ac=R(19),aa=R(6),D=R(58),k=R(11),q=Math.round,B=Math.max,j=Math.min,K={};K.Group=R(36),K.Image=R(53),K.Text=R(86),K.Circle=R(171),K.Sector=R(177),K.Ring=R(176),K.Polygon=R(173),K.Polyline=R(174),K.Rect=R(175),K.Line=R(172),K.BezierCurve=R(170),K.Arc=R(169),K.CompoundPath=R(164),K.LinearGradient=R(100),K.RadialGradient=R(165),K.BoundingRect=k,K.extendShape=function(a){return z.extend(a)},K.extendPath=function(a,b){return E.extendFromString(a,b)},K.makePath=function(x,m,h,f){var v=E.createFromString(x,m),d=v.getBoundingRect();if(h){var b=d.width/d.height;if("center"===f){var y,g=h.height*b;g<=h.width?y=h.height:(g=h.width,y=g/b);var w=h.x+h.width/2,p=h.y+h.height/2;h.x=w-g/2,h.y=p-y/2,h.width=g,h.height=y}K.resizePath(v,h)}return v},K.mergePath=E.mergePath,K.resizePath=function(b,c){if(b.applyTransform){var a=b.getBoundingRect(),d=a.calculateTransform(c);b.applyTransform(d)}},K.subPixelOptimizeLine=function(b){var c=K.subPixelOptimize,a=b.shape,d=b.style.lineWidth;return q(2*a.x1)===q(2*a.x2)&&(a.x1=a.x2=c(a.x1,d,!0)),q(2*a.y1)===q(2*a.y2)&&(a.y1=a.y2=c(a.y1,d,!0)),b},K.subPixelOptimizeRect=function(d){var h=K.subPixelOptimize,c=d.shape,m=d.style.lineWidth,b=c.x,l=c.y,g=c.width,f=c.height;return c.x=h(c.x,m,!0),c.y=h(c.y,m,!0),c.width=Math.max(h(b+g,m,!1)-c.x,0===g?0:1),c.height=Math.max(h(l+f,m,!1)-c.y,0===f?0:1),d},K.subPixelOptimize=function(b,c,a){var d=q(2*b);return(d+q(c))%2===0?d/2:(d+(a?1:-1))/2},K.setHoverStyle=function(b,c,a){b.__hoverSilentOnTouch=a&&a.hoverSilentOnTouch,"group"===b.type?b.traverse(function(d){"group"!==d.type&&Z(d,c)}):Z(b,c),b.on("mouseover",U).on("mouseout",Y),b.on("emphasis",W).on("normal",L)},K.setText=function(d,g,c){var l=g.getShallow("position")||"inside",b=g.getShallow("offset"),h=l.indexOf("inside")>=0?"white":c,f=g.getModel("textStyle");P.extend(d,{textDistance:g.getShallow("distance")||5,textFont:f.getFont(),textPosition:l,textOffset:b,textFill:f.getTextColor()||h})},K.getFont=function(b,c){var a=c&&c.getModel("textStyle");return[b.fontStyle||a&&a.getShallow("fontStyle")||"",b.fontWeight||a&&a.getShallow("fontWeight")||"",(b.fontSize||a&&a.getShallow("fontSize")||12)+"px",b.fontFamily||a&&a.getShallow("fontFamily")||"sans-serif"].join(" ")},K.updateProps=function(d,f,c,g,b){V(!0,d,f,c,g,b)},K.initProps=function(d,f,c,g,b){V(!1,d,f,c,g,b)},K.getTransform=function(b,c){for(var a=ac.identity([]);b&&b!==c;){ac.mul(a,b.getLocalTransform(),a),b=b.parent}return a},K.applyTransform=function(b,c,a){return c&&!P.isArrayLike(c)&&(c=D.getLocalTransform(c)),a&&(c=ac.invert([],c)),aa.applyTransform([],b,c)},K.transformDirection=function(d,f,c){var h=0===f[4]||0===f[5]||0===f[0]?1:Math.abs(2*f[4]/f[0]),b=0===f[4]||0===f[5]||0===f[2]?1:Math.abs(2*f[4]/f[2]),g=["left"===d?-h:"right"===d?h:0,"top"===d?-b:"bottom"===d?b:0];return g=K.applyTransform(g,f,c),Math.abs(g[0])>Math.abs(g[1])?g[0]>0?"right":"left":g[1]>0?"bottom":"top"},K.groupTransition=function(d,g,c,l){function b(a){var i={};return a.traverse(function(e){!e.isGroup&&e.anid&&(i[e.anid]=e)}),i}function h(a){var i={position:aa.clone(a.position),rotation:a.rotation};return a.shape&&(i.shape=P.extend({},a.shape)),i}if(d&&g){var f=b(d);g.traverse(function(a){if(!a.isGroup&&a.anid){var i=f[a.anid];if(i){var m=h(a);a.attr(h(i)),K.updateProps(a,m,c,a.dataIndex)}}})}},K.clipPointsByRect=function(a,b){return P.map(a,function(d){var c=d[0];c=B(c,b.x),c=j(c,b.x+b.width);var e=d[1];return e=B(e,b.y),e=j(e,b.y+b.height),[c,e]})},K.clipRectByRect=function(d,f){var c=B(d.x,f.x),h=j(d.x+d.width,f.x+f.width),b=B(d.y,f.y),g=j(d.y+d.height,f.y+f.height);if(h>=c&&g>=b){return{x:c,y:b,width:h-c,height:g-b}}},G.exports=K},function(d,g){function c(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function j(a){return Math.floor(Math.log(a)/Math.LN10)}var b={},h=0.0001;b.linearMap=function(m,p,l,r){var k=p[1]-p[0],q=l[1]-l[0];if(0===k){return 0===q?l[0]:(l[0]+l[1])/2}if(r){if(k>0){if(m<=p[0]){return l[0]}if(m>=p[1]){return l[1]}}else{if(m>=p[0]){return l[0]}if(m<=p[1]){return l[1]}}}else{if(m===p[0]){return l[0]}if(m===p[1]){return l[1]}}return(m-p[0])/k*q+l[0]},b.parsePercent=function(a,i){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return"string"==typeof a?c(a).match(/%$/)?parseFloat(a)/100*i:parseFloat(a):null==a?NaN:+a},b.round=function(k,l,a){return null==l&&(l=10),l=Math.min(Math.max(0,l),20),k=(+k).toFixed(l),a?k:+k},b.asc=function(a){return a.sort(function(i,k){return i-k}),a},b.getPrecision=function(k){if(k=+k,isNaN(k)){return 0}for(var l=1,a=0;Math.round(k*l)/l!==k;){l*=10,a++}return a},b.getPrecisionSafe=function(m){var o=m.toString(),l=o.indexOf("e");if(l>0){var p=+o.slice(l+1);return p<0?-p:0}var k=o.indexOf(".");return k<0?0:o.length-1-k},b.getPixelPrecision=function(m,q){var l=Math.log,u=Math.LN10,k=Math.floor(l(m[1]-m[0])/u),s=Math.round(l(Math.abs(q[1]-q[0]))/u),p=Math.min(Math.max(-k+s,0),20);return isFinite(p)?p:20},b.MAX_SAFE_INTEGER=9007199254740991,b.remRadian=function(a){var i=2*Math.PI;return(a%i+i)%i},b.isRadianAroundZero=function(a){return a>-h&&a<h};var f=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;b.getTimezoneOffset=function(){return(new Date).getTimezoneOffset()},b.parseDate=function(k){if(k instanceof Date){return k}if("string"==typeof k){var l=f.exec(k);if(!l){return new Date(NaN)}var a=b.getTimezoneOffset(),m=l[8]?"Z"===l[8].toUpperCase()?a:60*+l[8].slice(0,3)+a:0;return new Date((+l[1]),+(l[2]||1)-1,+l[3]||1,+l[4]||0,+(l[5]||0)-m,+l[6]||0,+l[7]||0)}return null==k?new Date(NaN):new Date(Math.round(k))},b.quantity=function(a){return Math.pow(10,j(a))},b.nice=function(m,p){var l,k=j(m),q=Math.pow(10,k),n=m/q;return l=p?n<1.5?1:n<2.5?2:n<4?3:n<7?5:10:n<1?1:n<2?2:n<3?3:n<5?5:10,m=l*q,k>=-20?+m.toFixed(k<0?-k:0):m},b.reformIntervals=function(m){function u(e,a,o){return e.interval[o]<a.interval[o]||e.interval[o]===a.interval[o]&&(e.close[o]-a.close[o]===(o?-1:1)||!o&&u(e,a,1))}m.sort(function(e,a){return u(e,a,0)?-1:1});for(var l=-(1/0),w=1,k=0;k<m.length;){for(var v=m[k].interval,q=m[k].close,p=0;p<2;p++){v[p]<=l&&(v[p]=l,q[p]=p?1:1-w),l=v[p],w=q[p]}v[0]===v[1]&&q[0]*q[1]!==1?m.splice(k,1):k++}return m},b.isNumeric=function(a){return a-parseFloat(a)>=0},d.exports=b},function(q,j,h){function f(a,c){return a&&a.hasOwnProperty(c)}var m=h(7),d=h(4),b=h(10),v=h(1),g=v.each,p=v.isObject,k={};k.normalizeToArray=function(a){return a instanceof Array?a:null==a?[]:[a]},k.defaultEmphasis=function(c,l){if(c){var a=c.emphasis=c.emphasis||{},o=c.normal=c.normal||{};g(l,function(i){var n=v.retrieve(a[i],o[i]);null!=n&&(a[i]=n)})}},k.LABEL_OPTIONS=["position","offset","show","textStyle","distance","formatter"],k.getDataItemValue=function(a){return a&&(null==a.value?a:a.value)},k.isDataItemOption=function(a){return p(a)&&!(a instanceof Array)},k.converDataValue=function(c,l){var a=l&&l.type;return"ordinal"===a?c:("time"===a&&"number"!=typeof c&&null!=c&&"-"!==c&&(c=+d.parseDate(c)),null==c||""===c?NaN:+c)},k.createDataFormatModel=function(c,l){var a=new b;return v.mixin(a,k.dataFormatMixin),a.seriesIndex=l.seriesIndex,a.name=l.name||"",a.mainType=l.mainType,a.subType=l.subType,a.getData=function(){return c},a},k.dataFormatMixin={getDataParams:function(u,y){var c=this.getData(y),A=this.getRawValue(u,y),z=c.getRawIndex(u),x=c.getName(u,!0),w=c.getRawDataItem(u),a=c.getItemVisual(u,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:x,dataIndex:z,data:w,dataType:y,value:A,color:a,marker:m.getTooltipMarker(a),$vars:["seriesName","name","value"]}},getFormattedLabel:function(u,y,c,A){y=y||"normal";var z=this.getData(c),x=z.getItemModel(u),w=this.getDataParams(u,c);null!=A&&w.value instanceof Array&&(w.value=w.value[A]);var a=x.get(["label",y,"formatter"]);return"function"==typeof a?(w.status=y,a(w)):"string"==typeof a?m.formatTpl(a,w):void 0},getRawValue:function(c,l){var a=this.getData(l),o=a.getRawDataItem(c);if(null!=o){return !p(o)||o instanceof Array?o:o.value}},formatTooltip:v.noop},k.mappingToExists=function(c,l){l=(l||[]).slice();var a=v.map(c||[],function(i,n){return{exist:i}});return g(l,function(i,s){if(p(i)){for(var e=0;e<a.length;e++){if(!a[e].option&&null!=i.id&&a[e].exist.id===i.id+""){return a[e].option=i,void (l[s]=null)}}for(var e=0;e<a.length;e++){var r=a[e].exist;if(!(a[e].option||null!=r.id&&null!=i.id||null==i.name||k.isIdInner(i)||k.isIdInner(r)||r.name!==i.name+"")){return a[e].option=i,void (l[s]=null)}}}}),g(l,function(o,r){if(p(o)){for(var s=0;s<a.length;s++){var i=a[s].exist;if(!a[s].option&&!k.isIdInner(i)&&null==o.id){a[s].option=o;break}}s>=a.length&&a.push({option:o})}}),a},k.makeIdAndName=function(a){var c=v.createHashMap();g(a,function(l,e){var o=l.exist;o&&c.set(o.id,l)}),g(a,function(l,e){var o=l.option;v.assert(!o||null==o.id||!c.get(o.id)||c.get(o.id)===l,"id duplicates: "+(o&&o.id)),o&&null!=o.id&&c.set(o.id,l),!l.keyInfo&&(l.keyInfo={})}),g(a,function(s,l){var x=s.exist,e=s.option,w=s.keyInfo;if(p(e)){if(w.name=null!=e.name?e.name+"":x?x.name:"\0-",x){w.id=x.id}else{if(null!=e.id){w.id=e.id+""}else{var u=0;do{w.id="\0"+w.name+"\0"+u++}while(c.get(w.id))}}c.set(w.id,s)}})},k.isIdInner=function(a){return p(a)&&a.id&&0===(a.id+"").indexOf("\0_ec_\0")},k.compressBatches=function(r,s){function l(G,D,B){for(var z=0,E=G.length;z<E;z++){for(var y=G[z].seriesId,x=k.normalizeToArray(G[z].dataIndex),H=B&&B[y],A=0,F=x.length;A<F;A++){var C=x[A];H&&H[C]?H[C]=null:(D[y]||(D[y]={}))[C]=1}}}function w(y,z){var x=[];for(var n in y){if(y.hasOwnProperty(n)&&null!=y[n]){if(z){x.push(+n)}else{var A=w(y[n],!0);A.length&&x.push({seriesId:n,dataIndex:A})}}}return x}var c={},u={};return l(r||[],c),l(s||[],u,c),[w(c),w(u)]},k.queryDataIndex=function(a,c){return null!=c.dataIndexInside?c.dataIndexInside:null!=c.dataIndex?v.isArray(c.dataIndex)?v.map(c.dataIndex,function(i){return a.indexOfRawIndex(i)}):a.indexOfRawIndex(c.dataIndex):null!=c.name?v.isArray(c.name)?v.map(c.name,function(i){return a.indexOfName(i)}):a.indexOfName(c.name):void 0},k.makeGetter=function(){var a=0;return function(){var c="\0__ec_prop_getter_"+a++;return function(e){return e[c]||(e[c]={})}}}(),k.parseFinder=function(n,u,l){if(v.isString(u)){var c={};c[u+"Index"]=0,u=c}var w=l&&l.defaultMainType;!w||f(u,w+"Index")||f(u,w+"Id")||f(u,w+"Name")||(u[w+"Index"]=0);var s={};return g(u,function(z,i){var z=u[i];if("dataIndex"===i||"dataIndexInside"===i){return void (s[i]=z)}var x=i.match(/^(\w+)(Index|Id|Name)$/)||[],e=x[1],r=(x[2]||"").toLowerCase();if(!(!e||!r||null==z||"index"===r&&"none"===z||l&&l.includeMainTypes&&v.indexOf(l.includeMainTypes,e)<0)){var y={mainType:e};"index"===r&&"all"===z||(y[r]=z);var t=n.queryComponents(y);s[e+"Models"]=t,s[e+"Model"]=t[0]}}),s},k.dataDimToCoordDim=function(o,r){var l=o.dimensions;r=o.getDimension(r);for(var s=0;s<l.length;s++){var c=o.getDimensionInfo(l[s]);if(c.name===r){return c.coordDim}}},k.coordDimToDataDim=function(c,l){var a=[];return g(c.dimensions,function(i){var e=c.getDimensionInfo(i);e.coordDim===l&&(a[e.coordDimIndex]=e.name)}),a},k.otherDimToDataDim=function(c,l){var a=[];return g(c.dimensions,function(t){var e=c.getDimensionInfo(t),s=e.otherDims,i=s[l];null!=i&&i!==!1&&(a[i]=e.name)}),a},q.exports=k},function(b,c){var a="undefined"==typeof Float32Array?Array:Float32Array,d={create:function(f,g){var h=new a(2);return null==f&&(f=0),null==g&&(g=0),h[0]=f,h[1]=g,h},copy:function(f,g){return f[0]=g[0],f[1]=g[1],f},clone:function(f){var g=new a(2);return g[0]=f[0],g[1]=f[1],g},set:function(g,h,f){return g[0]=h,g[1]=f,g},add:function(g,h,f){return g[0]=h[0]+f[0],g[1]=h[1]+f[1],g},scaleAndAdd:function(g,h,f,j){return g[0]=h[0]+f[0]*j,g[1]=h[1]+f[1]*j,g},sub:function(g,h,f){return g[0]=h[0]-f[0],g[1]=h[1]-f[1],g},len:function(e){return Math.sqrt(this.lenSquare(e))},lenSquare:function(e){return e[0]*e[0]+e[1]*e[1]},mul:function(g,h,f){return g[0]=h[0]*f[0],g[1]=h[1]*f[1],g},div:function(g,h,f){return g[0]=h[0]/f[0],g[1]=h[1]/f[1],g},dot:function(f,g){return f[0]*g[0]+f[1]*g[1]},scale:function(g,h,f){return g[0]=h[0]*f,g[1]=h[1]*f,g},normalize:function(g,h){var f=d.len(h);return 0===f?(g[0]=0,g[1]=0):(g[0]=h[0]/f,g[1]=h[1]/f),g},distance:function(f,g){return Math.sqrt((f[0]-g[0])*(f[0]-g[0])+(f[1]-g[1])*(f[1]-g[1]))},distanceSquare:function(f,g){return(f[0]-g[0])*(f[0]-g[0])+(f[1]-g[1])*(f[1]-g[1])},negate:function(f,g){return f[0]=-g[0],f[1]=-g[1],f},lerp:function(g,h,f,j){return g[0]=h[0]+j*(f[0]-h[0]),g[1]=h[1]+j*(f[1]-h[1]),g},applyTransform:function(h,j,g){var k=j[0],f=j[1];return h[0]=g[0]*k+g[2]*f+g[4],h[1]=g[1]*k+g[3]*f+g[5],h},min:function(g,h,f){return g[0]=Math.min(h[0],f[0]),g[1]=Math.min(h[1],f[1]),g},max:function(g,h,f){return g[0]=Math.max(h[0],f[0]),g[1]=Math.max(h[1],f[1]),g}};d.length=d.len,d.lengthSquare=d.lenSquare,d.dist=d.distance,d.distSquare=d.distanceSquare,b.exports=d},function(q,j,h){var f=h(1),m=h(4),d=h(16),b={};b.addCommas=function(a){return isNaN(a)?"-":(a=(a+"").split("."),a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:""))},b.toCamelCase=function(a,c){return a=(a||"").toLowerCase().replace(/-(.)/g,function(i,l){return l.toUpperCase()}),c&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a},b.normalizeCssArray=function(a){var c=a.length;return"number"==typeof a?[a,a,a,a]:2===c?[a[0],a[1],a[0],a[1]]:3===c?[a[0],a[1],a[2],a[1]]:a};var v=b.encodeHTML=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},g=["a","b","c","d","e","f","g"],p=function(a,c){return"{"+a+(null==c?"":c)+"}"};b.formatTpl=function(B,x,s){f.isArray(x)||(x=[x]);var A=x.length;if(!A){return""}for(var n=x[0].$vars||[],l=0;l<n.length;l++){var z=g[l],u=p(z,0);B=B.replace(p(z),s?v(u):u)}for(var y=0;y<A;y++){for(var w=0;w<n.length;w++){var u=x[y][n[w]];B=B.replace(p(g[w],y),s?v(u):u)}}return B},b.formatTplSimple=function(c,l,a){return f.each(l,function(i,o){c=c.replace("{"+o+"}",a?v(i):i)}),c},b.getTooltipMarker=function(a,c){return a?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+b.encodeHTML(a)+";"+(c||"")+'"></span>':""};var k=function(a){return a<10?"0"+a:a};b.formatTime=function(D,A,y){"week"!==D&&"month"!==D&&"quarter"!==D&&"half-year"!==D&&"year"!==D||(D="MM-dd\nyyyy");var w=m.parseDate(A),c=y?"UTC":"",a=w["get"+c+"FullYear"](),E=w["get"+c+"Month"]()+1,x=w["get"+c+"Date"](),C=w["get"+c+"Hours"](),z=w["get"+c+"Minutes"](),B=w["get"+c+"Seconds"]();return D=D.replace("MM",k(E)).toLowerCase().replace("yyyy",a).replace("yy",a%100).replace("dd",k(x)).replace("d",x).replace("hh",k(C)).replace("h",C).replace("mm",k(z)).replace("m",z).replace("ss",k(B)).replace("s",B)},b.capitalFirst=function(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a},b.truncateText=d.truncateText,q.exports=b},function(w,m,j){function f(a){q.call(this,a),this.path=null}var q=j(38),d=j(1),b=j(27),x=j(161),g=j(72),v=g.prototype.getCanvasPattern,p=Math.abs,k=new b((!0));f.prototype={constructor:f,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(M,G){var D=this.style,A=this.path||k,K=D.hasStroke(),z=D.hasFill(),h=D.fill,N=D.stroke,C=z&&!!h.colorStops,I=K&&!!N.colorStops,H=z&&!!h.image,F=K&&!!N.image;if(D.bind(M,this,G),this.setTransform(M),this.__dirty){var u;C&&(u=u||this.getBoundingRect(),this._fillGradient=D.getGradient(M,h,u)),I&&(u=u||this.getBoundingRect(),this._strokeGradient=D.getGradient(M,N,u))}C?M.fillStyle=this._fillGradient:H&&(M.fillStyle=v.call(h,M)),I?M.strokeStyle=this._strokeGradient:F&&(M.strokeStyle=v.call(N,M));var E=D.lineDash,B=D.lineDashOffset,L=!!M.setLineDash,J=this.getGlobalScale();A.setScale(J[0],J[1]),this.__dirtyPath||E&&!L&&K?(A.beginPath(M),E&&!L&&(A.setLineDash(E),A.setLineDashOffset(B)),this.buildPath(A,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(M.beginPath(),this.path.rebuildPath(M)),z&&A.fill(M),E&&L&&(M.setLineDash(E),M.lineDashOffset=B),K&&A.stroke(M),E&&L&&M.setLineDash([]),this.restoreTransform(M),null!=D.text&&this.drawRectText(M,this.getBoundingRect())},buildPath:function(c,h,a){},createPathProxy:function(){this.path=new b},getBoundingRect:function(){var l=this._rect,u=this.style,h=!l;if(h){var z=this.path;z||(z=this.path=new b),this.__dirtyPath&&(z.beginPath(),this.buildPath(z,this.shape,!1)),l=z.getBoundingRect()}if(this._rect=l,u.hasStroke()){var c=this._rectWithStroke||(this._rectWithStroke=l.clone());if(this.__dirty||h){c.copy(l);var y=u.lineWidth,r=u.strokeNoScale?this.getLineScale():1;u.hasFill()||(y=Math.max(y,this.strokeContainThreshold||4)),r>1e-10&&(c.width+=y/r,c.height+=y/r,c.x-=y/r/2,c.y-=y/r/2)}return c}return l},contain:function(u,z){var s=this.transformCoordToLocal(u,z),B=this.getBoundingRect(),h=this.style;if(u=s[0],z=s[1],B.contain(u,z)){var A=this.path.data;if(h.hasStroke()){var y=h.lineWidth,c=h.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(h.hasFill()||(y=Math.max(y,this.strokeContainThreshold)),x.containStroke(A,y/c,u,z))){return !0}}if(h.hasFill()){return x.contain(A,u,z)}}return !1},dirty:function(a){null==a&&(a=!0),a&&(this.__dirtyPath=a,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,c){"shape"===a?(this.setShape(c),this.__dirtyPath=!0,this._rect=null):q.prototype.attrKV.call(this,a,c)},setShape:function(c,h){var a=this.shape;if(a){if(d.isObject(c)){for(var l in c){c.hasOwnProperty(l)&&(a[l]=c[l])}}else{a[c]=h}this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&p(a[0]-1)>1e-10&&p(a[3]-1)>1e-10?Math.sqrt(p(a[0]*a[3]-a[2]*a[1])):1}},f.extend=function(c){var h=function(r){f.call(this,r),c.style&&this.style.extendFrom(c.style,!1);var n=c.shape;if(n){this.shape=this.shape||{};var l=this.shape;for(var s in n){!l.hasOwnProperty(s)&&n.hasOwnProperty(s)&&(l[s]=n[s])}}c.init&&c.init.call(this,r)};d.inherits(h,f);for(var a in c){"style"!==a&&"shape"!==a&&(h.prototype[a]=c[a])}return h},d.inherits(f,q),w.exports=f},function(b,c){function a(h){var k={},g={},m=h.match(/Firefox\/([\d.]+)/),f=h.match(/MSIE\s([\d.]+)/)||h.match(/Trident\/.+?rv:(([\d.]+))/),l=h.match(/Edge\/([\d.]+)/),j=/micromessenger/i.test(h);return m&&(g.firefox=!0,g.version=m[1]),f&&(g.ie=!0,g.version=f[1]),l&&(g.edge=!0,g.version=l[1]),j&&(g.weChat=!0),{browser:g,os:k,node:!1,canvasSupported:!!document.createElement("canvas").getContext,touchEventsSupported:"ontouchstart" in window&&!g.ie&&!g.edge,pointerEventsSupported:"onpointerdown" in window&&(g.edge||g.ie&&g.version>=11)}}var d={};d="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:a(navigator.userAgent),b.exports=d},function(m,h,g){function d(l,n,a){this.parentModel=n,this.ecModel=a,this.option=l}function j(l,o,a){for(var q=0;q<o.length&&(!o[q]||(l=l&&"object"==typeof l?l[o[q]]:null,null!=l));q++){}return null==l&&a&&(l=a.get(o)),l}function c(l,n){var a=p.get(l,"getParent");return a?a.call(l,n):l.parentModel}var b=g(1),p=g(15),f=g(9);d.prototype={constructor:d,init:null,mergeOption:function(a){b.merge(this.option,a,!0)},get:function(a,i){return null==a?this.option:j(this.option,this.parsePath(a),!i&&c(this,a))},getShallow:function(q,r){var o=this.option,s=null==o?o:o[q],l=!r&&c(this,q);return null==s&&l&&(s=l.getShallow(q)),s},getModel:function(l,o){var a,n=null==l?this.option:j(this.option,l=this.parsePath(l));return o=o||(a=c(this,l))&&a.getModel(l),new d(n,o,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var a=this.constructor;return new a(b.clone(this.option))},setReadOnly:function(a){p.setReadOnly(this,a)},parsePath:function(a){return"string"==typeof a&&(a=a.split(".")),a},customizeGetParent:function(a){p.set(this,"getParent",a)},isAnimationEnabled:function(){if(!f.node){if(null!=this.option.animation){return !!this.option.animation}if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}},p.enableClassExtend(d);var k=b.mixin;k(d,g(143)),k(d,g(140)),k(d,g(144)),k(d,g(142)),m.exports=d},function(k,h,g){function d(l,o,a,p){a<0&&(l+=a,a=-a),p<0&&(o+=p,p=-p),this.x=l,this.y=o,this.width=a,this.height=p}var j=g(6),c=g(19),b=j.applyTransform,m=Math.min,f=Math.max;d.prototype={constructor:d,union:function(l){var n=m(l.x,this.x),a=m(l.y,this.y);this.width=f(l.x+l.width,this.x+this.width)-n,this.height=f(l.y+l.height,this.y+this.height)-a,this.x=n,this.y=a},applyTransform:function(){var l=[],o=[],a=[],p=[];return function(e){if(e){l[0]=a[0]=this.x,l[1]=p[1]=this.y,o[0]=p[0]=this.x+this.width,o[1]=a[1]=this.y+this.height,b(l,l,e),b(o,o,e),b(a,a,e),b(p,p,e),this.x=m(l[0],o[0],a[0],p[0]),this.y=m(l[1],o[1],a[1],p[1]);var n=f(l[0],o[0],a[0],p[0]),i=f(l[1],o[1],a[1],p[1]);this.width=n-this.x,this.height=i-this.y}}}(),calculateTransform:function(p){var q=this,o=p.width/q.width,r=p.height/q.height,l=c.create();return c.translate(l,l,[-q.x,-q.y]),c.scale(l,l,[o,r]),c.translate(l,l,[p.x,p.y]),l},intersect:function(A){if(!A){return !1}A instanceof d||(A=d.create(A));var w=this,v=w.x,y=w.x+w.width,p=w.y,n=w.y+w.height,B=A.x,q=A.x+A.width,z=A.y,x=A.y+A.height;return !(y<B||q<v||n<z||x<p)},contain:function(l,n){var a=this;return l>=a.x&&l<=a.x+a.width&&n>=a.y&&n<=a.y+a.height},clone:function(){return new d(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},d.create=function(a){return new d(a.x,a.y,a.width,a.height)},k.exports=d},function(y,p,k){function g(h,A,d,C,c){var B=0,u=0;null==C&&(C=1/0),null==c&&(c=1/0);var l=0;A.eachChild(function(i,E){var t,n,s=i.position,r=i.getBoundingRect(),a=A.childAt(E+1),o=a&&a.getBoundingRect();if("horizontal"===h){var e=r.width+(o?-o.x+r.x:0);t=B+e,t>C||i.newline?(B=0,t=e,u+=l+d,l=r.height):l=Math.max(l,r.height)}else{var D=r.height+(o?-o.y+r.y:0);n=u+D,n>c||i.newline?(B+=l+d,u=0,n=D,l=r.width):l=Math.max(l,r.width)}i.newline||(s[0]=B,s[1]=u,"horizontal"===h?B=t+d:u=n+d)})}var w=k(1),f=k(11),b=k(4),z=k(7),j=b.parsePercent,x=w.each,v={},m=v.LOCATION_PARAMS=["left","right","top","bottom","width","height"],q=v.HV_NAMES=[["width","left","right"],["height","top","bottom"]];v.box=g,v.vbox=w.curry(g,"vertical"),v.hbox=w.curry(g,"horizontal"),v.getAvailableSize=function(E,A,s){var l=A.width,C=A.height,h=j(E.x,l),d=j(E.y,C),D=j(E.x2,l),B=j(E.y2,C);return(isNaN(h)||isNaN(parseFloat(E.x)))&&(h=0),(isNaN(D)||isNaN(parseFloat(E.x2)))&&(D=l),(isNaN(d)||isNaN(parseFloat(E.y)))&&(d=0),(isNaN(B)||isNaN(parseFloat(E.y2)))&&(B=C),s=z.normalizeCssArray(s||0),{width:Math.max(D-h-s[1]-s[3],0),height:Math.max(B-d-s[0]-s[2],0)}},v.getLayoutRect=function(L,F,B){B=z.normalizeCssArray(B||0);var s=F.width,I=F.height,l=j(L.left,s),K=j(L.top,I),H=j(L.right,s),C=j(L.bottom,I),G=j(L.width,s),E=j(L.height,I),o=B[2]+B[0],D=B[1]+B[3],A=L.aspect;switch(isNaN(G)&&(G=s-H-D-l),isNaN(E)&&(E=I-C-o-K),isNaN(G)&&isNaN(E)&&(A>s/I?G=0.8*s:E=0.8*I),null!=A&&(isNaN(G)&&(G=A*E),isNaN(E)&&(E=G/A)),isNaN(l)&&(l=s-H-G-D),isNaN(K)&&(K=I-C-E-o),L.left||L.right){case"center":l=s/2-G/2-B[3];break;case"right":l=s-G-D}switch(L.top||L.bottom){case"middle":case"center":K=I/2-E/2-B[0];break;case"bottom":K=I-E-o}l=l||0,K=K||0,isNaN(G)&&(G=s-l-(H||0)),isNaN(E)&&(E=I-K-(C||0));var J=new f(l+B[3],K+B[0],G,E);return J.margin=B,J},v.positionElement=function(I,F,B,o,a){var J=!a||!a.hv||a.hv[0],A=!a||!a.hv||a.hv[1],H=a&&a.boundingMode||"all";if(J||A){var C;if("raw"===H){C="group"===I.type?new f(0,0,+F.width||0,+F.height||0):I.getBoundingRect()}else{if(C=I.getBoundingRect(),I.needLocalTransform()){var G=I.getLocalTransform();C=C.clone(),C.applyTransform(G)}}F=v.getLayoutRect(w.defaults({width:C.width,height:C.height},F),B,o);var E=I.position,c=J?F.x-C.x:0,D=A?F.y-C.y:0;I.attr("position","raw"===H?[c,D]:[E[0]+c,E[1]+D])}},v.sizeCalculable=function(a,c){return null!=a[q[c][0]]||null!=a[q[c][1]]&&null!=a[q[c][2]]},v.mergeLayoutParam=function(F,D,B){function u(o,l){var J={},K=0,I={},r=0,H=2;if(x(o,function(c){I[c]=F[c]}),x(o,function(c){d(D,c)&&(J[c]=I[c]=D[c]),a(J,c)&&K++,a(I,c)&&r++}),A[l]){return a(D,o[1])?I[o[2]]=null:a(D,o[2])&&(I[o[1]]=null),I}if(r!==H&&K){if(K>=H){return J}for(var t=0;t<o.length;t++){var e=o[t];if(!d(J,e)&&d(F,e)){J[e]=F[e];break}}return J}return I}function d(c,h){return c.hasOwnProperty(h)}function a(c,h){return null!=c[h]&&"auto"!==c[h]}function G(h,l,c){x(h,function(e){l[e]=c[e]})}!w.isObject(B)&&(B={});var A=B.ignoreSize;!w.isArray(A)&&(A=[A,A]);var E=u(q[0],0),C=u(q[1],1);G(q[0],F,E),G(q[1],F,C)},v.getLayoutParams=function(a){return v.copyLayoutParams({},a)},v.copyLayoutParams=function(a,c){return c&&a&&x(m,function(d){c.hasOwnProperty(d)&&(a[d]=c[d])}),a},y.exports=v},function(q,j,h){function f(a){var c=[];return d.each(k.getClassesByMainType(a),function(e){b.apply(c,e.prototype.dependencies||[])}),d.map(c,function(e){return g.parseClassType(e).main})}var m=h(10),d=h(1),b=Array.prototype.push,v=h(49),g=h(15),p=h(12),k=m.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(c,l,a,o){m.call(this,c,l,a,o),this.uid=v.getUID("componentModel")},init:function(c,l,a,o){this.mergeDefaultAndTheme(c,a)},mergeDefaultAndTheme:function(o,r){var l=this.layoutMode,s=l?p.getLayoutParams(o):{},c=r.getTheme();d.merge(o,c.get(this.mainType)),d.merge(o,this.getDefaultOption()),l&&p.mergeLayoutParam(o,s,l)},mergeOption:function(c,l){d.merge(this.option,c,!0);var a=this.layoutMode;a&&p.mergeLayoutParam(this.option,c,a)},optionUpdated:function(a,c){},getDefaultOption:function(){if(!g.hasOwn(this,"__defaultOption")){for(var o=[],r=this.constructor;r;){var l=r.prototype.defaultOption;l&&o.push(l),r=r.superClass}for(var s={},c=o.length-1;c>=0;c--){s=d.merge(s,o[c],!0)}g.set(this,"__defaultOption",s)}return g.get(this,"__defaultOption")},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}});g.enableClassManagement(k,{registerWhenExtend:!0}),v.enableSubTypeDefaulter(k),v.enableTopologicalTravel(k,f),d.mixin(k,h(141)),q.exports=k},function(b,c,a){(function(H){function B(d,f){z.each(k.concat(f.__wrappedMethods||[]),function(e){f.hasOwnProperty(e)&&(d[e]=f[e])}),d.__wrappedMethods=f.__wrappedMethods}function K(d){this._array=d||[]}function A(d){return z.isArray(d)||(d=[d]),d}function w(v,m){var h=v.dimensions,n=new i(z.map(h,v.getDimensionInfo,v),v.hostModel);B(n,v);for(var f=n._storage={},d=v._storage,x=0;x<h.length;x++){var g=h[x],p=d[g];z.indexOf(m,g)>=0?f[g]=new p.constructor(d[g].length):f[g]=d[g]}return n}var t="undefined",D="undefined"==typeof window?H:window,q=typeof D.Float64Array===t?Array:D.Float64Array,J=typeof D.Int32Array===t?Array:D.Int32Array,E={"float":q,"int":J,ordinal:Array,number:Array,time:Array},I=a(10),G=a(48),z=a(1),F=a(5),C=z.isObject,k=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];K.prototype.pure=!1,K.prototype.count=function(){return this._array.length},K.prototype.getItem=function(d){return this._array[d]};var i=function(g,l){g=g||["x","y"];for(var f={},p=[],d=0;d<g.length;d++){var m,h={};"string"==typeof g[d]?(m=g[d],h={name:m,coordDim:m,coordDimIndex:0,stackable:!1,type:"number"}):(h=g[d],m=h.name,h.type=h.type||"number",h.coordDim||(h.coordDim=m,h.coordDimIndex=0)),h.otherDims=h.otherDims||{},p.push(m),f[m]=h}this.dimensions=p,this._dimensionInfos=f,this.hostModel=l,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},j=i.prototype;j.type="list",j.hasItemOption=!0,j.getDimension=function(d){return isNaN(d)||(d=this.dimensions[d]||d),d},j.getDimensionInfo=function(d){return z.clone(this._dimensionInfos[this.getDimension(d)])},j.initData=function(T,ac,aa){T=T||[];var X=z.isArray(T);X&&(T=new K(T)),this._rawData=T;var W,V=this._storage={},U=this.indices=[],Z=this.dimensions,R=this._dimensionInfos,ae=T.count(),ad=[],ab={};ac=ac||[];for(var Y=0;Y<Z.length;Y++){var Q=R[Z[Y]];0===Q.otherDims.itemName&&(W=Y);var p=E[Q.type];V[Z[Y]]=new p(ae)}var O=this;aa||(O.hasItemOption=!1),aa=aa||function(l,m,f,o){var d=F.getDataItemValue(l);return F.isDataItemOption(l)&&(O.hasItemOption=!0),F.converDataValue(d instanceof Array?d[o]:d,R[m])};for(var Y=0;Y<ae;Y++){for(var ag=T.getItem(Y),af=0;af<Z.length;af++){var P=Z[af],g=V[P];g[Y]=aa(ag,P,Y,af)}U.push(Y)}for(var Y=0;Y<ae;Y++){var ag=T.getItem(Y);!ac[Y]&&ag&&(null!=ag.name?ac[Y]=ag.name:null!=W&&(ac[Y]=V[Z[W]][Y]));var h=ac[Y]||"",N=ag&&ag.id;!N&&h&&(ab[h]=ab[h]||0,N=h,ab[h]>0&&(N+="__ec__"+ab[h]),ab[h]++),N&&(ad[Y]=N)}this._nameList=ac,this._idList=ad},j.count=function(){return this.indices.length},j.get=function(v,p,m){var g=this._storage,u=this.indices[p];if(null==u||!g[v]){return NaN}var f=g[v][u];if(m){var d=this._dimensionInfos[v];if(d&&d.stackable){for(var x=this.stackedOn;x;){var h=x.get(v,p);(f>=0&&h>0||f<=0&&h<0)&&(f+=h),x=x.stackedOn}}}return f},j.getValues=function(g,h,f){var m=[];z.isArray(g)||(f=h,h=g,g=this.dimensions);for(var d=0,l=g.length;d<l;d++){m.push(this.get(g[d],h,f))}return m},j.hasValue=function(g){for(var h=this.dimensions,f=this._dimensionInfos,l=0,d=h.length;l<d;l++){if("ordinal"!==f[h[l]].type&&isNaN(this.get(h[l],g))){return !1}}return !0},j.getDataExtent=function(M,p,m){M=this.getDimension(M);var g=this._storage[M],x=this.getDimensionInfo(M);p=x&&x.stackable&&p;var f,d=(this._extent||(this._extent={}))[M+!!p];if(d){return d}if(g){for(var N=1/0,h=-(1/0),y=0,v=this.count();y<v;y++){f=this.get(M,y,p),m&&!m(f,M,y)||(f<N&&(N=f),f>h&&(h=f))}return this._extent[M+!!p]=[N,h]}return[1/0,-(1/0)]},j.getSum=function(g,l){var f=this._storage[g],p=0;if(f){for(var d=0,m=this.count();d<m;d++){var h=this.get(g,d,l);isNaN(h)||(p+=h)}}return p},j.indexOf=function(g,m){var f=this._storage,u=f[g],d=this.indices;if(u){for(var p=0,l=d.length;p<l;p++){var h=d[p];if(u[h]===m){return p}}}return -1},j.indexOfName=function(g){for(var h=this.indices,f=this._nameList,m=0,d=h.length;m<d;m++){var l=h[m];if(f[l]===g){return m}}return -1},j.indexOfRawIndex=function(g){var h=this.indices,f=h[g];if(null!=f&&f===g){return g}for(var m=0,d=h.length-1;m<=d;){var l=(m+d)/2|0;if(h[l]<g){m=l+1}else{if(!(h[l]>g)){return l}d=l-1}}return -1},j.indicesOfNearest=function(Q,y,v,m){var O=this._storage,g=O[Q],f=[];if(!g){return f}null==m&&(m=1/0);for(var R=Number.MAX_VALUE,p=-1,P=0,N=this.count();P<N;P++){var x=y-this.get(Q,P,v),M=Math.abs(x);x<=m&&M<=R&&((M<R||x>=0&&p<0)&&(R=M,p=x,f.length=0),f.push(P))}return f},j.getRawIndex=function(d){var f=this.indices[d];return null==f?-1:f},j.getRawDataItem=function(d){return this._rawData.getItem(this.getRawIndex(d))},j.getName=function(d){return this._nameList[this.indices[d]]||""},j.getId=function(d){return this._idList[this.indices[d]]||this.getRawIndex(d)+""},j.each=function(v,m,h,f){"function"==typeof v&&(f=h,h=m,m=v,v=[]),v=z.map(A(v),this.getDimension,this);var o=[],d=v.length,x=this.indices;f=f||this;for(var g=0;g<x.length;g++){switch(d){case 0:m.call(f,g);break;case 1:m.call(f,this.get(v[0],g,h),g);break;case 2:m.call(f,this.get(v[0],g,h),this.get(v[1],g,h),g);break;default:for(var p=0;p<d;p++){o[p]=this.get(v[p],g,h)}o[p]=g,m.apply(f,o)}}},j.filterSelf=function(M,p,m,f){"function"==typeof M&&(f=m,m=p,p=M,M=[]),M=z.map(A(M),this.getDimension,this);var x=[],d=[],N=M.length,g=this.indices;f=f||this;for(var y=0;y<g.length;y++){var v;if(N){if(1===N){v=p.call(f,this.get(M[0],y,m),y)}else{for(var o=0;o<N;o++){d[o]=this.get(M[o],y,m)}d[o]=y,v=p.apply(f,d)}}else{v=p.call(f,y)}v&&x.push(g[y])}return this.indices=x,this._extent={},this},j.mapArray=function(g,h,f,l){"function"==typeof g&&(l=f,f=h,h=g,g=[]);var d=[];return this.each(g,function(){d.push(h&&h.apply(this,arguments))},f,l),d},j.map=function(m,p,h,r){m=z.map(A(m),this.getDimension,this);var f=w(this,m),o=f.indices=this.indices,d=f._storage,g=[];return this.each(m,function(){var l=arguments[arguments.length-1],x=p&&p.apply(this,arguments);if(null!=x){"number"==typeof x&&(g[0]=x,x=g);for(var e=0;e<x.length;e++){var u=m[e],s=d[u],v=o[l];s&&(s[v]=x[e])}}},h,r),f},j.downSample=function(N,Y,U,R){for(var ab=w(this,[N]),Q=this._storage,O=ab._storage,T=this.indices,M=ab.indices=[],aa=[],V=[],Z=Math.floor(1/Y),X=O[N],P=this.count(),W=0;W<Q[N].length;W++){O[N][W]=Q[N][W]}for(var W=0;W<P;W+=Z){Z>P-W&&(Z=P-W,aa.length=Z);for(var S=0;S<Z;S++){var x=T[W+S];aa[S]=X[x],V[S]=x}var r=U(aa),x=V[R(aa,r)||0];X[x]=r,M.push(x)}return ab},j.getItemModel=function(d){var f=this.hostModel;return d=this.indices[d],new I(this._rawData.getItem(d),f,f&&f.ecModel)},j.diff=function(g){var h,f=this._idList,l=g&&g._idList,d="e\0\0";return new G(g?g.indices:[],this.indices,function(e){return null!=(h=l[e])?h:d+e},function(e){return null!=(h=f[e])?h:d+e})},j.getVisual=function(d){var f=this._visual;return f&&f[d]},j.setVisual=function(f,g){if(C(f)){for(var d in f){f.hasOwnProperty(d)&&this.setVisual(d,f[d])}}else{this._visual=this._visual||{},this._visual[f]=g}},j.setLayout=function(f,g){if(C(f)){for(var d in f){f.hasOwnProperty(d)&&this.setLayout(d,f[d])}}else{this._layout[f]=g}},j.getLayout=function(d){return this._layout[d]},j.getItemLayout=function(d){return this._itemLayouts[d]},j.setItemLayout=function(f,g,d){this._itemLayouts[f]=d?z.extend(this._itemLayouts[f]||{},g):g},j.clearItemLayouts=function(){this._itemLayouts.length=0},j.getItemVisual=function(g,h,f){var l=this._itemVisuals[g],d=l&&l[h];return null!=d||f?d:this.getVisual(h)},j.setItemVisual=function(g,h,f){var l=this._itemVisuals[g]||{};if(this._itemVisuals[g]=l,C(h)){for(var d in h){h.hasOwnProperty(d)&&(l[d]=h[d])}}else{l[h]=f}},j.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var L=function(d){d.seriesIndex=this.seriesIndex,d.dataIndex=this.dataIndex,d.dataType=this.dataType};j.setItemGraphicEl=function(f,g){var d=this.hostModel;g&&(g.dataIndex=f,g.dataType=this.dataType,g.seriesIndex=d&&d.seriesIndex,"group"===g.type&&g.traverse(L,g)),this._graphicEls[f]=g},j.getItemGraphicEl=function(d){return this._graphicEls[d]},j.eachItemGraphicEl=function(d,f){z.each(this._graphicEls,function(e,g){e&&d&&d.call(f,e,g)})},j.cloneShallow=function(){var d=z.map(this.dimensions,this.getDimensionInfo,this),f=new i(d,this.hostModel);return f._storage=this._storage,B(f,this),f.indices=this.indices.slice(),this._extent&&(f._extent=z.extend({},this._extent)),f},j.wrapMethod=function(f,g){var d=this[f];"function"==typeof d&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(f),this[f]=function(){var e=d.apply(this,arguments);return g.apply(this,[e].concat(z.slice(arguments)))})},j.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],j.CHANGABLE_METHODS=["filterSelf"],b.exports=i}).call(c,function(){return this}())},function(w,m,j){function f(a){b.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function q(c,h){var a=b.slice(arguments,2);return this.superClass.prototype[h].apply(c,a)}function d(c,h,a){return this.superClass.prototype[h].apply(c,a)}var b=j(1),x={},g=".",v="___EC__COMPONENT__CONTAINER___",p="\0ec_\0";x.set=function(c,h,a){return c[p+h]=a},x.get=function(a,c){return a[p+c]},x.hasOwn=function(a,c){return a.hasOwnProperty(p+c)};var k=x.parseClassType=function(a){var c={main:"",sub:""};return a&&(a=a.split(g),c.main=a[0]||"",c.sub=a[1]||""),c};x.enableClassExtend=function(a,c){a.$constructor=a,a.extend=function(l){var n=this,h=function(){l.$constructor?l.$constructor.apply(this,arguments):n.apply(this,arguments)};return b.extend(h.prototype,l),h.extend=this.extend,h.superCall=q,h.superApply=d,b.inherits(h,this),h.superClass=n,h}},x.enableClassManagement=function(l,n){function h(a){var i=c[a.main];return i&&i[v]||(i=c[a.main]={},i[v]=!0),i}n=n||{};var c={};if(l.registerClass=function(a,i){if(i){if(f(i),i=k(i),i.sub){if(i.sub!==v){var s=h(i);s[i.sub]=a}}else{c[i.main]=a}}return a},l.getClass=function(o,s,a){var u=c[o];if(u&&u[v]&&(u=s?u[s]:null),a&&!u){throw new Error(s?"Component "+o+"."+(s||"")+" not exists. Load it first.":o+".type should be specified.")}return u},l.getClassesByMainType=function(o){o=k(o);var s=[],a=c[o.main];return a&&a[v]?b.each(a,function(u,e){e!==v&&s.push(u)}):s.push(a),s},l.hasClass=function(a){return a=k(a),!!c[a.main]},l.getAllClassMainTypes=function(){var a=[];return b.each(c,function(s,o){a.push(o)}),a},l.hasSubTypes=function(a){a=k(a);var i=c[a.main];return i&&i[v]},l.parseClassType=k,n.registerWhenExtend){var r=l.extend;r&&(l.extend=function(o){var a=r.call(this,o);return l.registerClass(a,o.type)})}return l},x.setReadOnly=function(a,c){},w.exports=x},function(C,x,q){function k(f,l){var d=f+":"+l;if(m[d]){return m[d]}for(var s=(f+"").split("\n"),c=0,p=0,h=s.length;p<h;p++){c=Math.max(g.measureText(s[p],l).width,c)}return B>z&&(B=0,m={}),B++,m[d]=c,c}function A(F,n,h,p){var d=((F||"")+"").split("\n").length,c=k(F,n),G=k("国",n),f=d*G,E=new y(0,0,c,f);switch(E.lineHeight=G,p){case"bottom":case"alphabetic":E.y-=G;break;case"middle":E.y-=G/2}switch(h){case"end":case"right":E.x-=E.width;break;case"center":E.x-=E.width/2}return E}function j(L,H,F,p){var J=H.x,f=H.y,d=H.height,M=H.width,E=F.height,K=F.lineHeight,I=d/2-E/2+K,G="left";switch(L){case"left":J-=p,f+=I,G="right";break;case"right":J+=p+M,f+=I,G="left";break;case"top":J+=M/2,f-=p+E-K,G="center";break;case"bottom":J+=M/2,f+=d+p+K,G="center";break;case"inside":J+=M/2,f+=I,G="center";break;case"insideLeft":J+=p,f+=I,G="left";break;case"insideRight":J+=M-p,f+=I,G="right";break;case"insideTop":J+=M/2,f+=p+K,G="center";break;case"insideBottom":J+=M/2,f+=d-E-p+K,G="center";break;case"insideTopLeft":J+=p,f+=p+K,G="left";break;case"insideTopRight":J+=M-p,f+=p+K,G="right";break;case"insideBottomLeft":J+=p,f+=d-E-p+K;break;case"insideBottomRight":J+=M-p,f+=d-E-p+K,G="right"}return{x:J,y:f,textAlign:G,textBaseline:"alphabetic"}}function b(F,O,L,S,I){if(!O){return""}I=I||{},S=w(S,"...");for(var G=w(I.maxIterations,2),K=w(I.minChar,0),E=k("国",L),Q=k("a",L),M=w(I.placeholder,""),P=O=Math.max(0,O-1),H=0;H<K&&P>=Q;H++){P-=Q}var N=k(S);N>P&&(S="",N=0),P=O-N;for(var J=(F+"").split("\n"),H=0,s=J.length;H<s;H++){var f=J[H],n=k(f,L);if(!(n<=O)){for(var T=0;;T++){if(n<=P||T>=G){f+=S;break}var R=0===T?D(f,P,Q,E):n>0?Math.floor(f.length*P/n):0;f=f.substr(0,R),n=k(f,L)}""===f&&(f=M),J[H]=f}}return J.join("\n")}function D(f,p,d,E){for(var c=0,u=0,l=f.length;u<l&&c<p;u++){var h=f.charCodeAt(u);c+=0<=h&&h<=127?d:E}return u}var m={},B=0,z=5000,v=q(1),y=q(11),w=v.retrieve,g={getWidth:k,getBoundingRect:A,adjustTextPositionOnRect:j,truncateText:b,measureText:function(c,d){var a=v.getContext();return a.font=d||"12px sans-serif",a.measureText(c)}};C.exports=g},function(E,z,v){var m=v(1),C=v(7),k=v(15),b=v(5),F=v(13),q=v(62),D=v(9),B=v(12),w=k.set,A=k.get,y=C.encodeHTML,j=C.addCommas,x=F.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(f,g,d,h){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(f,d);var c=this.getInitialData(f,d);w(this,"dataBeforeProcessed",c),this.restoreData()},mergeDefaultAndTheme:function(f,g){var d=this.layoutMode,c=d?B.getLayoutParams(f):{};m.merge(f,g.getTheme().get(this.subType)),m.merge(f,this.getDefaultOption()),b.defaultEmphasis(f.label,b.LABEL_OPTIONS),this.fillDataTextStyle(f.data),d&&B.mergeLayoutParam(f,c,d)},mergeOption:function(f,g){f=m.merge(this.option,f,!0),this.fillDataTextStyle(f.data);var d=this.layoutMode;d&&B.mergeLayoutParam(this.option,f,d);var c=this.getInitialData(f,g);c&&(w(this,"data",c),w(this,"dataBeforeProcessed",c.cloneShallow()))},fillDataTextStyle:function(a){if(a){for(var c=0;c<a.length;c++){a[c]&&a[c].label&&b.defaultEmphasis(a[c].label,b.LABEL_OPTIONS)}}},getInitialData:function(){},getData:function(a){var c=A(this,"data");return null==a?c:c.getLinkedData(a)},setData:function(a){w(this,"data",a)},getRawData:function(){return A(this,"dataBeforeProcessed")},coordDimToDataDim:function(a){return b.coordDimToDataDim(this.getData(),a)},dataDimToCoordDim:function(a){return b.dataDimToCoordDim(this.getData(),a)},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(J,G,n){function a(h){function s(l,c){var M=K.getDimensionInfo(c);if(M&&M.otherDims.tooltip!==!1){var L=M.type,u=(e?"- "+(M.tooltipName||M.name)+": ":"")+("ordinal"===L?l+"":"time"===L?G?"":C.formatTime("yyyy/MM/dd hh:mm:ss",l):j(l));u&&g.push(y(u))}}var e=m.reduce(h,function(l,o,c){var u=K.getDimensionInfo(c);return l|=u.tooltip!==!1&&null!=u.tooltipName},0),g=[],t=b.otherDimToDataDim(K,"tooltip");return t.length?m.each(t,function(c){s(K.get(c,J),c)}):m.each(h,s),(e?"<br/>":"")+g.join(e?"<br/>":", ")}var K=A(this,"data"),f=this.getRawValue(J),I=m.isArray(f)?a(f):y(j(f)),H=K.getName(J),p=K.getItemVisual(J,"color");m.isObject(p)&&p.colorStops&&(p=(p.colorStops[0]||{}).color),p=p||"transparent";var r=C.getTooltipMarker(p),d=this.name;return"\0-"===d&&(d=""),d=d?y(d)+(G?": ":"<br/>"):"",G?r+d+I:d+r+(H?y(H)+": "+I:I)},isAnimationEnabled:function(){if(D.node){return !1}var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),a},restoreData:function(){w(this,"data",A(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(c,d){var a=this.ecModel,f=q.getColorFromPalette.call(this,c,d);return f||(f=a.getColorFromPalette(c,d)),f},getAxisTooltipData:null,getTooltipPosition:null});m.mixin(x,b.dataFormatMixin),m.mixin(x,q),E.exports=x},function(m,h,g){var d=g(149),j=g(43);g(150),g(148);var c=g(34),b=g(4),p=g(1),f=g(16),k={};k.getScaleExtent=function(C,x){var v,r,A,q=C.type,s=x.getMin(),B=x.getMax(),z=null!=s,w=null!=B,y=C.getExtent();return"ordinal"===q?v=(x.get("data")||[]).length:(r=x.get("boundaryGap"),p.isArray(r)||(r=[r||0,r||0]),"boolean"==typeof r[0]&&(r=[0,0]),r[0]=b.parsePercent(r[0],1),r[1]=b.parsePercent(r[1],1),A=y[1]-y[0]||Math.abs(y[0])),null==s&&(s="ordinal"===q?v?0:NaN:y[0]-r[0]*A),null==B&&(B="ordinal"===q?v?v-1:NaN:y[1]+r[1]*A),"dataMin"===s&&(s=y[0]),"dataMax"===B&&(B=y[1]),(null==s||!isFinite(s))&&(s=NaN),(null==B||!isFinite(B))&&(B=NaN),C.setBlank(p.eqNaN(s)||p.eqNaN(B)),x.getNeedCrossZero()&&(s>0&&B>0&&!z&&(s=0),s<0&&B<0&&!w&&(B=0)),[s,B]},k.niceScaleExtent=function(s,v){var q=k.getScaleExtent(s,v),x=null!=v.getMin(),l=null!=v.getMax(),w=v.get("splitNumber");"log"===s.type&&(s.base=v.get("logBase")),s.setExtent(q[0],q[1]),s.niceExtent({splitNumber:w,fixMin:x,fixMax:l,minInterval:"interval"===s.type?v.get("minInterval"):null});var u=v.get("interval");null!=u&&s.setInterval&&s.setInterval(u)},k.createScaleByModel=function(a,i){if(i=i||a.get("type")){switch(i){case"category":return new d(a.getCategories(),[1/0,-(1/0)]);case"value":return new j;default:return(c.getClass(i)||j).create(a)}}},k.ifAxisCrossZero=function(l){var o=l.scale.getExtent(),a=o[0],q=o[1];return !(a>0&&q>0||a<0&&q<0)},k.getAxisLabelInterval=function(C,y,w,v){var A,q=0,l=0,D=1;y.length>40&&(D=Math.floor(y.length/40));for(var B=0;B<C.length;B+=D){var z=C[B],x=f.getBoundingRect(y[B],w,"center","top");x[v?"x":"y"]+=z,x[v?"width":"height"]*=1.3,A?A.intersect(x)?(l++,q=Math.max(q,l)):(A.union(x),l=0):A=x.clone()}return 0===q&&D>1?D:(q+1)*D-1},k.getFormattedLabels=function(q,r){var o=q.scale,s=o.getTicksLabels(),l=o.getTicks();return"string"==typeof r?(r=function(a){return function(i){return a.replace("{value}",null!=i?i:"")}}(r),p.map(s,r)):"function"==typeof r?p.map(l,function(a,e){return r(k.getAxisRawValue(q,a),e)},this):s},k.getAxisRawValue=function(a,i){return"category"===a.type?a.scale.getLabel(i):i},m.exports=k},function(b,c){var a="undefined"==typeof Float32Array?Array:Float32Array,d={create:function(){var e=new a(6);return d.identity(e),e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},copy:function(f,g){return f[0]=g[0],f[1]=g[1],f[2]=g[2],f[3]=g[3],f[4]=g[4],f[5]=g[5],f},mul:function(q,m,k){var h=m[0]*k[0]+m[2]*k[1],p=m[1]*k[0]+m[3]*k[1],g=m[0]*k[2]+m[2]*k[3],f=m[1]*k[2]+m[3]*k[3],u=m[0]*k[4]+m[2]*k[5]+m[4],j=m[1]*k[4]+m[3]*k[5]+m[5];return q[0]=h,q[1]=p,q[2]=g,q[3]=f,q[4]=u,q[5]=j,q},translate:function(g,h,f){return g[0]=h[0],g[1]=h[1],g[2]=h[2],g[3]=h[3],g[4]=h[4]+f[0],g[5]=h[5]+f[1],g},rotate:function(w,m,k){var h=m[0],q=m[2],g=m[4],f=m[1],x=m[3],j=m[5],v=Math.sin(k),p=Math.cos(k);return w[0]=h*p+f*v,w[1]=-h*v+f*p,w[2]=q*p+x*v,w[3]=-q*v+p*x,w[4]=p*g+v*j,w[5]=p*j-v*g,w},scale:function(h,j,g){var k=g[0],f=g[1];return h[0]=j[0]*k,h[1]=j[1]*f,h[2]=j[2]*k,h[3]=j[3]*f,h[4]=j[4]*k,h[5]=j[5]*f,h},invert:function(q,m){var k=m[0],h=m[2],p=m[4],g=m[1],f=m[3],u=m[5],j=k*f-g*h;return j?(j=1/j,q[0]=f*j,q[1]=-g*j,q[2]=-h*j,q[3]=k*j,q[4]=(h*u-f*p)*j,q[5]=(g*p-k*u)*j,q):null}};b.exports=d},function(H,Z,V){function Q(a){return a>-E&&a<E}function ad(a){return a>E||a<-E}function P(d,f,c,h,b){var g=1-b;return g*g*(g*d+3*b*f)+b*b*(b*h+3*g*c)}function L(d,f,c,h,b){var g=1-b;return 3*(((f-d)*g+2*(c-f)*b)*g+(h-c)*b*b)}function J(aj,ay,au,aB,aq,an){var al=aB+3*(ay-au)-aj,at=3*(au-2*ay+aj),ai=3*(ay-aj),aA=aj-aq,av=at*at-3*al*ai,az=at*ai-9*al*aA,ax=ai*ai-3*at*aA,ap=0;if(Q(av)&&Q(az)){if(Q(at)){an[0]=0}else{var aw=-ai/at;aw>=0&&aw<=1&&(an[ap++]=aw)}}else{var ar=az*az-4*av*ax;if(Q(ar)){var ah=az/av,aw=-at/al+ah,M=-ah/2;aw>=0&&aw<=1&&(an[ap++]=aw),M>=0&&M<=1&&(an[ap++]=M)}else{if(ar>0){var af=ac(ar),ag=av*at+1.5*al*(-az+af),n=av*at+1.5*al*(-az-af);ag=ag<0?-ae(-ag,B):ae(ag,B),n=n<0?-ae(-n,B):ae(n,B);var aw=(-at-(ag+n))/(3*al);aw>=0&&aw<=1&&(an[ap++]=aw)}else{var b=(2*av*at-3*al*az)/(2*ac(av*av*av)),ao=Math.acos(b)/3,am=ac(av),I=Math.cos(ao),aw=(-at-2*am*I)/(3*al),M=(-at+am*(I+q*Math.sin(ao)))/(3*al),ak=(-at+am*(I-q*Math.sin(ao)))/(3*al);aw>=0&&aw<=1&&(an[ap++]=aw),M>=0&&M<=1&&(an[ap++]=M),ak>=0&&ak<=1&&(an[ap++]=ak)}}}return ap}function U(I,x,n,g,a){var M=6*n-12*x+6*I,m=9*x+3*g-3*I-9*n,C=3*x-3*I,A=0;if(Q(m)){if(ad(M)){var v=-C/M;v>=0&&v<=1&&(a[A++]=v)}}else{var y=M*M-4*m*C;if(Q(y)){a[0]=-M/(2*m)}else{if(y>0){var w=ac(y),v=(-M+w)/(2*m),b=(-M-w)/(2*m);v>=0&&v<=1&&(a[A++]=v),b>=0&&b<=1&&(a[A++]=b)}}}return A}function G(A,v,m,f,x,d){var b=(v-A)*x+A,C=(m-v)*x+v,g=(f-m)*x+m,y=(C-b)*x+b,w=(g-C)*x+C,p=(w-y)*x+y;d[0]=A,d[1]=b,d[2]=y,d[3]=p,d[4]=p,d[5]=w,d[6]=g,d[7]=f}function ab(C,al,ah,T,ao,M,I,ag,A,an,ai){var am,ak,S,aj,af,x=0.005,b=1/0;j[0]=A,j[1]=an;for(var ap=0;ap<1;ap+=0.05){N[0]=P(C,ah,ao,I,ap),N[1]=P(al,T,M,ag,ap),aj=D(j,N),aj<b&&(am=ap,b=aj)}b=1/0;for(var o=0;o<32&&!(x<k);o++){ak=am-x,S=am+x,N[0]=P(C,ah,ao,I,ak),N[1]=P(al,T,M,ag,ak),aj=D(N,j),ak>=0&&aj<b?(am=ak,b=aj):(K[0]=P(C,ah,ao,I,S),K[1]=P(al,T,M,ag,S),af=D(K,j),S<=1&&af<b?(am=S,b=af):x*=0.5)}return ai&&(ai[0]=P(C,ah,ao,I,am),ai[1]=P(al,T,M,ag,am)),ac(b)}function W(d,f,c,g){var b=1-g;return b*(b*d+2*g*f)+g*g*c}function aa(b,c,a,d){return 2*((1-d)*(c-b)+d*(a-c))}function Y(I,x,n,g,a){var M=I-2*x+n,m=2*(x-I),C=I-g,A=0;if(Q(M)){if(ad(m)){var v=-C/m;v>=0&&v<=1&&(a[A++]=v)}}else{var y=m*m-4*M*C;if(Q(y)){var v=-m/(2*M);v>=0&&v<=1&&(a[A++]=v)}else{if(y>0){var w=ac(y),v=(-m+w)/(2*M),b=(-m-w)/(2*M);v>=0&&v<=1&&(a[A++]=v),b>=0&&b<=1&&(a[A++]=b)}}}return A}function O(b,c,a){var d=b+a-2*c;return 0===d?0.5:(b-c)/d}function X(d,h,c,m,b){var l=(h-d)*m+d,g=(c-h)*m+h,f=(g-l)*m+l;b[0]=d,b[1]=l,b[2]=f,b[3]=f,b[4]=g,b[5]=c}function R(x,aj,ag,S,am,M,C,A,af){var w,al=0.005,ak=1/0;j[0]=C,j[1]=A;for(var ai=0;ai<1;ai+=0.05){N[0]=W(x,ag,am,ai),N[1]=W(aj,S,M,ai);var I=D(j,N);I<ak&&(w=ai,ak=I)}ak=1/0;for(var ah=0;ah<32&&!(al<k);ah++){var T=w-al,h=w+al;N[0]=W(x,ag,am,T),N[1]=W(aj,S,M,T);var I=D(N,j);if(T>=0&&I<ak){w=T,ak=I}else{K[0]=W(x,ag,am,h),K[1]=W(aj,S,M,h);var b=D(K,j);h<=1&&b<ak?(w=h,ak=b):al*=0.5}}return af&&(af[0]=W(x,ag,am,w),af[1]=W(aj,S,M,w)),ac(ak)}var F=V(6),z=F.create,D=F.distSquare,ae=Math.pow,ac=Math.sqrt,E=1e-8,k=0.0001,q=ac(3),B=1/3,j=z(),N=z(),K=z();H.exports={cubicAt:P,cubicDerivativeAt:L,cubicRootAt:J,cubicExtrema:U,cubicSubdivide:G,cubicProjectPoint:ab,quadraticAt:W,quadraticDerivativeAt:aa,quadraticRootAt:Y,quadraticExtremum:O,quadraticSubdivide:X,quadraticProjectPoint:R}},function(y,p,k){function g(a){return a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0}}function w(c,d,a,h){return a=a||{},h||!v.canvasSupported?f(c,d,a):v.browser.firefox&&null!=d.layerX&&d.layerX!==d.offsetX?(a.zrX=d.layerX,a.zrY=d.layerY):null!=d.offsetX?(a.zrX=d.offsetX,a.zrY=d.offsetY):f(c,d,a),a}function f(h,l,d){var c=g(h);d.zrX=l.clientX-c.left,d.zrY=l.clientY-c.top}function b(c,h,a){if(h=h||window.event,null!=h.zrX){return h}var s=h.type,l=s&&s.indexOf("touch")>=0;if(l){var d="touchend"!=s?h.targetTouches[0]:h.changedTouches[0];d&&w(c,d,h,a)}else{w(c,h,h,a),h.zrDelta=h.wheelDelta?h.wheelDelta/120:-(h.detail||0)/3}return h}function z(c,d,a){m?c.addEventListener(d,a):c.attachEvent("on"+d,a)}function j(c,d,a){m?c.removeEventListener(d,a):c.detachEvent("on"+d,a)}var x=k(23),v=k(9),m="undefined"!=typeof window&&!!window.addEventListener,q=m?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0};y.exports={clientToLocal:w,normalizeEvent:b,addEventListener:z,removeEventListener:j,stop:q,Dispatcher:x}},function(F,V,P){function L(a){return a=Math.round(a),a<0?0:a>255?255:a}function Z(a){return a=Math.round(a),a<0?0:a>360?360:a}function K(a){return a<0?0:a>1?1:a}function H(a){return L(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100*255:parseInt(a,10))}function G(a){return K(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100:parseFloat(a))}function O(b,c,a){return a<0?a+=1:a>1&&(a-=1),6*a<1?b+(c-b)*a*6:2*a<1?c:3*a<2?b+(c-b)*(2/3-a)*6:b}function E(b,c,a){return b+(c-b)*a}function X(d,f,c,g,b){return d[0]=f,d[1]=c,d[2]=g,d[3]=b,d}function Q(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function W(a,b){j&&Q(j,b),j=A.put(a,j||b.slice())}function U(w,r){if(w){r=r||[];var h=A.get(w);if(h){return Q(r,h)}w+="";var c=w.replace(/ /g,"").toLowerCase();if(c in q){return Q(r,q[c]),W(w,r),r}if("#"!==c.charAt(0)){var s=c.indexOf("("),b=c.indexOf(")");if(s!==-1&&b+1===c.length){var d=c.substr(0,s),v=c.substr(s+1,b-(s+1)).split(","),p=1;switch(d){case"rgba":if(4!==v.length){return void X(r,0,0,0,1)}p=G(v.pop());case"rgb":return 3!==v.length?void X(r,0,0,0,1):(X(r,H(v[0]),H(v[1]),H(v[2]),p),W(w,r),r);case"hsla":return 4!==v.length?void X(r,0,0,0,1):(v[3]=G(v[3]),J(v,r),W(w,r),r);case"hsl":return 3!==v.length?void X(r,0,0,0,1):(J(v,r),W(w,r),r);default:return}}X(r,0,0,0,1)}else{if(4===c.length){var m=parseInt(c.substr(1),16);return m>=0&&m<=4095?(X(r,(3840&m)>>4|(3840&m)>>8,240&m|(240&m)>>4,15&m|(15&m)<<4,1),W(w,r),r):void X(r,0,0,0,1)}if(7===c.length){var m=parseInt(c.substr(1),16);return m>=0&&m<=16777215?(X(r,(16711680&m)>>16,(65280&m)>>8,255&m,1),W(w,r),r):void X(r,0,0,0,1)}}}}function J(f,h){var d=(parseFloat(f[0])%360+360)%360/360,b=G(f[1]),l=G(f[2]),g=l<=0.5?l*(b+1):l+b-l*b,c=2*l-g;return h=h||[],X(h,L(255*O(c,g,d+1/3)),L(255*O(c,g,d)),L(255*O(c,g,d-1/3)),1),4===f.length&&(h[3]=f[3]),h}function R(ab){if(ab){var y,v,m=ab[0]/255,S=ab[1]/255,g=ab[2]/255,b=Math.min(m,S,g),ac=Math.max(m,S,g),p=ac-b,T=(ac+b)/2;if(0===p){y=0,v=0}else{v=T<0.5?p/(ac+b):p/(2-ac-b);var M=((ac-m)/6+p/2)/p,w=((ac-S)/6+p/2)/p,I=((ac-g)/6+p/2)/p;m===ac?y=I-w:S===ac?y=1/3+M-I:g===ac&&(y=2/3+w-M),y<0&&(y+=1),y>1&&(y-=1)}var x=[360*y,v,T];return null!=ab[3]&&x.push(ab[3]),x}}function N(b,c){var a=U(b);if(a){for(var d=0;d<3;d++){c<0?a[d]=a[d]*(1-c)|0:a[d]=(255-a[d])*c+a[d]|0}return C(a,4===a.length?"rgba":"rgb")}}function D(b,c){var a=U(b);if(a){return((1<<24)+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1)}}function z(p,m,f){if(m&&m.length&&p>=0&&p<=1){f=f||[];var o=p*(m.length-1),b=Math.floor(o),u=Math.ceil(o),d=m[b],n=m[u],g=o-b;return f[0]=L(E(d[0],n[0],g)),f[1]=L(E(d[1],n[1],g)),f[2]=L(E(d[2],n[2],g)),f[3]=K(E(d[3],n[3],g)),f}}function B(v,n,g){if(n&&n.length&&v>=0&&v<=1){var u=v*(n.length-1),b=Math.floor(u),w=Math.ceil(u),f=U(n[b]),p=U(n[w]),m=u-b,o=C([L(E(f[0],p[0],m)),L(E(f[1],p[1],m)),L(E(f[2],p[2],m)),K(E(f[3],p[3],m))],"rgba");return g?{color:o,leftIndex:b,rightIndex:w,value:u}:o}}function aa(b,c,a,d){if(b=U(b)){return b=R(b),null!=c&&(b[0]=Z(c)),null!=a&&(b[1]=G(a)),null!=d&&(b[2]=G(d)),C(J(b),"rgba")}}function Y(a,b){if(a=U(a),a&&null!=b){return a[3]=K(b),C(a,"rgba")}}function C(b,c){if(b&&b.length){var a=b[0]+","+b[1]+","+b[2];return"rgba"!==c&&"hsva"!==c&&"hsla"!==c||(a+=","+b[3]),c+"("+a+")"}}var k=P(70),q={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},A=new k(20),j=null;F.exports={parse:U,lift:N,toHex:D,fastMapToColor:z,mapToColor:B,modifyHSL:aa,modifyAlpha:Y,stringify:C}},function(b,c){var a=Array.prototype.slice,d=function(){this._$handlers={}};d.prototype={constructor:d,one:function(h,j,g){var k=this._$handlers;if(!j||!h){return this}k[h]||(k[h]=[]);for(var f=0;f<k[h].length;f++){if(k[h][f].h===j){return this}}return k[h].push({h:j,one:!0,ctx:g||this}),this},on:function(h,j,g){var k=this._$handlers;if(!j||!h){return this}k[h]||(k[h]=[]);for(var f=0;f<k[h].length;f++){if(k[h][f].h===j){return this}}return k[h].push({h:j,one:!1,ctx:g||this}),this},isSilent:function(f){var g=this._$handlers;return g[f]&&g[f].length},off:function(h,j){var g=this._$handlers;if(!h){return this._$handlers={},this}if(j){if(g[h]){for(var l=[],f=0,k=g[h].length;f<k;f++){g[h][f].h!=j&&l.push(g[h][f])}g[h]=l}g[h]&&0===g[h].length&&delete g[h]}else{delete g[h]}return this},trigger:function(g){if(this._$handlers[g]){var i=arguments,k=i.length;k>3&&(i=a.call(i,1));for(var f=this._$handlers[g],j=f.length,h=0;h<j;){switch(k){case 1:f[h].h.call(f[h].ctx);break;case 2:f[h].h.call(f[h].ctx,i[1]);break;case 3:f[h].h.call(f[h].ctx,i[1],i[2]);break;default:f[h].h.apply(f[h].ctx,i)}f[h].one?(f.splice(h,1),j--):h++}}return this},triggerWithContext:function(g){if(this._$handlers[g]){var j=arguments,l=j.length;l>4&&(j=a.call(j,1,j.length-1));for(var f=j[j.length-1],k=this._$handlers[g],i=k.length,h=0;h<i;){switch(l){case 1:k[h].h.call(f);break;case 2:k[h].h.call(f,j[1]);break;case 3:k[h].h.call(f,j[1],j[2]);break;default:k[h].h.apply(f,j)}k[h].one?(k.splice(h,1),i--):h++}}return this}},b.exports=d},function(E,z,v){var m=v(3),C=v(11),k=m.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(f,g){var d=g.cx,l=g.cy,c=g.width/2,h=g.height/2;f.moveTo(d,l-h),f.lineTo(d+c,l+h),f.lineTo(d-c,l+h),f.closePath()}}),b=m.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(f,g){var d=g.cx,l=g.cy,c=g.width/2,h=g.height/2;f.moveTo(d,l-h),f.lineTo(d+c,l),f.lineTo(d,l+h),f.lineTo(d-c,l),f.closePath()}}),F=m.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(S,N){var K=N.x,I=N.y,Q=N.width/5*3,H=Math.max(Q,N.height),g=Q/2,T=g*g/(H-g),J=I-H+g+T,R=Math.asin(T/g),P=Math.cos(R)*g,L=Math.sin(R),O=Math.cos(R);S.arc(K,J,g,Math.PI-R,2*Math.PI+R);var M=0.6*g,G=0.7*g;S.bezierCurveTo(K+P-L*M,J+T+O*M,K,I-G,K,I),S.bezierCurveTo(K,I-G,K-P+L*M,J+T+O*M,K-P,J+T),S.closePath()}}),q=m.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(f,h){var d=h.height,p=h.width,c=h.x,l=h.y,g=p/3*2;f.moveTo(c,l),f.lineTo(c+g,l+d),f.lineTo(c,l+d/4*3),f.lineTo(c-g,l+d),f.lineTo(c,l),f.closePath()}}),D={line:m.Line,rect:m.Rect,roundRect:m.Rect,square:m.Rect,circle:m.Circle,diamond:b,pin:F,arrow:q,triangle:k},B={line:function(f,g,d,h,c){c.x1=f,c.y1=g+h/2,c.x2=f+d,c.y2=g+h/2},rect:function(f,g,d,h,c){c.x=f,c.y=g,c.width=d,c.height=h},roundRect:function(f,g,d,h,c){c.x=f,c.y=g,c.width=d,c.height=h,c.r=Math.min(d,h)/4},square:function(f,g,d,l,c){var h=Math.min(d,l);c.x=f,c.y=g,c.width=h,c.height=h},circle:function(f,g,d,h,c){c.cx=f+d/2,c.cy=g+h/2,c.r=Math.min(d,h)/2},diamond:function(f,g,d,h,c){c.cx=f+d/2,c.cy=g+h/2,c.width=d,c.height=h},pin:function(f,g,d,h,c){c.x=f+d/2,c.y=g+h/2,c.width=d,c.height=h},arrow:function(f,g,d,h,c){c.x=f+d/2,c.y=g+h/2,c.width=d,c.height=h},triangle:function(f,g,d,h,c){c.cx=f+d/2,c.cy=g+h/2,c.width=d,c.height=h}},w={};for(var A in D){D.hasOwnProperty(A)&&(w[A]=new D[A])}var y=m.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style,c=this.shape;"pin"===c.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(f,g,d){var h=g.symbolType,c=w[h];"none"!==g.symbolType&&(c||(h="rect",c=w[h]),B[h](g.x,g.y,g.width,g.height,c.shape),c.buildPath(f,c.shape,d))}}),j=function(c){if("image"!==this.type){var d=this.style,a=this.shape;a&&"line"===a.symbolType?d.stroke=c:this.__isEmptyBrush?(d.stroke=c,d.fill="#fff"):(d.fill&&(d.fill=c),d.stroke&&(d.stroke=c)),this.dirty(!1)}},x={createSymbol:function(f,n,d,p,h,g){var a=0===f.indexOf("empty");a&&(f=f.substr(5,1).toLowerCase()+f.substr(6));var c;return c=0===f.indexOf("image://")?new m.Image({style:{image:f.slice(8),x:n,y:d,width:p,height:h}}):0===f.indexOf("path://")?m.makePath(f.slice(7),{},new C(n,d,p,h)):new y({shape:{symbolType:f,x:n,y:d,width:p,height:h}}),c.__isEmptyBrush=a,c.setColor=j,c.setColor(g),c}};E.exports=x},function(y,p,k){function g(B,L,H){function F(r,A,n){m[A]?r.otherDims[A]=n:(r.coordDim=A,r.coordDimIndex=n,G.set(A,!0))}function C(A,I,r){if(r||null!=I.get(A)){for(var M=0;null!=I.get(A+M);){M++}A+=M}return I.set(A,!0),A}L=L||[],H=H||{},B=(B||[]).slice();var K=(H.dimsDef||[]).slice(),E=f.createHashMap(H.encodeDef),J=f.createHashMap(),G=f.createHashMap(),u=[],h=H.dimCount;if(null==h){var o=w(L[0]);h=Math.max(f.isArray(o)&&o.length||1,B.length,K.length),z(B,function(i){var n=i.dimsDef;n&&(h=Math.max(h,n.length))})}for(var O=0;O<h;O++){var N=j(K[O])?{name:K[O]}:K[O]||{},s=N.name,c=u[O]={otherDims:{}};null!=s&&null==J.get(s)&&(c.name=c.tooltipName=s,J.set(s,O)),null!=N.type&&(c.type=N.type)}E.each(function(i,n){i=E.set(n,v(i).slice()),z(i,function(r,e){j(r)&&(r=J.get(r)),null!=r&&r<h&&(i[e]=r,F(u[r],n,e))})});var d=0;z(B,function(I,Q){var A,I,n,P;j(I)?(A=I,I={}):(A=I.name,I=f.clone(I),n=I.dimsDef,P=I.otherDims,I.name=I.coordDim=I.coordDimIndex=I.dimsDef=I.otherDims=null);var M=v(E.get(A));if(!M.length){for(var R=0;R<(n&&n.length||1);R++){for(;d<u.length&&null!=u[d].coordDim;){d++}d<u.length&&M.push(d++)}}z(M,function(r,t){var i=u[r];F(x(i,I),A,t),null==i.name&&n&&(i.name=i.tooltipName=n[t]),P&&x(i.otherDims,P)})});for(var l=H.extraPrefix||"value",a=0;a<h;a++){var c=u[a]=u[a]||{},D=c.coordDim;null==D&&(c.coordDim=C(l,G,H.extraFromZero),c.coordDimIndex=0,c.isExtraCoord=!0),null==c.name&&(c.name=C(c.coordDim,J)),null==c.type&&q(L,a)&&(c.type="ordinal")}return u}function w(a){return f.isArray(a)?a:f.isObject(a)?a.value:a}var f=k(1),b=k(5),z=f.each,j=f.isString,x=f.defaults,v=b.normalizeToArray,m={tooltip:1,label:1,itemName:1},q=g.guessOrdinal=function(c,h){for(var a=0,l=c.length;a<l;a++){var d=w(c[a]);if(!f.isArray(d)){return !1}var d=d[h];if(null!=d&&isFinite(d)){return !1}if(j(d)&&"-"!==d){return !0}}return !1};y.exports=g},function(d,f,c){function h(){this._coordinateSystems=[]}var b=c(1),g={};h.prototype={constructor:h,create:function(j,k){var a=[];b.each(g,function(l,e){var i=l.create(j,k);a=a.concat(i||[])}),this._coordinateSystems=a},update:function(a,i){b.each(this._coordinateSystems,function(e){e.update&&e.update(a,i)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},h.register=function(a,i){g[a]=i},h.get=function(a){return g[a]},d.exports=h},function(w,K,G){var D=G(20),N=G(6),C=G(85),A=G(11),z=G(35).devicePixelRatio,F={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},q=[],M=[],H=[],L=[],J=Math.min,B=Math.max,I=Math.cos,E=Math.sin,k=Math.sqrt,b=Math.abs,j="undefined"!=typeof Float32Array,O=function(a){this._saveData=!a,this._saveData&&(this.data=[]),this._ctx=null};O.prototype={constructor:O,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,c){this._ux=b(1/z/a)||0,this._uy=b(1/z/c)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,c){return this.addData(F.M,a,c),this._ctx&&this._ctx.moveTo(a,c),this._x0=a,this._y0=c,this._xi=a,this._yi=c,this},lineTo:function(c,d){var a=b(c-this._xi)>this._ux||b(d-this._yi)>this._uy||this._len<5;return this.addData(F.L,c,d),this._ctx&&a&&(this._needsDash()?this._dashedLineTo(c,d):this._ctx.lineTo(c,d)),a&&(this._xi=c,this._yi=d),this},bezierCurveTo:function(f,g,d,l,c,h){return this.addData(F.C,f,g,d,l,c,h),this._ctx&&(this._needsDash()?this._dashedBezierTo(f,g,d,l,c,h):this._ctx.bezierCurveTo(f,g,d,l,c,h)),this._xi=c,this._yi=h,this},quadraticCurveTo:function(c,d,a,f){return this.addData(F.Q,c,d,a,f),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(c,d,a,f):this._ctx.quadraticCurveTo(c,d,a,f)),this._xi=a,this._yi=f,this},arc:function(f,g,d,l,c,h){return this.addData(F.A,f,g,d,d,l,c-l,0,h?0:1),this._ctx&&this._ctx.arc(f,g,d,l,c,h),this._xi=I(c)*d+f,this._yi=E(c)*d+f,this},arcTo:function(f,g,d,h,c){return this._ctx&&this._ctx.arcTo(f,g,d,h,c),this},rect:function(c,d,a,f){return this._ctx&&this._ctx.rect(c,d,a,f),this.addData(F.R,c,d,a,f),this},closePath:function(){this.addData(F.Z);var c=this._ctx,d=this._x0,a=this._y0;return c&&(this._needsDash()&&this._dashedLineTo(d,a),c.closePath()),this._xi=d,this._yi=a,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(c){if(c instanceof Array){this._lineDash=c,this._dashIdx=0;for(var d=0,a=0;a<c.length;a++){d+=c[a]}this._dashSum=d}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(c){var d=c.length;this.data&&this.data.length==d||!j||(this.data=new Float32Array(d));for(var a=0;a<d;a++){this.data[a]=c[a]}this._len=d},appendPath:function(f){f instanceof Array||(f=[f]);for(var h=f.length,d=0,m=this._len,c=0;c<h;c++){d+=f[c].len()}j&&this.data instanceof Float32Array&&(this.data=new Float32Array(m+d));for(var c=0;c<h;c++){for(var l=f[c].data,g=0;g<l.length;g++){this.data[m++]=l[g]}}this._len=m},addData:function(c){if(this._saveData){var d=this.data;this._len+arguments.length>d.length&&(this._expandData(),d=this.data);for(var a=0;a<arguments.length;a++){d[this._len++]=arguments[a]}this._prevCmd=c}},_expandData:function(){if(!(this.data instanceof Array)){for(var a=[],c=0;c<this._len;c++){a[c]=this.data[c]}this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(Z,T){var Q,v,X=this._dashSum,p=this._dashOffset,f=this._lineDash,aa=this._ctx,P=this._xi,Y=this._yi,V=Z-P,R=T-Y,U=k(V*V+R*R),S=P,x=Y,W=f.length;for(V/=U,R/=U,p<0&&(p=X+p),p%=X,S-=p*V,x-=p*R;V>0&&S<=Z||V<0&&S>=Z||0==V&&(R>0&&x<=T||R<0&&x>=T);){v=this._dashIdx,Q=f[v],S+=V*Q,x+=R*Q,this._dashIdx=(v+1)%W,V>0&&S<P||V<0&&S>P||R>0&&x<Y||R<0&&x>Y||aa[v%2?"moveTo":"lineTo"](V>=0?J(S,Z):B(S,Z),R>=0?J(x,T):B(x,T))}V=S-Z,R=x-T,this._dashOffset=-k(V*V+R*R)},_dashedBezierTo:function(T,ae,aa,ai,X,V){var U,Z,R,ag,ab,af=this._dashSum,ad=this._dashOffset,W=this._lineDash,ac=this._ctx,Y=this._xi,v=this._yi,P=D.cubicAt,aj=0,ah=this._dashIdx,Q=W.length,n=0;for(ad<0&&(ad=af+ad),ad%=af,U=0;U<1;U+=0.1){Z=P(Y,T,aa,X,U+0.1)-P(Y,T,aa,X,U),R=P(v,ae,ai,V,U+0.1)-P(v,ae,ai,V,U),aj+=k(Z*Z+R*R)}for(;ah<Q&&(n+=W[ah],!(n>ad));ah++){}for(U=(n-ad)/aj;U<=1;){ag=P(Y,T,aa,X,U),ab=P(v,ae,ai,V,U),ah%2?ac.moveTo(ag,ab):ac.lineTo(ag,ab),U+=W[ah]/aj,ah=(ah+1)%Q}ah%2!==0&&ac.lineTo(X,V),Z=X-ag,R=V-ab,this._dashOffset=-k(Z*Z+R*R)},_dashedQuadraticTo:function(f,g,d,l){var c=d,h=l;d=(d+2*f)/3,l=(l+2*g)/3,f=(this._xi+2*f)/3,g=(this._yi+2*g)/3,this._dashedBezierTo(f,g,d,l,c,h)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,j&&(this.data=new Float32Array(a)))},getBoundingRect:function(){q[0]=q[1]=H[0]=H[1]=Number.MAX_VALUE,M[0]=M[1]=L[0]=L[1]=-Number.MAX_VALUE;for(var U=this.data,l=0,g=0,c=0,V=0,h=0;h<U.length;){var a=U[h++];switch(1==h&&(l=U[h],g=U[h+1],c=l,V=g),a){case F.M:c=U[h++],V=U[h++],l=c,g=V,H[0]=c,H[1]=V,L[0]=c,L[1]=V;break;case F.L:C.fromLine(l,g,U[h],U[h+1],H,L),l=U[h++],g=U[h++];break;case F.C:C.fromCubic(l,g,U[h++],U[h++],U[h++],U[h++],U[h],U[h+1],H,L),l=U[h++],g=U[h++];break;case F.Q:C.fromQuadratic(l,g,U[h++],U[h++],U[h],U[h+1],H,L),l=U[h++],g=U[h++];break;case F.A:var T=U[h++],r=U[h++],u=U[h++],R=U[h++],o=U[h++],Q=U[h++]+o,d=(U[h++],1-U[h++]);1==h&&(c=I(o)*u+T,V=E(o)*R+r),C.fromArc(T,r,u,R,o,Q,d,H,L),l=I(Q)*u+T,g=E(Q)*R+r;break;case F.R:c=l=U[h++],V=g=U[h++];var m=U[h++],P=U[h++];C.fromLine(c,V,c+m,V+P,H,L);break;case F.Z:l=c,g=V}N.min(q,q,H),N.max(M,M,L)}return 0===h&&(q[0]=q[1]=M[0]=M[1]=0),new A(q[0],q[1],M[0]-q[0],M[1]-q[1])},rebuildPath:function(W){for(var ah,ae,ad,al,ac,Z,X=this.data,V=this._ux,aj=this._uy,af=this._len,ai=0;ai<af;){var ag=X[ai++];switch(1==ai&&(ad=X[ai],al=X[ai+1],ah=ad,ae=al),ag){case F.M:ah=ad=X[ai++],ae=al=X[ai++],W.moveTo(ad,al);break;case F.L:ac=X[ai++],Z=X[ai++],(b(ac-ad)>V||b(Z-al)>aj||ai===af-1)&&(W.lineTo(ac,Z),ad=ac,al=Z);break;case F.C:W.bezierCurveTo(X[ai++],X[ai++],X[ai++],X[ai++],X[ai++],X[ai++]),ad=X[ai-2],al=X[ai-1];break;case F.Q:W.quadraticCurveTo(X[ai++],X[ai++],X[ai++],X[ai++]),ad=X[ai-2],al=X[ai-1];break;case F.A:var ab=X[ai++],U=X[ai++],Q=X[ai++],am=X[ai++],ak=X[ai++],R=X[ai++],l=X[ai++],m=X[ai++],P=Q>am?Q:am,g=Q>am?1:Q/am,aa=Q>am?am/Q:1,Y=Math.abs(Q-am)>0.001,y=ak+R;Y?(W.translate(ab,U),W.rotate(l),W.scale(g,aa),W.arc(0,0,P,ak,y,1-m),W.scale(1/g,1/aa),W.rotate(-l),W.translate(-ab,-U)):W.arc(ab,U,P,ak,y,1-m),1==ai&&(ah=I(ak)*Q+ab,ae=E(ak)*am+U),ad=I(y)*Q+ab,al=E(y)*am+U;break;case F.R:ah=ad=X[ai],ae=al=X[ai+1],W.rect(X[ai++],X[ai++],X[ai++],X[ai++]);break;case F.Z:W.closePath(),ad=ah,al=ae}}}},O.CMD=F,w.exports=O},function(G,B,x){function q(a){for(var c=0;c<a.length&&null==a[c];){c++}return a[c]}function E(a){var c=q(a);return null!=c&&!y.isArray(j(c))}function k(K,h,g){K=K||[];var d=h.get("coordinateSystem"),c=v[d],a=A.get(d),L={encodeDef:h.get("encode"),dimsDef:h.get("dimensions")},J=c&&c(K,h,g,L),m=J&&J.dimensions;m||(m=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"],m=D(m,K,L));var p=J?J.categoryIndex:-1,I=new F(m,h),l=w(J,K),u={},f=p>=0&&E(K)?function(r,s,o,M){return C.isDataItemOption(r)&&(I.hasItemOption=!0),M===p?o:z(j(r),m[M])}:function(N,P,M,R){var s=j(N),Q=z(s&&s[R],m[R]);C.isDataItemOption(N)&&(I.hasItemOption=!0);var O=J&&J.categoryAxesModels;return O&&O[P]&&"string"==typeof Q&&(u[P]=u[P]||O[P].getCategories(),Q=y.indexOf(u[P],Q),Q<0&&!isNaN(Q)&&(Q=+Q)),Q};return I.hasItemOption=!1,I.initData(K,l,f),I}function b(a){return"category"!==a&&"time"!==a}function H(a){return"category"===a?"ordinal":"time"===a?"time":"float"}function w(f,l){var d,p=[],c=f&&f.dimensions[f.categoryIndex];if(c&&(d=f.categoryAxesModels[c.name]),d){var m=d.getCategories();if(m){var h=l.length;if(y.isArray(l[0])&&l[0].length>1){p=[];for(var g=0;g<h;g++){p[g]=m[l[g][f.categoryIndex||0]]}}else{p=m.slice(0)}}}return p}var F=x(14),D=x(25),y=x(1),C=x(5),A=x(26),j=C.getDataItemValue,z=C.converDataValue,v={cartesian2d:function(Q,M,J,r){var O=y.map(["xAxis","yAxis"],function(a){return J.queryComponents({mainType:a,index:M.get(a+"Index"),id:M.get(a+"Id")})[0]}),h=O[0],I=O[1],P=h.get("type"),N=I.get("type"),L=[{name:"x",type:H(P),stackable:b(P)},{name:"y",type:H(N),stackable:b(N)}],c="category"===P,K="category"===N;L=D(L,Q,r);var s={};return c&&(s.x=h),K&&(s.y=I),{dimensions:L,categoryIndex:c?0:K?1:-1,categoryAxesModels:s}},singleAxis:function(I,p,g,d){var r=g.queryComponents({mainType:"singleAxis",index:p.get("singleAxisIndex"),id:p.get("singleAxisId")})[0],c=r.get("type"),f="category"===c,s=[{name:"single",type:H(c),stackable:b(c)}];s=D(s,I,d);var m={};return f&&(m.single=r),{dimensions:s,categoryIndex:f?0:-1,categoryAxesModels:m}},polar:function(Q,M,I,r){var O=I.queryComponents({mainType:"polar",index:M.get("polarIndex"),id:M.get("polarId")})[0],m=O.findAxisModel("angleAxis"),s=O.findAxisModel("radiusAxis"),P=s.get("type"),J=m.get("type"),N=[{name:"radius",type:H(P),stackable:b(P)},{name:"angle",type:H(J),stackable:b(J)}],L="category"===J,c="category"===P;N=D(N,Q,r);var K={};return c&&(K.radius=s),L&&(K.angle=m),{dimensions:N,categoryIndex:L?1:c?0:-1,categoryAxesModels:K}},geo:function(c,d,a,f){return{dimensions:D([{name:"lng"},{name:"lat"}],c,f)}}};G.exports=k},function(b,c){var a={};b.exports={register:function(d,f){a[d]=f},get:function(d){return a[d]}}},function(w,m,j){function f(){this.group=new b,this.uid=x.getUID("viewChart")}function q(c,h){if(c&&(c.trigger(h),"group"===c.type)){for(var a=0;a<c.childCount();a++){q(c.childAt(a),h)}}}function d(c,h,a){var l=v.queryDataIndex(c,h);null!=l?p.each(v.normalizeToArray(l),function(i){q(c.getItemGraphicEl(i),a)}):c.eachItemGraphicEl(function(e){q(e,a)})}var b=j(36),x=j(49),g=j(15),v=j(5),p=j(1);f.prototype={type:"chart",init:function(a,c){},render:function(c,h,a,l){},highlight:function(c,h,a,l){d(c.getData(),l,"emphasis")},downplay:function(c,h,a,l){d(c.getData(),l,"normal")},remove:function(a,c){this.group.removeAll()},dispose:function(){}};var k=f.prototype;k.updateView=k.updateLayout=k.updateVisual=function(c,h,a,l){this.render(c,h,a,l)},g.enableClassExtend(f,["dispose"]),g.enableClassManagement(f,{registerWhenExtend:!0}),w.exports=f},function(b,c,a){var d=a(1);b.exports=function(f){for(var g=0;g<f.length;g++){f[g][1]||(f[g][1]=f[g][0])}return function(m,j){for(var h={},n=0;n<f.length;n++){var l=f[n][1];if(!(m&&d.indexOf(m,l)>=0||j&&d.indexOf(j,l)<0)){var k=this.getShallow(l);null!=k&&(h[f[n][0]]=k)}}return h}}},function(d,f,c){var h=c(3),b=c(1),g=c(2);c(57),c(117),g.extendComponentView({type:"grid",render:function(a,i){this.group.removeAll(),a.get("show")&&this.group.add(new h.Rect({shape:a.coordinateSystem.getRect(),style:b.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),g.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})})},function(m,h,g){function d(q,r){var o=q[1]-q[0],s=r,l=o/s/2;q[0]+=l,q[1]-=l}var j=g(4),c=j.linearMap,b=g(1),p=g(18),f=[0,1],k=function(l,n,a){this.dim=l,this.scale=n,this._extent=a||[0,0],this.inverse=!1,this.onBand=!1,this._labelInterval};k.prototype={constructor:k,contain:function(l){var o=this._extent,a=Math.min(o[0],o[1]),q=Math.max(o[0],o[1]);return l>=a&&l<=q},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return j.getPixelPrecision(a||this.scale.getExtent(),this._extent)},setExtent:function(l,n){var a=this._extent;a[0]=l,a[1]=n},dataToCoord:function(o,q){var n=this._extent,l=this.scale;return o=l.normalize(o),this.onBand&&"ordinal"===l.type&&(n=n.slice(),d(n,l.count())),c(o,f,n,q)},coordToData:function(o,s){var n=this._extent,l=this.scale;this.onBand&&"ordinal"===l.type&&(n=n.slice(),d(n,l.count()));var q=c(o,n,f,s);return this.scale.scale(q)},pointToData:function(a,i){},getTicksCoords:function(l){if(this.onBand&&!l){for(var o=this.getBands(),a=[],q=0;q<o.length;q++){a.push(o[q][0])}return o[q-1]&&a.push(o[q-1][1]),a}return b.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return b.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var s=this.getExtent(),v=[],q=this.scale.count(),x=s[0],l=s[1],w=l-x,u=0;u<q;u++){v.push([w*u/q+x,w*(u+1)/q+x])}return v},getBandWidth:function(){var l=this._extent,o=this.scale.getExtent(),a=o[1]-o[0]+(this.onBand?1:0);0===a&&(a=1);var q=Math.abs(l[1]-l[0]);return Math.abs(q)/a},getLabelInterval:function(){var l=this._labelInterval;if(!l){var o=this.model,a=o.getModel("axisLabel"),q=a.get("interval");"category"!==this.type||"auto"!==q?l="auto"===q?0:q:this.isHorizontal&&(l=p.getAxisLabelInterval(b.map(this.scale.getTicks(),this.dataToCoord,this),o.getFormattedLabels(),a.getModel("textStyle").getFont(),this.isHorizontal())),this._labelInterval=l}return l}},m.exports=k},function(d,f,c){function h(a){this._setting=a||{},this._extent=[1/0,-(1/0)],this._interval=0,this.init&&this.init.apply(this,arguments)}var b=c(15),g=h.prototype;g.parse=function(a){return a},g.getSetting=function(a){return this._setting[a]},g.contain=function(a){var i=this._extent;return a>=i[0]&&a<=i[1]},g.normalize=function(a){var i=this._extent;return i[1]===i[0]?0.5:(a-i[0])/(i[1]-i[0])},g.scale=function(a){var i=this._extent;return a*(i[1]-i[0])+i[0]},g.unionExtent=function(a){var i=this._extent;a[0]<i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])},g.unionExtentFromData=function(a,i){this.unionExtent(a.getDataExtent(i,!0))},g.getExtent=function(){return this._extent.slice()},g.setExtent=function(j,k){var a=this._extent;isNaN(j)||(a[0]=j),isNaN(k)||(a[1]=k)},g.getTicksLabels=function(){for(var j=[],k=this.getTicks(),a=0;a<k.length;a++){j.push(this.getLabel(k[a]))}return j},g.isBlank=function(){return this._isBlank},g.setBlank=function(a){this._isBlank=a},b.enableClassExtend(h),b.enableClassManagement(h,{registerWhenExtend:!0}),d.exports=h},function(b,c){var a=1;"undefined"!=typeof window&&(a=Math.max(window.devicePixelRatio||1,1));var d={debugMode:0,devicePixelRatio:a};b.exports=d},function(d,g,c){var j=c(1),b=c(66),h=c(11),f=function(a){a=a||{},b.call(this,a);for(var i in a){a.hasOwnProperty(i)&&(this[i]=a[i])}this._children=[],this.__storage=null,this.__dirty=!0};f.prototype={constructor:f,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(k){for(var l=this._children,a=0;a<l.length;a++){if(l[a].name===k){return l[a]}}},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(k,l){if(k&&k!==this&&k.parent!==this&&l&&l.parent===this){var a=this._children,m=a.indexOf(l);m>=0&&(a.splice(m,0,k),this._doAdd(k))}return this},_doAdd:function(k){k.parent&&k.parent.remove(k),k.parent=this;var l=this.__storage,a=this.__zr;l&&l!==k.__storage&&(l.addToStorage(k),k instanceof f&&k.addChildrenToStorage(l)),a&&a.refresh()},remove:function(m){var n=this.__zr,l=this.__storage,k=this._children,p=j.indexOf(k,m);return p<0?this:(k.splice(p,1),m.parent=null,l&&(l.delFromStorage(m),m instanceof f&&m.delChildrenFromStorage(l)),n&&n.refresh(),this)},removeAll:function(){var k,l,a=this._children,m=this.__storage;for(l=0;l<a.length;l++){k=a[l],m&&(m.delFromStorage(k),k instanceof f&&k.delChildrenFromStorage(m)),k.parent=null}return a.length=0,this},eachChild:function(m,o){for(var l=this._children,p=0;p<l.length;p++){var k=l[p];m.call(o,k,p)}return this},traverse:function(k,l){for(var a=0;a<this._children.length;a++){var m=this._children[a];k.call(l,m),"group"===m.type&&m.traverse(k,l)}return this},addChildrenToStorage:function(k){for(var l=0;l<this._children.length;l++){var a=this._children[l];k.addToStorage(a),a instanceof f&&a.addChildrenToStorage(k)}},delChildrenFromStorage:function(k){for(var l=0;l<this._children.length;l++){var a=this._children[l];k.delFromStorage(a),a instanceof f&&a.delChildrenFromStorage(k)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(x){for(var q=null,p=new h(0,0,0,0),m=x||this._children,v=[],k=0;k<m.length;k++){var y=m[k];if(!y.ignore&&!y.invisible){var o=y.getBoundingRect(),w=y.getLocalTransform(v);w?(p.copy(o),p.applyTransform(w),q=q||p.clone(),q.union(p)):(q=q||o.clone(),q.union(o))}}return q||p}},j.inherits(f,b),d.exports=f},function(d,f){var c={},h="\0__throttleOriginMethod",b="\0__throttleRate",g="\0__throttleType";c.throttle=function(B,w,q){function m(){y=(new Date).getTime(),v=null,B.apply(j,C||[])}var z,k,j,C,p,A=0,y=0,v=null;w=w||0;var x=function(){z=(new Date).getTime(),j=this,C=arguments;var a=p||w,e=p||q;p=null,k=z-(e?A:y)-a,clearTimeout(v),e?v=setTimeout(m,a):k>=0?m():v=setTimeout(m,-k),A=z};return x.clear=function(){v&&(clearTimeout(v),v=null)},x.debounceNextCall=function(a){p=a},x},c.createOrUpdate=function(j,o,n,m){var a=j[o];if(a){var i=a[h]||a,p=a[g],k=a[b];if(k!==n||p!==m){if(null==n||!m){return j[o]=i}a=j[o]=c.throttle(i,n,"debounce"===m),a[h]=i,a[g]=m,a[b]=n}return a}},c.clear=function(j,k){var a=j[k];a&&a[h]&&(j[k]=a[h])},d.exports=c},function(d,h,c){function k(a){a=a||{},g.call(this,a);for(var i in a){a.hasOwnProperty(i)&&"style"!==i&&(this[i]=a[i])}this.style=new j(a.style),this._rect=null,this.__clipPaths=[]}var b=c(1),j=c(73),g=c(66),f=c(87);k.prototype={constructor:k,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,i){},getBoundingRect:function(){},contain:function(a,i){return this.rectContain(a,i)},traverse:function(a,i){a.call(i,this)},rectContain:function(l,m){var a=this.transformCoordToLocal(l,m),o=this.getBoundingRect();return o.contain(a[0],a[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,i){"style"!==a?g.prototype.attrKV.call(this,a,i):this.style.set(i)},setStyle:function(a,i){return this.style.set(a,i),this.dirty(!1),this},useStyle:function(a){return this.style=new j(a),this.dirty(!1),this}},b.inherits(k,g),b.mixin(k,f),d.exports=k},function(b,c){var a=function(d){this.colorStops=d||[]};a.prototype={constructor:a,addColorStop:function(d,f){this.colorStops.push({offset:d,color:f})}},b.exports=a},function(D,Q,L){function I(a){var b={componentType:a.mainType};return b[a.mainType+"Index"]=a.componentIndex,b}function V(p,h,g,d){var m,c,b=P(g-p.rotation),u=d[0]>d[1],f="start"===h&&!u||"start"!==h&&u;return G(b-z/2)?(c=f?"bottom":"top",m="center"):G(b-1.5*z)?(c=f?"top":"bottom",m="center"):(c="middle",m=b<1.5*z&&b>z/2?f?"left":"right":f?"right":"left"),{rotation:b,textAlign:m,textVerticalAlign:c}}function H(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}function F(f,h){var d=f.get("axisLabel.showMinLabel"),p=f.get("axisLabel.showMaxLabel"),c=h[0],m=h[1],g=h[h.length-1],b=h[h.length-2];d===!1?c.ignore=!0:null!=f.getMin()&&E(c,m)&&(d?m.ignore=!0:c.ignore=!0),p===!1?g.ignore=!0:null!=f.getMax()&&E(b,g)&&(p?b.ignore=!0:g.ignore=!0)}function E(d,f,c){var h=d&&d.getBoundingRect().clone(),b=f&&f.getBoundingRect().clone();if(h&&b){var g=J.identity([]);return J.rotate(g,g,-d.rotation),h.applyTransform(J.mul([],g,d.getLocalTransform())),b.applyTransform(J.mul([],g,f.getLocalTransform())),h.intersect(b)}}var K=L(1),C=L(7),T=L(3),N=L(10),R=L(4),P=R.remRadian,G=R.isRadianAroundZero,O=L(6),J=L(19),B=O.applyTransform,q=K.retrieve,z=Math.PI,W=function(b,c){this.opt=c,this.axisModel=b,K.defaults(c,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new T.Group;var a=new T.Group({position:c.position.slice(),rotation:c.rotation});a.updateTransform(),this._transform=a.transform,this._dumbGroup=a};W.prototype={constructor:W,hasBuilder:function(a){return !!U[a]},add:function(a){U[a].call(this)},getGroup:function(){return this.group}};var U={axisLine:function(){var d=this.opt,f=this.axisModel;if(f.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),h=this._transform,b=[c[0],0],g=[c[1],0];h&&(B(b,b,h),B(g,g,h)),this.group.add(new T.Line(T.subPixelOptimizeLine({anid:"line",shape:{x1:b[0],y1:b[1],x2:g[0],y2:g[1]},style:K.extend({lineCap:"round"},f.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:d.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var Z=this.axisModel,M=Z.axis;if(Z.get("axisTick.show")&&!M.scale.isBlank()){for(var v=Z.getModel("axisTick"),m=this.opt,X=v.getModel("lineStyle"),l=v.get("length"),b=k(v,m.labelInterval),aa=M.getTicksCoords(v.get("alignWithLabel")),Y=M.scale.getTicks(),w=[],S=[],y=this._transform,c=0;c<aa.length;c++){if(!j(M,c,b)){var x=aa[c];w[0]=x,w[1]=0,S[0]=x,S[1]=m.tickDirection*l,y&&(B(w,w,y),B(S,S,y)),this.group.add(new T.Line(T.subPixelOptimizeLine({anid:"tick_"+Y[c],shape:{x1:w[0],y1:w[1],x2:S[0],y2:S[1]},style:K.defaults(X.getLineStyle(),{stroke:Z.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}}}},axisLabel:function(){var aa=this.opt,r=this.axisModel,l=r.axis,S=q(aa.axisLabelShow,r.get("axisLabel.show"));if(S&&!l.scale.isBlank()){var ab=r.getModel("axisLabel"),Z=ab.getModel("textStyle"),x=ab.get("margin"),o=l.scale.getTicks(),c=r.getFormattedLabels(),n=(q(aa.labelRotate,ab.get("rotate"))||0)*z/180,h=A(aa.rotation,n,aa.labelDirection),Y=r.get("data"),X=[],y=H(r),w=r.get("triggerEvent");K.each(o,function(d,t){if(!j(l,t,aa.labelInterval)){var m=Z;Y&&Y[d]&&Y[d].textStyle&&(m=new N(Y[d].textStyle,Z,r.ecModel));var e=m.getTextColor()||r.get("axisLine.lineStyle.color"),b=l.dataToCoord(d),p=[b,aa.labelOffset+aa.labelDirection*x],i=l.scale.getLabel(d),u=new T.Text({anid:"label_"+d,style:{text:c[t],textAlign:m.get("align",!0)||h.textAlign,textVerticalAlign:m.get("baseline",!0)||h.textVerticalAlign,textFont:m.getFont(),fill:"function"==typeof e?e("category"===l.type?i:"value"===l.type?d+"":d,t):e},position:p,rotation:h.rotation,silent:y,z2:10});w&&(u.eventData=I(r),u.eventData.targetType="axisLabel",u.eventData.value=i),this._dumbGroup.add(u),u.updateTransform(),X.push(u),this.group.add(u),u.decomposeTransform()}},this),F(r,X)}},axisName:function(){var w=this.opt,ag=this.axisModel,ac=q(w.axisName,ag.get("name"));if(ac){var Y,y=ag.get("nameLocation"),ad=w.nameDirection,ah=ag.getModel("nameTextStyle"),af=ag.get("nameGap")||0,aa=this.axisModel.axis.getExtent(),ae=aa[0]>aa[1]?-1:1,ab=["start"===y?aa[0]-ae*af:"end"===y?aa[1]+ae*af:(aa[0]+aa[1])/2,"middle"===y?w.labelOffset+ad*af:0],u=ag.get("nameRotate");null!=u&&(u=u*z/180);var aj;"middle"===y?Y=A(w.rotation,null!=u?u:w.rotation,ad):(Y=V(w,y,u||0,aa),aj=w.axisNameAvailableWidth,null!=aj&&(aj=Math.abs(aj/Math.sin(Y.rotation)),!isFinite(aj)&&(aj=null)));var ai=ah.getFont(),c=ag.get("nameTruncate",!0)||{},l=c.ellipsis,o=q(w.nameTruncateMaxWidth,c.maxWidth,aj),a=null!=l&&null!=o?C.truncateText(ac,o,ai,l,{minChar:2,placeholder:c.placeholder}):ac,Z=ag.get("tooltip",!0),X=ag.mainType,n={componentType:X,name:ac,$vars:["name"]};n[X+"Index"]=ag.componentIndex;var x=new T.Text({anid:"name",__fullText:ac,__truncatedText:a,style:{text:a,textFont:ai,fill:ah.getTextColor()||ag.get("axisLine.lineStyle.color"),textAlign:Y.textAlign,textVerticalAlign:Y.textVerticalAlign},position:ab,rotation:Y.rotation,silent:H(ag),z2:1,tooltip:Z&&Z.show?K.extend({content:ac,formatter:function(){return ac},formatterParams:n},Z):null});ag.get("triggerEvent")&&(x.eventData=I(ag),x.eventData.targetType="axisName",x.eventData.name=ac),this._dumbGroup.add(x),x.updateTransform(),this.group.add(x),x.decomposeTransform()}}},A=W.innerTextLayout=function(d,f,c){var h,b,g=P(f-d);return G(g)?(b=c>0?"top":"bottom",h="center"):G(g-z)?(b=c>0?"bottom":"top",h="center"):(b="middle",h=g>0&&g<z?c>0?"right":"left":c>0?"left":"right"),{rotation:g,textAlign:h,textVerticalAlign:b}},j=W.ifIgnoreOnTick=function(d,f,c){var g,b=d.scale;return"ordinal"===b.type&&("function"==typeof c?(g=b.getTicks()[f],!c(g,b.getLabel(g))):f%(c+1))},k=W.getInterval=function(b,c){var a=b.get("interval");return null!=a&&"auto"!=a||(a=c),a};D.exports=W},function(d,h,c){function k(p,r,o,w,q,a){var m=g.getAxisPointerClass(p.axisPointerClass);if(m){var v=j.getAxisPointerModel(r);v?(p._axisPointer||(p._axisPointer=new m)).render(r,v,w,a):b(p,w)}}function b(l,m,a){var o=l._axisPointer;o&&o.dispose(m,a),l._axisPointer=null}var j=c(45),g=c(2).extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(n,o,m,l){this.axisPointerClass&&j.fixValue(n),g.superApply(this,"render",arguments),k(this,n,o,m,l,!0)},updateAxisPointer:function(n,p,m,l,q){k(this,n,p,m,l,!1)},remove:function(l,m){var a=this._axisPointer;a&&a.remove(m),g.superApply(this,"remove",arguments)},dispose:function(a,i){b(this,i),g.superApply(this,"dispose",arguments)}}),f=[];g.registerAxisPointerClass=function(a,i){f[a]=i},g.getAxisPointerClass=function(a){return a&&f[a]},d.exports=g},function(d,f,c){function h(a){return b.isObject(a)&&null!=a.value?a.value:a+""}var b=c(1),g=c(18);d.exports={getFormattedLabels:function(){return g.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&b.map(this.get("data"),h)},getMin:function(j){var k=this.option,a=j||null==k.rangeStart?k.min:k.rangeStart;return this.axis&&null!=a&&"dataMin"!==a&&!b.eqNaN(a)&&(a=this.axis.scale.parse(a)),a},getMax:function(j){var k=this.option,a=j||null==k.rangeEnd?k.max:k.rangeEnd;return this.axis&&null!=a&&"dataMax"!==a&&!b.eqNaN(a)&&(a=this.axis.scale.parse(a)),a},getNeedCrossZero:function(){var a=this.option;return null==a.rangeStart&&null==a.rangeEnd&&!a.scale},getCoordSysModel:b.noop,setRange:function(a,i){this.option.rangeStart=a,this.option.rangeEnd=i},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}},function(k,h,g){var d=g(4),j=g(7),c=g(34),b=g(64),m=d.round,f=c.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(l,n){var a=this._extent;isNaN(l)||(a[0]=parseFloat(l)),isNaN(n)||(a[1]=parseFloat(n))},unionExtent:function(a){var i=this._extent;a[0]<i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1]),f.prototype.setExtent.call(this,i[0],i[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a,this._niceExtent=this._extent.slice()},getTicks:function(){return b.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var l=[],n=this.getTicks(),a=0;a<n.length;a++){l.push(this.getLabel(n[a]))}return l},getLabel:function(l,n){if(null==l){return""}var a=n&&n.precision;return null==a?a=d.getPrecisionSafe(l)||0:"auto"===a&&(a=this._intervalPrecision),l=m(l,a,!0),j.addCommas(l)},niceTicks:function(p,q){p=p||5;var o=this._extent,r=o[1]-o[0];if(isFinite(r)){r<0&&(r=-r,o.reverse());var l=b.intervalScaleNiceTicks(o,p,q);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},niceExtent:function(p){var q=this._extent;if(q[0]===q[1]){if(0!==q[0]){var o=q[0];p.fixMax?q[0]-=o/2:(q[1]+=o/2,q[0]-=o/2)}else{q[1]=1}}var r=q[1]-q[0];isFinite(r)||(q[0]=0,q[1]=1),this.niceTicks(p.splitNumber,p.minInterval);var l=this._interval;p.fixMin||(q[0]=m(Math.floor(q[0]/l)*l)),p.fixMax||(q[1]=m(Math.ceil(q[1]/l)*l))}});f.create=function(){return new f},k.exports=f},function(d,h,c){function k(a){this.group=new j.Group,this._symbolCtor=a||g}function b(l,m,a){var o=l.getItemLayout(m);return o&&!isNaN(o[0])&&!isNaN(o[1])&&!(a&&a(m))&&"none"!==l.getItemVisual(m,"symbol")}var j=c(3),g=c(54),f=k.prototype;f.updateData=function(o,u){var m=this.group,v=o.hostModel,q=this._data,p=this._symbolCtor,a={itemStyle:v.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:v.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:v.get("symbolRotate"),symbolOffset:v.get("symbolOffset"),hoverAnimation:v.get("hoverAnimation"),labelModel:v.getModel("label.normal"),hoverLabelModel:v.getModel("label.emphasis")};o.diff(q).add(function(l){var i=o.getItemLayout(l);if(b(o,l,u)){var e=new p(o,l,a);e.attr("position",i),o.setItemGraphicEl(l,e),m.add(e)}}).update(function(e,n){var i=q.getItemGraphicEl(n),l=o.getItemLayout(e);return b(o,e,u)?(i?(i.updateData(o,e,a),j.updateProps(i,{position:l},v)):(i=new p(o,e),i.attr("position",l)),m.add(i),void o.setItemGraphicEl(e,i)):void m.remove(i)}).remove(function(i){var l=q.getItemGraphicEl(i);l&&l.fadeOut(function(){m.remove(l)})}).execute(),this._data=o},f.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(m,l){var o=a.getItemLayout(l);m.attr("position",o)})},f.remove=function(l){var m=this.group,a=this._data;a&&(l?a.eachItemGraphicEl(function(e){e.fadeOut(function(){m.remove(e)})}):m.removeAll())},d.exports=k},function(C,x,q){function k(d,h,c){var p=h.getComponent("tooltip"),l=h.getComponent("axisPointer"),f=l.get("link",!0)||[],a=[];v(c.getCoordinateSystems(),function(n){function s(i,K,H){var J=H.model.getModel("axisPointer",l),I=J.get("show");if(I&&("auto"!==I||i||m(J))){null==K&&(K=J.get("triggerTooltip")),J=i?A(H,F,l,h,i,K):J;var G=J.get("snap"),M=g(H.model),N=K||G||"category"===H.type,P=d.axesInfo[M]={key:M,axis:H,coordSys:n,axisPointerModel:J,triggerTooltip:K,involveSeries:N,snap:G,useHandle:m(J),seriesModels:[]};o[M]=P,d.seriesInvolved|=N;var L=b(f,H);if(null!=L){var O=a[L]||(a[L]={axesInfo:{}});O.axesInfo[M]=P,O.mapper=f[L].mapper,P.linkGroup=O}}}if(n.axisPointerEnabled){var r=g(n.model),o=d.coordSysAxesInfo[r]={};d.coordSysMap[r]=n;var e=n.model,F=e.getModel("tooltip",p);if(v(n.getAxes(),y(s,!1,null)),n.getTooltipAxes&&p&&F.get("show")){var t="axis"===F.get("trigger"),u="cross"===F.get("axisPointer.type"),E=n.getTooltipAxes(F.get("axisPointer.axis"));(t||u)&&v(E.baseAxes,y(s,!u||"cross",t)),u&&v(E.otherAxes,y(s,"cross",!1))}}})}function A(H,E,u,h,G,f){var c=E.getModel("axisPointer"),I={};v(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(a){I[a]=B.clone(c.get(a))}),I.snap="category"!==H.type&&!!f,"cross"===c.get("type")&&(I.type="line");var p=I.label||(I.label={});if(null==p.show&&(p.show=!1),"cross"===G&&(p.show=!0,!f)){var F=I.lineStyle=c.get("crossStyle");F&&B.defaults(p.textStyle||(p.textStyle={}),F.textStyle)}return H.model.getModel("axisPointer",new z(I,u,h))}function j(a,c){c.eachSeries(function(f){var d=f.coordinateSystem,h=f.get("tooltip.trigger",!0);d&&"none"!==h&&h!==!1&&"item"!==h&&f.get("axisPointer.show",!0)!==!1&&v(a.coordSysAxesInfo[g(d.model)],function(e){var i=e.axis;d.getAxis(i.dim)===i&&(e.seriesModels.push(f),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=f.getData().count())})},this)}function b(f,h){for(var d=h.model,p=h.dim,c=0;c<f.length;c++){var l=f[c]||{};if(D(l[p+"AxisId"],d.id)||D(l[p+"AxisIndex"],d.componentIndex)||D(l[p+"AxisName"],d.name)){return c}}}function D(a,c){return"all"===a||B.isArray(a)&&B.indexOf(a,c)>=0||a===c}function m(a){return !!a.get("handle.show")}var B=q(1),z=q(10),v=B.each,y=B.curry,w={};w.collect=function(c,d){var a={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return k(a,c,d),a.seriesInvolved&&j(a,c),a},w.fixValue=function(F){var l=w.getAxisInfo(F);if(l){var h=l.axisPointerModel,f=l.axis.scale,p=h.option,d=h.get("status"),c=h.get("value");null!=c&&(c=f.parse(c));var G=m(h);null==d&&(p.status=G?"show":"hide");var E=f.getExtent().slice();E[0]>E[1]&&E.reverse(),(null==c||c>E[1])&&(c=E[1]),c<E[0]&&(c=E[0]),p.value=c,G&&(p.status=l.axis.scale.isBlank()?"hide":"show")}},w.getAxisInfo=function(a){var c=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return c&&c.axesInfo[g(a)]},w.getAxisPointerModel=function(a){var c=w.getAxisInfo(a);return c&&c.axisPointerModel};var g=w.makeKey=function(a){return a.type+"||"+a.id};C.exports=w},function(A,v,m){function j(a){var c={};return p(["start","end","startValue","endValue","throttle"],function(d){a.hasOwnProperty(d)&&(c[d]=a[d])}),c}function y(a,c){p([["start","startValue"],["end","endValue"]],function(e,f){var d=a._rangePropMode;null!=c[e[0]]?d[f]="percent":null!=c[e[1]]&&(d[f]="value")})}var g=m(1),b=m(9),B=m(2),k=m(5),z=m(77),x=m(198),p=g.each,w=z.eachAxisDim,q=B.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null},init:function(f,h,d){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var c=j(f);this.mergeDefaultAndTheme(f,d),this.doInit(c)},mergeOption:function(a){var c=j(a);g.merge(this.option,a,!0),this.doInit(c)},doInit:function(a){var c=this.option;b.canvasSupported||(c.realtime=!1),this._setDefaultThrottle(a),y(this,a),p([["start","startValue"],["end","endValue"]],function(e,d){"value"===this._rangePropMode[d]&&(c[e[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(h,d,s,c){var l=this.dependentModels[h.axis][d],f=l.__dzAxisProxy||(l.__dzAxisProxy=new x(h.name,d,this,c));a[h.name+"_"+d]=f},this)},_resetTarget:function(){var a=this.option,c=this._judgeAutoMode();w(function(f){var d=f.axisIndex;a[d]=k.normalizeToArray(a[d])},this),"axisIndex"===c?this._autoSetAxisIndex():"orient"===c&&this._autoSetOrient()},_judgeAutoMode:function(){var c=this.option,d=!1;w(function(e){null!=c[e.axisIndex]&&(d=!0)},this);var a=c.orient;return null==a&&d?"orient":d?void 0:(null==a&&(c.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var f=!0,h=this.get("orient",!0),d=this.option,l=this.dependentModels;if(f){var c="vertical"===h?"y":"x";l[c+"Axis"].length?(d[c+"AxisIndex"]=[0],f=!1):p(l.singleAxis,function(a){f&&a.get("orient",!0)===h&&(d.singleAxisIndex=[a.componentIndex],f=!1)})}f&&w(function(t){if(f){var C=[],i=this.dependentModels[t.axis];if(i.length&&!C.length){for(var u=0,s=i.length;u<s;u++){"category"===i[u].get("type")&&C.push(u)}}d[t.axisIndex]=C,C.length&&(f=!1)}},this),f&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&w(function(u){var C=d[u.axisIndex],i=a.get(u.axisIndex),t=a.get(u.axisId),o=a.ecModel.queryComponents({mainType:u.axis,index:i,id:t})[0];i=o.componentIndex,g.indexOf(C,i)<0&&C.push(i)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(c){!a&&(a=c.name)},this),this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(c,d){var a=!0;return w(function(h){var e=c.get(h.axisIndex),f=this.dependentModels[h.axis][e];f&&f.get("type")===d||(a=!1)},this),a},_setDefaultThrottle:function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var c=this.ecModel.option;this.option.throttle=c.animation&&c.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var a;return w(function(d){if(null==a){var c=this.get(d.axisIndex);c.length&&(a=this.dependentModels[d.axis][c[0]])}},this),a},eachTargetAxis:function(c,d){var a=this.ecModel;w(function(e){p(this.get(e.axisIndex),function(f){c.call(d,e,f,this,a)},this)},this)},getAxisProxy:function(a,c){return this._axisProxies[a+"_"+c]},getAxisModel:function(c,d){var a=this.getAxisProxy(c,d);return a&&a.getAxisModel()},setRawRange:function(a,c){p(["start","end","startValue","endValue"],function(d){this.option[d]=a[d]},this),!c&&y(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a){return a.getDataPercentWindow()}},getValueRange:function(c,d){if(null!=c||null!=d){return this.getAxisProxy(c,d).getDataValueWindow()}var a=this.findRepresentativeAxisProxy();return a?a.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(c){if(c){return c.__dzAxisProxy}var d=this._axisProxies;for(var a in d){if(d.hasOwnProperty(a)&&d[a].hostedBy(this)){return d[a]}}for(var a in d){if(d.hasOwnProperty(a)&&!d[a].hostedBy(this)){return d[a]}}},getRangePropMode:function(){return this._rangePropMode.slice()}});A.exports=q},function(b,c,a){var d=a(65);b.exports=d.extend({type:"dataZoom",render:function(g,h,f,j){this.dataZoomModel=g,this.ecModel=h,this.api=f},getTargetCoordInfo:function(){function g(m,p,l,r){for(var k,q=0;q<l.length;q++){if(l[q].model===m){k=l[q];break}}k||l.push(k={model:m,axisModels:[],coordIndex:r}),k.axisModels.push(p)}var h=this.dataZoomModel,f=this.ecModel,j={};return h.eachTargetAxis(function(l,i){var m=f.getComponent(l.axis,i);if(m){var k=m.getCoordSysModel();k&&g(k,m,j[k.mainType]||(j[k.mainType]=[]),k.componentIndex)}},this),j}})},function(d,f){function c(a){return a}function g(i,j,k,h){this._old=i,this._new=j,this._oldKeyGetter=k||c,this._newKeyGetter=h||c}function b(k,m,j,q){for(var h=0;h<k.length;h++){var p="_ec_"+q(k[h],h),l=m[p];null==l?(j.push(p),m[p]=h):(l.length||(m[p]=l=[l]),l.push(h))}}g.prototype={constructor:g,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var A,w=this._old,p=this._new,k=this._oldKeyGetter,j=this._newKeyGetter,a={},B={},m=[],z=[];for(b(w,a,m,k),b(p,B,z,j),A=0;A<w.length;A++){var y=m[A],q=B[y];if(null!=q){var x=q.length;x?(1===x&&(B[y]=null),q=q.unshift()):B[y]=null,this._update&&this._update(q,A)}else{this._remove&&this._remove(A)}}for(var A=0;A<z.length;A++){var y=z[A];if(B.hasOwnProperty(y)){var q=B[y];if(null==q){continue}if(q.length){for(var v=0,x=q.length;v<x;v++){this._add&&this._add(q[v])}}else{this._add&&this._add(q)}}}}},d.exports=g},function(k,h,g){var d=g(1),j=g(15),c=j.parseClassType,b=0,m={},f="_";m.getUID=function(a){return[a||"",b++,Math.random()].join(f)},m.enableSubTypeDefaulter=function(a){var i={};return a.registerSubTypeDefaulter=function(l,e){l=c(l),i[l.main]=e},a.determineSubType=function(l,p){var e=p.type;if(!e){var o=c(l).main;a.hasSubTypes(l)&&i[o]&&(e=i[o](p))}return e},a},m.enableTopologicalTravel=function(p,q){function n(e){var a={},o=[];return d.each(e,function(v){var i=l(a,v),t=i.originalDeps=q(v),w=r(t,e);i.entryCount=w.length,0===i.entryCount&&o.push(v),d.each(w,function(s){d.indexOf(i.predecessor,s)<0&&i.predecessor.push(s);var u=l(a,s);d.indexOf(u.successor,s)<0&&u.successor.push(v)})}),{graph:a,noEntryList:o}}function l(a,i){return a[i]||(a[i]={predecessor:[],successor:[]}),a[i]}function r(o,s){var a=[];return d.each(o,function(e){d.indexOf(s,e)>=0&&a.push(e)}),a}p.topologicalTravel=function(F,A,D,w){function i(a){E[a].entryCount--,0===E[a].entryCount&&C.push(a)}function G(a){y[a]=!0,i(a)}if(F.length){var x=n(A),E=x.graph,C=x.noEntryList,y={};for(d.each(F,function(a){y[a]=!0});C.length;){var B=C.pop(),z=E[B],v=!!y[B];v&&(D.call(w,B,z.originalDeps.slice()),delete y[B]),d.each(z.successor,v?G:i)}d.each(y,function(){throw new Error("Circle dependency may exists")})}}},k.exports=m},function(a,b){a.exports=function(f,g,d,h,c){h.eachRawSeriesByType(f,function(i){var e=i.getData(),k=i.get("symbol")||g,j=i.get("symbolSize");e.setVisual({legendSymbol:d||k,symbol:k,symbolSize:j}),h.isSeriesFiltered(i)||("function"==typeof j&&e.each(function(m){var l=i.getRawValue(m),o=i.getDataParams(m);e.setItemVisual(m,"symbolSize",j(l,o))}),e.each(function(m){var o=e.getItemModel(m),l=o.getShallow("symbol",!0),p=o.getShallow("symbolSize",!0);null!=l&&e.setItemVisual(m,"symbol",l),null!=p&&e.setItemVisual(m,"symbolSize",p)}))})}},function(y,p){function k(a){for(var c=0;a>=v;){c|=1&a,a>>=1}return a+c}function g(c,d,a,l){var h=d+1;if(h===a){return 1}if(l(c[h++],c[d])<0){for(;h<a&&l(c[h],c[h-1])<0;){h++}w(c,d,h)}else{for(;h<a&&l(c[h],c[h-1])>=0;){h++}}return h-d}function w(c,d,a){for(a--;d<a;){var h=c[d];c[d++]=c[a],c[a--]=h}}function f(F,C,B,h,D){for(h===C&&h++;h<B;h++){for(var d,c=F[h],G=C,A=h;G<A;){d=G+A>>>1,D(c,F[d])<0?A=d:G=d+1}var E=h-G;switch(E){case 3:F[G+3]=F[G+2];case 2:F[G+2]=F[G+1];case 1:F[G+1]=F[G];break;default:for(;E>0;){F[G+E]=F[G+E-1],E--}}F[G]=c}}function b(H,D,C,A,F,h){var d=0,I=0,B=1;if(h(H,D[C+F])>0){for(I=A-F;B<I&&h(H,D[C+F+B])>0;){d=B,B=(B<<1)+1,B<=0&&(B=I)}B>I&&(B=I),d+=F,B+=F}else{for(I=F+1;B<I&&h(H,D[C+F-B])<=0;){d=B,B=(B<<1)+1,B<=0&&(B=I)}B>I&&(B=I);var G=d;d=F-B,B=F-G}for(d++;d<B;){var E=d+(B-d>>>1);h(H,D[C+E])>0?d=E+1:B=E}return B}function z(H,D,C,A,F,h){var d=0,I=0,B=1;if(h(H,D[C+F])<0){for(I=F+1;B<I&&h(H,D[C+F-B])<0;){d=B,B=(B<<1)+1,B<=0&&(B=I)}B>I&&(B=I);var G=d;d=F-B,B=F-G}else{for(I=A-F;B<I&&h(H,D[C+F+B])>=0;){d=B,B=(B<<1)+1,B<=0&&(B=I)}B>I&&(B=I),d+=F,B+=F}for(d++;d<B;){var E=d+(B-d>>>1);h(H,D[C+E])<0?B=E:d=E+1}return B}function j(L,E){function B(a,c){F[G]=a,D[G]=c,G+=1}function r(){for(;G>1;){var a=G-2;if(a>=1&&D[a-1]<=D[a]+D[a+1]||a>=2&&D[a-2]<=D[a]+D[a-1]){D[a-1]<D[a+1]&&a--}else{if(D[a]>D[a+1]){break}}h(a)}}function I(){for(;G>1;){var a=G-2;a>0&&D[a-1]<D[a+1]&&a--,h(a)}}function h(e){var M=F[e],c=D[e],u=F[e+1],l=D[e+1];D[e]=c+l,e===G-3&&(F[e+1]=F[e+2],D[e+1]=D[e+2]),G--;var t=z(L[u],L,M,c,0,E);M+=t,c-=t,0!==c&&(l=b(L[M+c-1],L,u,l,l-1,E),0!==l&&(c<=l?A(M,c,u,l):K(M,c,u,l)))}function A(O,t,T,e){var N=0;for(N=0;N<t;N++){H[N]=L[O+N]}var V=0,S=T,R=O;if(L[R++]=L[S++],0!==--e){if(1===t){for(N=0;N<e;N++){L[R+N]=L[S+N]}return void (L[R+e]=H[V])}for(var Q,P,M,U=d;;){Q=0,P=0,M=!1;do{if(E(L[S],H[V])<0){if(L[R++]=L[S++],P++,Q=0,0===--e){M=!0;break}}else{if(L[R++]=H[V++],Q++,P=0,1===--t){M=!0;break}}}while((Q|P)<U);if(M){break}do{if(Q=z(L[S],H,V,t,0,E),0!==Q){for(N=0;N<Q;N++){L[R+N]=H[V+N]}if(R+=Q,V+=Q,t-=Q,t<=1){M=!0;break}}if(L[R++]=L[S++],0===--e){M=!0;break}if(P=b(H[V],L,S,e,0,E),0!==P){for(N=0;N<P;N++){L[R+N]=L[S+N]}if(R+=P,S+=P,e-=P,0===e){M=!0;break}}if(L[R++]=H[V++],1===--t){M=!0;break}U--}while(Q>=m||P>=m);if(M){break}U<0&&(U=0),U+=2}if(d=U,d<1&&(d=1),1===t){for(N=0;N<e;N++){L[R+N]=L[S+N]}L[R+e]=H[V]}else{if(0===t){throw new Error}for(N=0;N<t;N++){L[R+N]=H[V+N]}}}else{for(N=0;N<t;N++){L[R+N]=H[V+N]}}}function K(O,t,U,e){var N=0;for(N=0;N<e;N++){H[N]=L[U+N]}var X=O+t-1,S=e-1,R=U+e-1,Q=0,P=0;if(L[R--]=L[X--],0!==--t){if(1===e){for(R-=t,X-=t,P=R+1,Q=X+1,N=t-1;N>=0;N--){L[P+N]=L[Q+N]}return void (L[R]=H[S])}for(var M=d;;){var W=0,T=0,V=!1;do{if(E(H[S],L[X])<0){if(L[R--]=L[X--],W++,T=0,0===--t){V=!0;break}}else{if(L[R--]=H[S--],T++,W=0,1===--e){V=!0;break}}}while((W|T)<M);if(V){break}do{if(W=t-z(H[S],L,O,t,t-1,E),0!==W){for(R-=W,X-=W,t-=W,P=R+1,Q=X+1,N=W-1;N>=0;N--){L[P+N]=L[Q+N]}if(0===t){V=!0;break}}if(L[R--]=H[S--],1===--e){V=!0;break}if(T=e-b(L[X],H,0,e,e-1,E),0!==T){for(R-=T,S-=T,e-=T,P=R+1,Q=S+1,N=0;N<T;N++){L[P+N]=H[Q+N]}if(e<=1){V=!0;break}}if(L[R--]=L[X--],0===--t){V=!0;break}M--}while(W>=m||T>=m);if(V){break}M<0&&(M=0),M+=2}if(d=M,d<1&&(d=1),1===e){for(R-=t,X-=t,P=R+1,Q=X+1,N=t-1;N>=0;N--){L[P+N]=L[Q+N]}L[R]=H[S]}else{if(0===e){throw new Error}for(Q=R-(e-1),N=0;N<e;N++){L[Q+N]=H[N]}}}else{for(Q=R-(e-1),N=0;N<e;N++){L[Q+N]=H[N]}}}var F,D,d=m,C=0,s=q,J=0,G=0;C=L.length,C<2*q&&(s=C>>>1);var H=[];J=C<120?5:C<1542?10:C<119151?19:40,F=[],D=[],this.mergeRuns=r,this.forceMergeRuns=I,this.pushRun=B}function x(C,n,A,c){A||(A=0),c||(c=C.length);var D=c-A;if(!(D<2)){var B=0;if(D<v){return B=g(C,A,c,n),void f(C,A,c,A+B,n)}var i=new j(C,n),o=k(D);do{if(B=g(C,A,c,n),B<o){var l=D;l>o&&(l=o),f(C,A,A+l,A+B,n),B=l}i.pushRun(A,B),i.mergeRuns(),D-=B,A+=B}while(0!==D);i.forceMergeRuns()}}var v=32,m=7,q=256;y.exports=x},function(b,c,a){var d=a(35);b.exports=function(){if(0!==d.debugMode){if(1==d.debugMode){for(var e in arguments){throw new Error(arguments[e])}}else{if(d.debugMode>1){for(var e in arguments){console.log(arguments[e])}}}}}},function(k,h,g){function d(a){j.call(this,a)}var j=g(38),c=g(11),b=g(1),m=g(70),f=new m(50);d.prototype={constructor:d,type:"image",brush:function(G,B){var x,w=this.style,E=w.image;if(w.bind(G,this,B),x="string"==typeof E?this._image:E,!x&&E){var v=f.get(E);if(!v){return x=new Image,x.onload=function(){x.onload=null;for(var a=0;a<v.pending.length;a++){v.pending[a].dirty()}},v={image:x,pending:[this]},x.src=E,f.put(E,v),void (this._image=x)}if(x=v.image,this._image=x,!x.width||!x.height){return void v.pending.push(this)}}if(x){var l=w.x||0,H=w.y||0;if(!x.width||!x.height){return}var F=w.width,D=w.height,y=x.width/x.height;if(null==F&&null!=D?F=D*y:null==D&&null!=F?D=F/y:null==F&&null==D&&(F=x.width,D=x.height),this.setTransform(G),w.sWidth&&w.sHeight){var C=w.sx||0,A=w.sy||0;G.drawImage(x,C,A,w.sWidth,w.sHeight,l,H,F,D)}else{if(w.sx&&w.sy){var C=w.sx,A=w.sy,q=F-C,z=D-A;G.drawImage(x,C,A,q,z,l,H,F,D)}else{G.drawImage(x,l,H,F,D)}}this.restoreTransform(G),null!=w.text&&this.drawRectText(G,this.getBoundingRect())}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new c(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}},b.inherits(d,j),k.exports=d},function(G,B,x){function q(c,d){var a=c.getItemVisual(d,"symbolSize");return a instanceof Array?a.slice():[+a,+a]}function E(a){return[a[0]/2,a[1]/2]}function k(c,d,a){F.Group.call(this),this.updateData(c,d,a)}function b(a,c){this.parent.drift(a,c)}var H=x(1),w=x(24),F=x(3),D=x(4),y=x(92),C=k.prototype;C._createSymbol=function(d,g,a,m){this.removeAll();var h=g.hostModel,f=g.getItemVisual(a,"color"),l=w.createSymbol(d,-1,-1,2,2,f);l.attr({z2:100,culling:!0,scale:[0,0]}),l.drift=b,F.initProps(l,{scale:E(m)},h,a),this._symbolType=d,this.add(l)},C.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)},C.getSymbolPath=function(){return this.childAt(0)},C.getScale=function(){return this.childAt(0).scale},C.highlight=function(){this.childAt(0).trigger("emphasis")},C.downplay=function(){this.childAt(0).trigger("normal")},C.setZ=function(c,d){var a=this.childAt(0);a.zlevel=c,a.z=d},C.setDraggable=function(a){var c=this.childAt(0);c.draggable=a,c.cursor=a?"move":"pointer"},C.updateData=function(d,h,c){this.silent=!1;var m=d.getItemVisual(h,"symbol")||"circle",g=d.hostModel,f=q(d,h);if(m!==this._symbolType){this._createSymbol(m,d,h,f)}else{var a=this.childAt(0);a.silent=!1,F.updateProps(a,{scale:E(f)},g,h)}this._updateCommon(d,h,f,c),this._seriesModel=g};var A=["itemStyle","normal"],j=["itemStyle","emphasis"],z=["label","normal"],v=["label","emphasis"];C._updateCommon=function(J,V,U,Q){var P=this.childAt(0),N=J.hostModel,R=J.getItemVisual(V,"color");"image"!==P.type&&P.useStyle({strokeNoScale:!0}),Q=Q||null;var W=Q&&Q.itemStyle,u=Q&&Q.hoverItemStyle,h=Q&&Q.symbolRotate,p=Q&&Q.symbolOffset,Y=Q&&Q.labelModel,X=Q&&Q.hoverLabelModel,s=Q&&Q.hoverAnimation;if(!Q||J.hasItemOption){var c=J.getItemModel(V);W=c.getModel(A).getItemStyle(["color"]),u=c.getModel(j).getItemStyle(),h=c.getShallow("symbolRotate"),p=c.getShallow("symbolOffset"),Y=c.getModel(z),X=c.getModel(v),s=c.getShallow("hoverAnimation")}else{u=H.extend({},u)}var f=P.style;P.attr("rotation",(h||0)*Math.PI/180||0),p&&P.attr("position",[D.parsePercent(p[0],U[0]),D.parsePercent(p[1],U[1])]),P.setColor(R),P.setStyle(W);var m=J.getItemVisual(V,"opacity");null!=m&&(f.opacity=m);var a=y.findLabelValueDim(J);y.setTextToStyle(J,V,a,f,N,Y,R),y.setTextToStyle(J,V,a,u,N,X,R),P.off("mouseover").off("mouseout").off("emphasis").off("normal"),P.hoverStyle=u,F.setHoverStyle(P);var O=E(U);if(s&&N.isAnimationEnabled()){var K=function(){var d=O[1]/O[0];this.animateTo({scale:[Math.max(1.1*O[0],O[0]+3),Math.max(1.1*O[1],O[1]+3*d)]},400,"elasticOut")},g=function(){this.animateTo({scale:O},400,"elasticOut")};P.on("mouseover",K).on("mouseout",g).on("emphasis",K).on("normal",g)}},C.fadeOut=function(a){var c=this.childAt(0);this.silent=c.silent=!0,c.style.text="",F.updateProps(c,{scale:[0,0]},this._seriesModel,this.dataIndex,a)},H.inherits(k,F.Group),G.exports=k},function(d,g,c){var j=c(2),b=c(45),h=c(196),f=c(1);c(194),c(195),c(120),j.registerPreprocessor(function(a){if(a){(!a.axisPointer||0===a.axisPointer.length)&&(a.axisPointer={});var i=a.axisPointer.link;i&&!f.isArray(i)&&(a.axisPointer.link=[i])}}),j.registerProcessor(j.PRIORITY.PROCESSOR.STATISTIC,function(a,i){a.getComponent("axisPointer").coordSysAxesInfo=b.collect(a,i)}),j.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(k,l,a){var m=h(l.getComponent("axisPointer").coordSysAxesInfo,k.currTrigger,[k.x,k.y],k,k.dispatchAction||f.bind(a.dispatchAction,a),l,a,k.tooltipOption);return m})},function(b,c){function a(g,h){var f=g[h]-g[1-h];return{span:Math.abs(f),sign:f>0?-1:f<0?1:h?-1:1}}function d(f,g){return Math.min(g[1],Math.max(g[0],f))}b.exports=function(v,k,p,g,f,w){k[0]=d(k[0],p),k[1]=d(k[1],p),v=v||0;var i=p[1]-p[0];null!=f&&(f=d(f,[0,i])),null!=w&&(w=Math.max(w,null!=f?f:0)),"all"===g&&(f=w=Math.abs(k[1]-k[0]),g=0);var q=a(k,g);k[g]+=v;var n=f||0,j=p.slice();q.sign<0?j[0]+=n:j[1]-=n,k[g]=d(k[g],j);var m=a(k,g);null!=f&&(m.sign!==q.sign||m.span<f)&&(k[1-g]=k[g]+q.sign*f);var m=a(k,g);return null!=w&&m.span>w&&(k[1-g]=k[g]+m.sign*w),k}},function(q,I,E){function B(c,d,a){return c.getCoordSysModel()===d}function L(u){var m,h=u.model,f=h.getFormattedLabels(),p=h.getModel("axisLabel.textStyle"),d=1,c=f.length;c>40&&(d=Math.ceil(c/40));for(var v=0;v<c;v+=d){if(!u.isLabelIgnored(v)){var g=p.getTextRect(f[v]);m?m.union(g):m=g}}return m}function A(c,d,a){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(c,d,a),this.model=c}function x(c,d){var a=c.getExtent(),f=a[0]+a[1];c.toGlobalCoord="x"===c.dim?function(e){return e+d}:function(e){return f-e+d},c.toLocalCoord="x"===c.dim?function(e){return e-d}:function(e){return f-e+d}}function w(a,c){return F.map(b,function(f){var d=a.getReferringComponents(f)[0];return d})}function D(a){return"cartesian2d"===a.get("coordinateSystem")}var k=E(12),K=E(18),F=E(1),J=E(133),H=E(131),z=F.each,G=K.ifAxisCrossZero,C=K.niceScaleExtent;E(134);var j=A.prototype;j.type="grid",j.axisPointerEnabled=!0,j.getRect=function(){return this._rect},j.update=function(c,d){function a(l){var m=f[l];for(var h in m){if(m.hasOwnProperty(h)){var g=m[h];if(g&&("category"===g.type||"time"===g.type||!G(g))){return !0}}}return !1}var f=this._axesMap;this._updateScale(c,this.model),z(f.x,function(e){C(e.scale,e.model)}),z(f.y,function(e){C(e.scale,e.model)}),z(f.x,function(e){a("y")&&(e.onZero=!1)}),z(f.y,function(e){a("x")&&(e.onZero=!1)}),this.resize(this.model,d)},j.resize=function(c,f,a){function h(){z(d,function(m){var o=m.isHorizontal(),l=o?[0,g.width]:[0,g.height],p=m.inverse?1:0;m.setExtent(l[p],l[1-p]),x(m,o?g.x:g.y)})}var g=k.getLayoutRect(c.getBoxLayoutParams(),{width:f.getWidth(),height:f.getHeight()});this._rect=g;var d=this._axesList;h(),!a&&c.get("containLabel")&&(z(d,function(m){if(!m.model.get("axisLabel.inside")){var o=L(m);if(o){var l=m.isHorizontal()?"height":"width",p=m.model.get("axisLabel.margin");g[l]-=o[l]+p,"top"===m.position?g.y+=o.height+p:"left"===m.position&&(g.x+=o.width+p)}}}),h())},j.getAxis=function(c,d){var a=this._axesMap[c];if(null!=a){if(null==d){for(var f in a){if(a.hasOwnProperty(f)){return a[f]}}}return a[d]}},j.getAxes=function(){return this._axesList.slice()},j.getCartesian=function(f,g){if(null!=f&&null!=g){var d="x"+f+"y"+g;return this._coordsMap[d]}F.isObject(f)&&(g=f.yAxisIndex,f=f.xAxisIndex);for(var h=0,c=this._coordsList;h<c.length;h++){if(c[h].getAxis("x").index===f||c[h].getAxis("y").index===g){return c[h]}}},j.getCartesians=function(){return this._coordsList.slice()},j.convertToPixel=function(c,d,a){var f=this._findConvertTarget(c,d);return f.cartesian?f.cartesian.dataToPoint(a):f.axis?f.axis.toGlobalCoord(f.axis.dataToCoord(a)):null},j.convertFromPixel=function(c,d,a){var f=this._findConvertTarget(c,d);return f.cartesian?f.cartesian.pointToData(a):f.axis?f.axis.coordToData(f.axis.toLocalCoord(a)):null},j._findConvertTarget=function(y,m){var h,f,p=m.seriesModel,d=m.xAxisModel||p&&p.getReferringComponents("xAxis")[0],c=m.yAxisModel||p&&p.getReferringComponents("yAxis")[0],M=m.gridModel,g=this._coordsList;if(p){h=p.coordinateSystem,F.indexOf(g,h)<0&&(h=null)}else{if(d&&c){h=this.getCartesian(d.componentIndex,c.componentIndex)}else{if(d){f=this.getAxis("x",d.componentIndex)}else{if(c){f=this.getAxis("y",c.componentIndex)}else{if(M){var v=M.coordinateSystem;v===this&&(h=this._coordsList[0])}}}}}return{cartesian:h,axis:f}},j.containPoint=function(a){var c=this._coordsList[0];if(c){return c.containPoint(a)}},j._initCartesian=function(f,l,d){function c(a){return function(i,e){if(B(i,f,l)){var n=i.get("position");"x"===a?"top"!==n&&"bottom"!==n&&(n="bottom",m[n]&&(n="top"===n?"bottom":"top")):"left"!==n&&"right"!==n&&(n="left",m[n]&&(n="left"===n?"right":"left")),m[n]=!0;var o=new H(a,K.createScaleByModel(i),[0,0],i.get("type"),n),p="category"===o.type;o.onBand=p&&i.get("boundaryGap"),o.inverse=i.get("inverse"),o.onZero=i.get("axisLine.onZero"),i.axis=o,o.model=i,o.grid=this,o.index=e,this._axesList.push(o),h[a][e]=o,g[a]++}}}var m={left:!1,right:!1,top:!1,bottom:!1},h={x:{},y:{}},g={x:0,y:0};return l.eachComponent("xAxis",c("x"),this),l.eachComponent("yAxis",c("y"),this),g.x&&g.y?(this._axesMap=h,void z(h.x,function(n,a){z(h.y,function(s,e){var p="x"+a+"y"+e,i=new J(p);i.grid=this,i.model=f,this._coordsMap[p]=i,this._coordsList.push(i),i.addAxis(n),i.addAxis(s)},this)},this)):(this._axesMap={},void (this._axesList=[]))},j._updateScale=function(c,d){function a(g,h,f){z(f.coordDimToDataDim(h.dim),function(e){h.scale.unionExtentFromData(g,e)})}F.each(this._axesList,function(e){e.scale.setExtent(1/0,-(1/0))}),c.eachSeries(function(e){if(D(e)){var p=w(e,c),l=p[0],g=p[1];if(!B(l,d,c)||!B(g,d,c)){return}var s=this.getCartesian(l.componentIndex,g.componentIndex),i=e.getData(),n=s.getAxis("x"),m=s.getAxis("y");"list"===i.type&&(a(i,n,e),a(i,m,e))}},this)},j.getTooltipAxes=function(c){var d=[],a=[];return z(this.getCartesians(),function(g){var e=null!=c&&"auto"!==c?g.getAxis(c):g.getBaseAxis(),f=g.getOtherAxis(e);F.indexOf(d,e)<0&&d.push(e),F.indexOf(a,f)<0&&a.push(f)}),{baseAxes:d,otherAxes:a}};var b=["xAxis","yAxis"];A.create=function(c,d){var a=[];return c.eachComponent("grid",function(g,e){var f=new A(g,c,d);f.name="grid_"+e,f.resize(g,d,!0),g.coordinateSystem=f,a.push(f)}),c.eachSeries(function(l){if(D(l)){var g=w(l,c),p=g[0],f=g[1],m=p.getCoordSysModel(),h=m.coordinateSystem;l.coordinateSystem=h.getCartesian(p.componentIndex,f.componentIndex)}}),a},A.dimensions=A.prototype.dimensions=J.prototype.dimensions,E(26).register("cartesian2d",A),q.exports=A},function(q,j,h){function f(a){return a>v||a<-v}var m=h(19),d=h(6),b=m.identity,v=0.00005,g=function(a){a=a||{},a.position||(this.position=[0,0]),null==a.rotation&&(this.rotation=0),a.scale||(this.scale=[1,1]),this.origin=this.origin||null},p=g.prototype;p.transform=null,p.needLocalTransform=function(){return f(this.rotation)||f(this.position[0])||f(this.position[1])||f(this.scale[0]-1)||f(this.scale[1]-1)},p.updateTransform=function(){var c=this.parent,l=c&&c.transform,a=this.needLocalTransform(),o=this.transform;return a||l?(o=o||m.create(),a?this.getLocalTransform(o):b(o),l&&(a?m.mul(o,c.transform,o):m.copy(o,c.transform)),this.transform=o,this.invTransform=this.invTransform||m.create(),void m.invert(this.invTransform,o)):void (o&&b(o))},p.getLocalTransform=function(a){return g.getLocalTransform(this,a)},p.setTransform=function(c){var l=this.transform,a=c.dpr||1;l?c.setTransform(a*l[0],a*l[1],a*l[2],a*l[3],a*l[4],a*l[5]):c.setTransform(a,0,0,a,0,0)},p.restoreTransform=function(a){var c=a.dpr||1;a.setTransform(c,0,0,c,0,0)};var k=[];p.decomposeTransform=function(){if(this.transform){var c=this.parent,u=this.transform;c&&c.transform&&(m.mul(k,c.invTransform,u),u=k);var a=u[0]*u[0]+u[1]*u[1],w=u[2]*u[2]+u[3]*u[3],n=this.position,l=this.scale;f(a-1)&&(a=Math.sqrt(a)),f(w-1)&&(w=Math.sqrt(w)),u[0]<0&&(a=-a),u[3]<0&&(w=-w),n[0]=u[4],n[1]=u[5],l[0]=a,l[1]=w,this.rotation=Math.atan2(-u[1]/w,u[0]/a)}},p.getGlobalScale=function(){var c=this.transform;if(!c){return[1,1]}var l=Math.sqrt(c[0]*c[0]+c[1]*c[1]),a=Math.sqrt(c[2]*c[2]+c[3]*c[3]);return c[0]<0&&(l=-l),c[3]<0&&(a=-a),[l,a]},p.transformCoordToLocal=function(c,l){var a=[c,l],o=this.invTransform;return o&&d.applyTransform(a,a,o),a},p.transformCoordToGlobal=function(c,l){var a=[c,l],o=this.transform;return o&&d.applyTransform(a,a,o),a},g.getLocalTransform=function(c,r){r=r||[],b(r);var a=c.origin,w=c.scale||[1,1],u=c.rotation||0,l=c.position||[0,0];return a&&(r[4]-=a[0],r[5]-=a[1]),m.scale(r,r,w),u&&m.rotate(r,r,u),a&&(r[4]+=a[0],r[5]+=a[1]),r[4]+=l[0],r[5]+=l[1],r},q.exports=g},function(d,h,c){var k=c(96),b=c(1),j=c(13),g=c(12),f=["value","category","time","log"];d.exports=function(n,o,m,a){b.each(f,function(e){o.extend({type:n+"Axis."+e,mergeDefaultAndTheme:function(r,t){var q=this.layoutMode,i=q?g.getLayoutParams(r):{},p=t.getTheme();b.merge(r,p.get(e+"Axis")),b.merge(r,this.getDefaultOption()),r.type=m(n,r),q&&g.mergeLayoutParam(r,i,q)},defaultOption:b.mergeAll([{},k[e+"Axis"],a],!0)})}),j.registerSubTypeDefaulter(n+"Axis",b.curry(m,n))}},function(k,h,g){function d(a,i){return i.type||(i.data?"category":"value")}var j=g(13),c=g(1),b=g(59),m=j.extend({type:"cartesian2dAxis",axis:null,init:function(){m.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){m.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){m.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});c.merge(m.prototype,g(42));var f={offset:0};b("x",m,d,f),b("y",m,d,f),k.exports=m},function(a,b){a.exports=function(c,d){d.eachSeriesByType(c,function(h){var j=h.getData(),g=h.coordinateSystem;if(g){for(var l=[],f=g.dimensions,k=0;k<f.length;k++){l.push(h.coordDimToDataDim(g.dimensions[k])[0])}1===l.length?j.each(l[0],function(e,i){j.setItemLayout(i,isNaN(e)?[NaN,NaN]:g.dataToPoint(e))}):2===l.length&&j.each(l,function(i,m,e){j.setItemLayout(e,isNaN(i)||isNaN(m)?[NaN,NaN]:g.dataToPoint([i,m]))},!0)}})}},function(d,f,c){var h=c(15),b=h.set,g=h.get;d.exports={clearColorPalette:function(){b(this,"colorIdx",0),b(this,"colorNameMap",{})},getColorFromPalette:function(j,m){m=m||this;var a=g(m,"colorIdx")||0,o=g(m,"colorNameMap")||b(m,"colorNameMap",{});if(o.hasOwnProperty(j)){return o[j]}var l=this.get("color",!0)||[];if(l.length){var k=l[a];return j&&(o[j]=k),b(m,"colorIdx",(a+1)%l.length),k}}}},function(a,b){a.exports=function(d,f){var c=f.findComponents({mainType:"legend"});c&&c.length&&f.eachSeriesByType(d,function(g){var h=g.getData();h.filterSelf(function(i){for(var j=h.getName(i),e=0;e<c.length;e++){if(!c[e].isSelected(j)){return !1}}return !0},this)},this)}},function(d,g,c){function j(k,l,a){k[l]=Math.max(Math.min(k[l],a[1]),a[0])}var b=c(4),h=b.round,f={};f.intervalScaleNiceTicks=function(o,q,m){var v={},p=o[1]-o[0],a=v.interval=b.nice(p/q,!0);null!=m&&a<m&&(a=v.interval=m);var k=v.intervalPrecision=b.getPrecisionSafe(a)+2,r=v.niceTickExtent=[h(Math.ceil(o[0]/a)*a,k),h(Math.floor(o[1]/a)*a,k)];return f.fixExtent(r,o),v},f.fixExtent=function(a,i){!isFinite(a[0])&&(a[0]=i[0]),!isFinite(a[1])&&(a[1]=i[1]),j(a,0,i),j(a,1,i),a[0]>a[1]&&(a[0]=a[1])},f.intervalScaleGetTicks=function(m,q,l,u){var k=[];if(!m){return k}var p=10000;q[0]<l[0]&&k.push(q[0]);for(var o=l[0];o<=l[1]&&(k.push(o),o=h(o+m,u),o!==k[k.length-1]);){if(k.length>p){return[]}}return q[1]>(k.length?k[k.length-1]:l[1])&&k.push(q[1]),k},d.exports=f},function(d,h,c){var k=c(36),b=c(49),j=c(15),g=function(){this.group=new k,this.uid=b.getUID("viewComponent")};g.prototype={constructor:g,init:function(a,i){},render:function(l,m,a,o){},dispose:function(){}};var f=g.prototype;f.updateView=f.updateLayout=f.updateVisual=function(l,m,a,o){},j.enableClassExtend(g),j.enableClassManagement(g,{registerWhenExtend:!0}),d.exports=g},function(k,h,g){var d=g(71),j=g(23),c=g(58),b=g(178),m=g(1),f=function(a){c.call(this,a),j.call(this,a),b.call(this,a),this.id=a.id||d()};f.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(l,n){switch(this.draggable){case"horizontal":n=0;break;case"vertical":l=0}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=l,a[5]+=n,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,i){},attrKV:function(l,n){if("position"===l||"scale"===l||"origin"===l){if(n){var a=this[l];a||(a=this[l]=[]),a[0]=n[0],a[1]=n[1]}}else{this[l]=n}},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(l,n){if("string"==typeof l){this.attrKV(l,n)}else{if(m.isObject(l)){for(var a in l){l.hasOwnProperty(a)&&this.attrKV(a,l[a])}}}return this.dirty(!1),this},setClipPath:function(a){var i=this.__zr;i&&a.addSelfToZr(i),this.clipPath&&this.clipPath!==a&&this.removeClipPath(),this.clipPath=a,a.__zr=i,a.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(l){this.__zr=l;var n=this.animators;if(n){for(var a=0;a<n.length;a++){l.animation.addAnimator(n[a])}}this.clipPath&&this.clipPath.addSelfToZr(l)},removeSelfFromZr:function(l){this.__zr=null;var n=this.animators;if(n){for(var a=0;a<n.length;a++){l.animation.removeAnimator(n[a])}}this.clipPath&&this.clipPath.removeSelfFromZr(l)}},m.mixin(f,b),m.mixin(f,c),m.mixin(f,j),k.exports=f},function(z,L,H){function E(a,b){return a[b]}function P(b,c,a){b[c]=a}function D(b,c,a){return(c-b)*a+b}function B(b,c,a){return a>0.5?c:b}function A(o,g,f,c,h){var b=o.length;if(1==h){for(var p=0;p<b;p++){c[p]=D(o[p],g[p],f)}}else{for(var d=b&&o[0].length,p=0;p<b;p++){for(var m=0;m<d;m++){c[p][m]=D(o[p][m],g[p][m],f)}}}}function G(p,h,g){var d=p.length,m=h.length;if(d!==m){var c=d>m;if(c){p.length=m}else{for(var b=d;b<m;b++){p.push(1===g?h[b]:Q.call(h[b]))}}}for(var u=p[0]&&p[0].length,b=0;b<p.length;b++){if(1===g){isNaN(p[b])&&(p[b]=h[b])}else{for(var f=0;f<u;f++){isNaN(p[b][f])&&(p[b][f]=h[b][f])}}}}function w(d,g,c){if(d===g){return !0}var l=d.length;if(l!==g.length){return !1}if(1===c){for(var b=0;b<l;b++){if(d[b]!==g[b]){return !1}}}else{for(var h=d[0].length,b=0;b<l;b++){for(var f=0;f<h;f++){if(d[b][f]!==g[b][f]){return !1}}}}return !0}function N(U,x,p,h,S,g,b,V,m){var T=U.length;if(1==m){for(var R=0;R<T;R++){V[R]=I(U[R],x[R],p[R],h[R],S,g,b)}}else{for(var y=U[0].length,R=0;R<T;R++){for(var v=0;v<y;v++){V[R][v]=I(U[R][v],x[R][v],p[R][v],h[R][v],S,g,b)}}}}function I(p,h,g,d,m,c,b){var u=0.5*(g-p),f=0.5*(d-h);return(2*(h-g)+u+f)*b+(-3*(h-g)-2*u-f)*c+u*m+h}function M(b){if(k(b)){var c=b.length;if(k(b[0])){for(var a=[],d=0;d<c;d++){a.push(Q.call(b[d]))}return a}return Q.call(b)}return b}function K(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}function C(a){var b=a[a.length-1].value;return k(b&&b[0])?2:1}function J(ae,ao,am,ak,ar){var ap=ae._getter,an=ae._setter,U="spline"===ao,at=ak.length;if(at){var aq,aa=ak[0].value,m=k(aa),u=!1,X=!1,l=m?C(ak):0;ak.sort(function(a,b){return a.time-b.time}),aq=ak[at-1].time;for(var aj=[],ag=[],v=ak[0].value,af=!0,p=0;p<at;p++){aj.push(ak[p].time/aq);var al=ak[p].value;if(m&&w(al,v,l)||!m&&al===v||(af=!1),v=al,"string"==typeof al){var r=q.parse(al);r?(al=r,u=!0):X=!0}ag.push(al)}if(!af){for(var x=ag[at-1],p=0;p<at-1;p++){m?G(ag[p],x,l):!isNaN(ag[p])||isNaN(x)||X||u||(ag[p]=x)}m&&G(ap(ae._target,ar),x,l);var ad,o,s,h,ai,ab,Y=0,ac=0;if(u){var f=[0,0,0,0]}var c=function(d,g){var b;if(g<0){b=0}else{if(g<ac){for(ad=Math.min(Y+1,at-1),b=ad;b>=0&&!(aj[b]<=g);b--){}b=Math.min(b,at-2)}else{for(b=Y;b<at&&!(aj[b]>g);b++){}b=Math.min(b-1,at-2)}}Y=b,ac=g;var y=aj[b+1]-aj[b];if(0!==y){if(o=(g-aj[b])/y,U){if(h=ag[b],s=ag[0===b?b:b-1],ai=ag[b>at-2?at-1:b+1],ab=ag[b>at-3?at-1:b+2],m){N(s,h,ai,ab,o,o*o,o*o*o,ap(d,ar),l)}else{var a;if(u){a=N(s,h,ai,ab,o,o*o,o*o*o,f,1),a=K(f)}else{if(X){return B(h,ai,o)}a=I(s,h,ai,ab,o,o*o,o*o*o)}an(d,ar,a)}}else{if(m){A(ag[b],ag[b+1],o,ap(d,ar),l)}else{var a;if(u){A(ag[b],ag[b+1],o,f,1),a=K(f)}else{if(X){return B(ag[b],ag[b+1],o)}a=D(ag[b],ag[b+1],o)}an(d,ar,a)}}}},ah=new F({target:ae._target,life:aq,loop:ae._loop,delay:ae._delay,onframe:c,ondestroy:am});return ao&&"spline"!==ao&&(ah.easing=ao),ah}}}var F=H(157),q=H(22),j=H(1),k=j.isArrayLike,Q=Array.prototype.slice,O=function(b,c,a,d){this._tracks={},this._target=b,this._loop=c||!1,this._getter=a||E,this._setter=d||P,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};O.prototype={when:function(d,f){var c=this._tracks;for(var g in f){if(f.hasOwnProperty(g)){if(!c[g]){c[g]=[];var b=this._getter(this._target,g);if(null==b){continue}0!==d&&c[g].push({time:0,value:M(b)})}c[g].push({time:d,value:f[g]})}}return this},during:function(a){return this._onframeList.push(a),this},pause:function(){for(var a=0;a<this._clipList.length;a++){this._clipList[a].pause()}this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++){this._clipList[a].resume()}this._paused=!1},isPaused:function(){return !!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var b=this._doneList,c=b.length,a=0;a<c;a++){b[a].call(this)}},start:function(d){var h,c=this,m=0,b=function(){m--,m||c._doneCallback()};for(var l in this._tracks){if(this._tracks.hasOwnProperty(l)){var g=J(this,d,b,this._tracks[l],l);g&&(this._clipList.push(g),m++,this.animation&&this.animation.addClip(g),h=g)}}if(h){var f=h.onframe;h.onframe=function(a,i){f(a,i);for(var o=0;o<c._onframeList.length;o++){c._onframeList[o](a,i)}}}return m||this._doneCallback(),this},stop:function(d){for(var f=this._clipList,c=this.animation,g=0;g<f.length;g++){var b=f[g];d&&b.onframe(this._target,1),c&&c.removeClip(b)}f.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}},z.exports=O},function(a,b){a.exports="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(c){setTimeout(c,16)}},function(b,c){var a=2*Math.PI;b.exports={normalizeRadian:function(d){return d%=a,d<0&&(d+=a),d}}},function(d,g){var c=function(){this.head=null,this.tail=null,this._len=0},j=c.prototype;j.insert=function(a){var i=new b(a);return this.insertEntry(i),i},j.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a,this._len++},j.remove=function(k){var l=k.prev,a=k.next;l?l.next=a:this.head=a,a?a.prev=l:this.tail=l,k.next=k.prev=null,this._len--},j.len=function(){return this._len},j.clear=function(){this.head=this.tail=null,this._len=0};var b=function(a){this.value=a,this.next,this.prev},h=function(a){this._list=new c,this._map={},this._maxSize=a||10,this._lastRemovedEntry=null},f=h.prototype;f.put=function(m,u){var k=this._list,w=this._map,v=null;if(null==w[m]){var q=k.len(),p=this._lastRemovedEntry;if(q>=this._maxSize&&q>0){var a=k.head;k.remove(a),delete w[a.key],v=a.value,this._lastRemovedEntry=a}p?p.value=u:p=new b(u),p.key=m,k.insertEntry(p),w[m]=p}return v},f.get=function(k){var l=this._map[k],a=this._list;if(null!=l){return l!==a.tail&&(a.remove(l),a.insertEntry(l)),l.value}},f.clear=function(){this._list.clear(),this._map={}},d.exports=h},function(b,c){var a=2311;b.exports=function(){return a++}},function(b,c){var a=function(d,f){this.image=d,this.repeat=f,this.type="pattern"};a.prototype.getCanvasPattern=function(d){return d.createPattern(this.image,this.repeat||"repeat")},b.exports=a},function(k,h){function g(q,w,p){var y=null==w.x?0:w.x,l=null==w.x2?1:w.x2,x=null==w.y?0:w.y,v=null==w.y2?0:w.y2;w.global||(y=y*p.width+p.x,l=l*p.width+p.x,x=x*p.height+p.y,v=v*p.height+p.y);var u=q.createLinearGradient(y,x,l,v);return u}function d(B,y,x){var v=x.width,z=x.height,q=Math.min(v,z),p=null==y.x?0.5:y.x,C=null==y.y?0.5:y.y,w=null==y.r?0.5:y.r;y.global||(p=p*v+x.x,C=C*z+x.y,w*=q);var A=B.createRadialGradient(p,C,0,p,C,w);return A}var j=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],c=function(a){this.extendFrom(a)};c.prototype={constructor:c,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textOffset:null,textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textTransform:!1,textRotation:0,blend:null,bind:function(A,x,w){for(var q=this,p=w&&w.style,a=!p,B=0;B<j.length;B++){var v=j[B],z=v[0];(a||q[z]!==p[z])&&(A[z]=q[z]||v[1])}if((a||q.fill!==p.fill)&&(A.fillStyle=q.fill),(a||q.stroke!==p.stroke)&&(A.strokeStyle=q.stroke),(a||q.opacity!==p.opacity)&&(A.globalAlpha=null==q.opacity?1:q.opacity),(a||q.blend!==p.blend)&&(A.globalCompositeOperation=q.blend||"source-over"),this.hasStroke()){var y=q.lineWidth;A.lineWidth=y/(this.strokeNoScale&&x&&x.getLineScale?x.getLineScale():1)}},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&this.lineWidth>0},extendFrom:function(l,o){if(l){var a=this;for(var p in l){!l.hasOwnProperty(p)||!o&&a.hasOwnProperty(p)||(a[p]=l[p])}}},set:function(a,i){"string"==typeof a?this[a]=i:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),a},getGradient:function(p,v,n){for(var w="radial"===v.type?d:g,u=w(p,v,n),q=v.colorStops,i=0;i<q.length;i++){u.addColorStop(q[i].offset,q[i].color)}return u}};for(var b=c.prototype,m=0;m<j.length;m++){var f=j[m];f[0] in b||(b[f[0]]=f[1])}c.getGradient=b.getGradient,k.exports=c},function(d,f,c){var g=c(168),b=c(167);d.exports={buildPath:function(y,q,m){var j=q.points,a=q.smooth;if(j&&j.length>=2){if(a&&"spline"!==a){var z=b(j,a,m,q.smoothConstraint);y.moveTo(j[0][0],j[0][1]);for(var k=j.length,x=0;x<(m?k:k-1);x++){var w=z[2*x],n=z[2*x+1],v=j[(x+1)%k];y.bezierCurveTo(w[0],w[1],n[0],n[1],v[0],v[1])}}else{"spline"===a&&(j=g(j,m)),y.moveTo(j[0][0],j[0][1]);for(var x=1,p=j.length;x<p;x++){y.lineTo(j[x][0],j[x][1])}}m&&y.closePath()}}}},function(d,f,c){var g=c(1),b={};b.layout=function(F,A,w){function D(h,l){var a=n.getAxis(h);return a.toGlobalCoord(a.dataToCoord(0))}w=w||{};var n=F.coordinateSystem,j=A.axis,G={},v=j.position,E=j.onZero?"onZero":v,C=j.dim,x=n.getRect(),B=[x.x,x.x+x.width,x.y,x.y+x.height],z=A.get("offset")||0,k={x:{top:B[2]-z,bottom:B[3]+z},y:{left:B[0]-z,right:B[1]+z}};k.x.onZero=Math.max(Math.min(D("y"),k.x.bottom),k.x.top),k.y.onZero=Math.max(Math.min(D("x"),k.y.right),k.y.left),G.position=["y"===C?k.y[E]:B[0],"x"===C?k.x[E]:B[3]],G.rotation=Math.PI/2*("x"===C?0:1);var y={top:-1,bottom:1,left:-1,right:1};G.labelDirection=G.tickDirection=G.nameDirection=y[v],G.labelOffset=j.onZero?k[C][v]-k[C].onZero:0,A.get("axisTick.inside")&&(G.tickDirection=-G.tickDirection),g.retrieve(w.labelInside,A.get("axisLabel.inside"))&&(G.labelDirection=-G.labelDirection);var q=A.get("axisLabel.rotate");return G.labelRotate="top"===E?-q:q,G.labelInterval=j.getLabelInterval(),G.z2=1,G},d.exports=b},function(w,m,j){function f(l,r,h,u){var c=u.getWidth(),s=u.getHeight();l[0]=Math.min(l[0]+r,c)-r,l[1]=Math.min(l[1]+h,s)-h,l[0]=Math.max(l[0],0),l[1]=Math.max(l[1],0)}var q=j(1),d=j(3),b=j(16),x=j(7),g=j(19),v=j(18),p=j(40),k={};k.buildElStyle=function(c){var h,a=c.get("type"),l=c.getModel(a+"Style");return"line"===a?(h=l.getLineStyle(),h.fill=null):"shadow"===a&&(h=l.getAreaStyle(),h.stroke=null),h},k.buildLabelElOption=function(z,H,E,L,B){var D=E.get("value"),s=k.getValueLabel(D,H.axis,H.ecModel,E.get("seriesDataIndices"),{precision:E.get("label.precision"),formatter:E.get("label.formatter")}),J=E.getModel("label"),I=J.getModel("textStyle"),G=x.normalizeCssArray(J.get("padding")||0),A=I.getFont(),F=b.getBoundingRect(s,A,B.textAlign,B.textBaseline),C=B.position,r=F.width+G[1]+G[3],h=F.height+G[0]+G[2],n=B.align;"right"===n&&(C[0]-=r),"center"===n&&(C[0]-=r/2);var M=B.verticalAlign;"bottom"===M&&(C[1]-=h),"middle"===M&&(C[1]-=h/2),f(C,r,h,L);var K=J.get("backgroundColor");K&&"auto"!==K||(K=H.get("axisLine.lineStyle.color")),z.label={shape:{x:0,y:0,width:r,height:h,r:J.get("borderRadius")},position:C.slice(),style:{text:s,textFont:A,textFill:I.getTextColor(),textPosition:"inside",fill:K,stroke:J.get("borderColor")||"transparent",lineWidth:J.get("borderWidth")||0,shadowBlur:J.get("shadowBlur"),shadowColor:J.get("shadowColor"),shadowOffsetX:J.get("shadowOffsetX"),shadowOffsetY:J.get("shadowOffsetY")},z2:10}},k.getValueLabel=function(h,z,c,B,A){var y=z.scale.getLabel(h,{precision:A.precision}),u=A.formatter;if(u){var a={value:v.getAxisRawValue(z,h),seriesData:[]};q.each(B,function(l){var o=c.getSeriesByIndex(l.seriesIndex),r=l.dataIndexInside,i=o&&o.getDataParams(r);i&&a.seriesData.push(i)}),q.isString(u)?y=u.replace("{value}",y):q.isFunction(u)&&(y=u(a))}return y},k.getTransformedPosition=function(c,h,a){var l=g.create();return g.rotate(l,l,a.rotation),g.translate(l,l,a.position),d.applyTransform([c.dataToCoord(h),(a.labelOffset||0)+(a.labelDirection||1)*(a.labelMargin||0)],l)},k.buildCartesianSingleLabelElOption=function(l,u,h,z,c,y){var s=p.innerTextLayout(h.rotation,0,h.labelDirection);h.labelMargin=c.get("label.margin"),k.buildLabelElOption(u,z,c,y,{position:k.getTransformedPosition(z.axis,l,h),align:s.textAlign,verticalAlign:s.textVerticalAlign})},k.makeLineShape=function(c,h,a){return a=a||0,{x1:c[a],y1:c[1-a],x2:h[a],y2:h[1-a]}},k.makeRectShape=function(c,h,a){return a=a||0,{x:c[a],y:c[1-a],width:h[a],height:h[1-a]}},k.makeSectorShape=function(l,r,h,u,c,s){return{cx:l,cy:r,r0:h,r:u,startAngle:c,endAngle:s,clockwise:!0}},w.exports=k},function(d,h,c){var k=c(7),b=c(1),j={},g=["x","y","z","radius","angle","single"],f=["cartesian2d","polar","singleAxis"];j.isCoordSupported=function(a){return b.indexOf(f,a)>=0},j.createNameEach=function(l,m){l=l.slice();var a=b.map(l,k.capitalFirst);m=(m||[]).slice();var n=b.map(m,k.capitalFirst);return function(i,e){b.each(l,function(q,p){for(var r={name:q,capital:a[p]},o=0;o<m.length;o++){r[m[o]]=q+n[o]}i.call(e,r)})}},j.eachAxisDim=j.createNameEach(g,["axisIndex","axis","index","id"]),j.createLinkedNodesFinder=function(l,p,a){function s(i,n){return b.indexOf(n.nodes,i)>=0}function q(e,r){var i=!1;return p(function(n){b.each(a(e,n)||[],function(o){r.records[n.name][o]&&(i=!0)})}),i}function m(e,i){i.nodes.push(e),p(function(n){b.each(a(e,n)||[],function(o){i.records[n.name][o]=!0})})}return function(o){function n(i){!s(i,r)&&q(i,r)&&(m(i,r),e=!0)}var r={nodes:[],records:{}};if(p(function(i){r.records[i.name]={}}),!o){return r}m(o,r);var e;do{e=!1,l(n)}while(e);return r}},d.exports=j},function(b,c,a){var d=a(1);b.exports={updateSelectedMap:function(e){this._selectTargetMap=d.reduce(e||[],function(f,g){return f.set(g.name,g),f},d.createHashMap())},select:function(g){var h=this._selectTargetMap,f=h.get(g),j=this.get("selectedMode");"single"===j&&h.each(function(e){e.selected=!1}),f&&(f.selected=!0)},unSelect:function(f){var g=this._selectTargetMap.get(f);g&&(g.selected=!1)},toggleSelected:function(f){var g=this._selectTargetMap.get(f);if(null!=g){return this[g.selected?"unSelect":"select"](f),g.selected}},isSelected:function(f){var g=this._selectTargetMap.get(f);return g&&g.selected}}},function(q,j,h){function f(a){m.defaultEmphasis(a.label,m.LABEL_OPTIONS)}var m=h(5),d=h(1),b=h(9),v=h(7),g=v.addCommas,p=v.encodeHTML,k=h(2).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(c,l,a,o){this.mergeDefaultAndTheme(c,a),this.mergeOption(c,a,o.createdBySelf,!0)},isAnimationEnabled:function(){if(b.node){return !1}var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(n,w,l,c){var u=this.constructor,o=this.mainType+"Model";l||w.eachSeries(function(r){var e=r.get(this.mainType),a=r[o];return e&&e.data?(a?a.mergeOption(e,w,!0):(c&&f(e),d.each(e.data,function(i){i instanceof Array?(f(i[0]),f(i[1])):f(i)}),a=new u(e,this,w),d.extend(a,{mainType:this.mainType,seriesIndex:r.seriesIndex,name:r.name,createdBySelf:!0}),a.__hostSeries=r),void (r[o]=a)):void (r[o]=null)},this)},formatTooltip:function(o){var u=this.getData(),l=this.getRawValue(o),w=d.isArray(l)?d.map(l,g).join(", "):g(l),c=u.getName(o),s=p(this.name);return(null!=l||c)&&(s+="<br />"),c&&(s+=p(c),null!=l&&(s+=" : ")),null!=l&&(s+=p(w)),s},getData:function(){return this._data},setData:function(a){this._data=a}});d.mixin(k,m.dataFormatMixin),q.exports=k},function(b,c,a){var d=a(1);b.exports=a(2).extendComponentView({type:"marker",init:function(){this.markerGroupMap=d.createHashMap()},render:function(h,j,g){var k=this.markerGroupMap;k.each(function(e){e.__keep=!1});var f=this.type+"Model";j.eachSeries(function(e){var i=e[f];i&&this.renderSeries(e,i,j,g)},this),k.each(function(e){!e.__keep&&this.group.remove(e.group)},this)},renderSeries:function(){}})},function(G,B,x){function q(a){return !(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function E(a){return !isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function k(c,d,a){var f=-1;do{f=Math.max(w.getPrecision(c.get(d,a)),f),c=c.stackedOn}while(c);return f}function b(J,m,h,f,p,d){var K=[],g=v(m,f,J),I=m.indicesOfNearest(f,g,!0)[0];K[p]=m.get(h,I,!0),K[d]=m.get(f,I,!0);var o=k(m,f,I);return o>=0&&(K[d]=+K[d].toFixed(o)),K}var H=x(1),w=x(4),F=H.indexOf,D=H.curry,y={min:D(b,"min"),max:D(b,"max"),average:D(b,"average")},C=function(M,J){var u=M.getData(),m=M.coordinateSystem;if(J&&!E(J)&&!H.isArray(J.coord)&&m){var h=m.dimensions,a=A(J,u,m,M);if(J=H.clone(J),J.type&&y[J.type]&&a.baseAxis&&a.valueAxis){var s=F(h,a.baseAxis.dim),L=F(h,a.valueAxis.dim);J.coord=y[J.type](u,a.baseDataDim,a.valueDataDim,s,L),J.value=J.coord[L]}else{for(var K=[null!=J.xAxis?J.xAxis:J.radiusAxis,null!=J.yAxis?J.yAxis:J.angleAxis],f=0;f<2;f++){if(y[K[f]]){var I=M.coordDimToDataDim(h[f])[0];K[f]=v(u,I,K[f])}}J.coord=K}}return J},A=function(f,g,d,h){var c={};return null!=f.valueIndex||null!=f.valueDim?(c.valueDataDim=null!=f.valueIndex?g.getDimension(f.valueIndex):f.valueDim,c.valueAxis=d.getAxis(h.dataDimToCoordDim(c.valueDataDim)),c.baseAxis=d.getOtherAxis(c.valueAxis),c.baseDataDim=h.coordDimToDataDim(c.baseAxis.dim)[0]):(c.baseAxis=h.getBaseAxis(),c.valueAxis=d.getOtherAxis(c.baseAxis),c.baseDataDim=h.coordDimToDataDim(c.baseAxis.dim)[0],c.valueDataDim=h.coordDimToDataDim(c.valueAxis.dim)[0]),c},j=function(a,c){return !(a&&a.containData&&c.coord&&!q(c))||a.containData(c.coord)},z=function(c,d,a,f){return f<2?c.coord&&c.coord[f]:c.value},v=function(f,g,d){if("average"===d){var h=0,c=0;return f.each(g,function(a,i){isNaN(a)||(h+=a,c++)},!0),h/c}return f.getDataExtent(g,!0)["max"===d?1:0]};G.exports={dataTransform:C,dataFilter:j,dimValueGetter:z,getAxisInfo:A,numCalculate:v}},function(y,p,k){function g(a){return a.get("stack")||q+a.seriesIndex}function w(a){return a.dim+a.index}function f(G,D){var B=[],u=G.axis,F="axis0";if("category"===u.type){for(var s=u.getBandWidth(),d=0;d<G.count;d++){B.push(x.defaults({bandWidth:s,axisKey:F,stackId:q+d},G))}for(var A=z(B,D),E=[],d=0;d<G.count;d++){var C=A[F][q+d];C.offsetCenter=C.offset+C.width/2,E.push(C)}return E}}function b(c,d){var a=x.map(c,function(G){var C=G.getData(),B=G.coordinateSystem,n=B.getBaseAxis(),h=n.getExtent(),H="category"===n.type?n.getBandWidth():Math.abs(h[1]-h[0])/C.count(),A=m(G.get("barWidth"),H),F=m(G.get("barMaxWidth"),H),E=G.get("barGap"),D=G.get("barCategoryGap");return{bandWidth:H,barWidth:A,barMaxWidth:F,barGap:E,barCategoryGap:D,axisKey:w(n),stackId:g(G)}});return z(a,d)}function z(c,d){var a={};x.each(c,function(I,E){var B=I.axisKey,G=I.bandWidth,A=a[B]||{bandWidth:G,remainedWidth:G,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},i=A.stacks;a[B]=A;var J=I.stackId;i[J]||A.autoWidthCount++,i[J]=i[J]||{width:0,maxWidth:0};var C=I.barWidth;C&&!i[J].width&&(C=Math.min(A.remainedWidth,C),i[J].width=C,A.remainedWidth-=C);var H=I.barMaxWidth;H&&(i[J].maxWidth=H);var F=I.barGap;null!=F&&(A.gap=F);var D=I.barCategoryGap;null!=D&&(A.categoryGap=D)});var h={};return x.each(a,function(I,E){h[E]={};var C=I.stacks,H=I.bandWidth,A=m(I.categoryGap,H),n=m(I.gap,1),J=I.remainedWidth,B=I.autoWidthCount,G=(J-A)/(B+(B-1)*n);G=Math.max(G,0),x.each(C,function(o,r){var l=o.maxWidth;l&&l<G&&(l=Math.min(l,J),o.width&&(l=Math.min(l,o.width)),J-=l,o.width=l,B--)}),G=(J-A)/(B+(B-1)*n),G=Math.max(G,0);var F,D=0;x.each(C,function(i,l){i.width||(i.width=G),F=i,D+=i.width*(1+n)}),F&&(D-=F.width*n);var u=-D/2;x.each(C,function(l,e){h[E][e]=h[E][e]||{offset:u,width:l.width},u+=l.width*(1+n)})}),h}function j(d,n,c){var r=b(x.filter(n.getSeriesByType(d),function(e){return !n.isSeriesFiltered(e)&&e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type})),h={},a={};n.eachSeriesByType(d,function(I){if("cartesian2d"===I.coordinateSystem.type){var E=I.getData(),A=I.coordinateSystem,l=A.getBaseAxis(),H=g(I),G=r[w(l)][H],B=G.offset,F=G.width,D=A.getOtherAxis(l),o=I.get("barMinHeight")||0,C=l.onZero?D.toGlobalCoord(D.dataToCoord(0)):D.getGlobalExtent()[0],s=A.dataToPoints(E,!0);h[H]=h[H]||[],a[H]=a[H]||[],E.setLayout({offset:B,size:F}),E.each(D.dim,function(Q,K){if(!isNaN(Q)){h[H][K]||(h[H][K]={p:C,n:C},a[H][K]={p:C,n:C});var J,O,u,e,L=Q>=0?"p":"n",P=s[K],M=h[H][K][L],N=a[H][K][L];D.isHorizontal()?(J=M,O=P[1]+B,u=P[0]-N,e=F,a[H][K][L]+=u,Math.abs(u)<o&&(u=(u<0?-1:1)*o),h[H][K][L]+=u):(J=P[0]+B,O=M,u=F,e=P[1]-N,a[H][K][L]+=e,Math.abs(e)<o&&(e=(e<=0?-1:1)*o),h[H][K][L]+=e),E.setItemLayout(K,{x:J,y:O,width:u,height:e})}},!0)}},this)}var x=k(1),v=k(4),m=v.parsePercent,q="__ec_stack_";j.getLayoutOnAxis=f,y.exports=j},function(C,O,K){function H(a){var b=a.pieceList;a.hasSpecialVisual=!1,M.each(b,function(d,c){d.originIndex=c,null!=d.visual&&(a.hasSpecialVisual=!0)})}function T(d){var f=d.categories,c=d.visual,h=d.categoryMap={};if(k(f,function(a,i){h[a]=i}),!M.isArray(c)){var b=[];M.isObject(c)?k(c,function(l,m){var a=h[m];b[null!=a?a:U]=l}):b[U]=c,c=N(d,b)}for(var g=f.length-1;g>=0;g--){null==c[g]&&(delete h[f[g]],f.pop())}}function G(d,f){var c=d.visual,g=[];M.isObject(c)?k(c,function(a){g.push(a)}):null!=c&&g.push(c);var b={color:1,symbol:1};f||1!==g.length||b.hasOwnProperty(d.type)||(g[1]=g[0]),N(d,g)}function E(a){return{applyVisual:function(c,b,d){c=this.mapValueToVisual(c),d("color",a(b("color"),c))},_doMap:L([0,1])}}function D(a){var b=this.option.visual;return b[Math.round(A(a,[0,1],[0,b.length-1],!0))]||{}}function J(a){return function(c,b,d){d(a,this.mapValueToVisual(c))}}function B(a){var b=this.option.visual;return b[this.option.loop&&a!==U?a%b.length:a]}function Q(){return this.option.visual[0]}function L(a){return{linear:function(b){return A(b,a,this.option.visual,!0)},category:B,piecewise:function(c,b){var d=P.call(this,b);return null==d&&(d=A(c,a,this.option.visual,!0)),d},fixed:Q}}function P(d){var f=this.option,c=f.pieceList;if(f.hasSpecialVisual){var g=R.findPieceIndex(d,c),b=c[g];if(b&&b.visual){return b.visual[this.type]}}}function N(a,b){return a.visual=b,"color"===a.type&&(a.parsedVisual=M.map(b,function(c){return I.parse(c)})),b}function F(b,c,a){return b?c<=a:c<a}var M=K(1),I=K(22),A=K(4).linearMap,k=M.each,q=M.isObject,U=-1,R=function(b){var f=b.mappingMethod,a=b.type,d=this.option=M.clone(b);this.type=a,this.mappingMethod=f,this._normalizeData=j[f];var c=z[a];this.applyVisual=c.applyVisual,this.getColorMapper=c.getColorMapper,this._doMap=c._doMap[f],"piecewise"===f?(G(d),H(d)):"category"===f?d.categories?T(d):G(d,!0):(M.assert("linear"!==f||d.dataExtent),G(d))};R.prototype={constructor:R,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return M.bind(this._normalizeData,this)}};var z=R.visualHandlers={color:{applyVisual:J("color"),getColorMapper:function(){var a=this.option;return M.bind("category"===a.mappingMethod?function(b,c){return !c&&(b=this._normalizeData(b)),B.call(this,b)}:function(d,c,f){var b=!!f;return !c&&(d=this._normalizeData(d)),f=I.fastMapToColor(d,a.parsedVisual,f),b?f:I.stringify(f,"rgba")},this)},_doMap:{linear:function(a){return I.stringify(I.fastMapToColor(a,this.option.parsedVisual),"rgba")},category:B,piecewise:function(b,c){var a=P.call(this,c);return null==a&&(a=I.stringify(I.fastMapToColor(b,this.option.parsedVisual),"rgba")),a},fixed:Q}},colorHue:E(function(a,b){return I.modifyHSL(a,b)}),colorSaturation:E(function(a,b){return I.modifyHSL(a,null,b)}),colorLightness:E(function(a,b){return I.modifyHSL(a,null,null,b)}),colorAlpha:E(function(a,b){return I.modifyAlpha(a,b)}),opacity:{applyVisual:J("opacity"),_doMap:L([0,1])},symbol:{applyVisual:function(d,f,c){var g=this.mapValueToVisual(d);if(M.isString(g)){c("symbol",g)}else{if(q(g)){for(var b in g){g.hasOwnProperty(b)&&c(b,g[b])}}}},_doMap:{linear:D,category:B,piecewise:function(b,c){var a=P.call(this,c);return null==a&&(a=D.call(this,b)),a},fixed:Q}},symbolSize:{applyVisual:J("symbolSize"),_doMap:L([0,1])}},j={linear:function(a){return A(a,this.option.dataExtent,[0,1],!0)},piecewise:function(b){var c=this.option.pieceList,a=R.findPieceIndex(b,c,!0);if(null!=a){return A(a,[0,c.length-1],[0,1],!0)}},category:function(a){var b=this.option.categories?this.option.categoryMap[a]:a;return null==b?U:b},fixed:M.noop};R.listVisualTypes=function(){var a=[];return M.each(z,function(c,b){a.push(b)}),a},R.addVisualHandler=function(a,b){z[a]=b},R.isValidType=function(a){return z.hasOwnProperty(a)},R.eachVisual=function(b,c,a){M.isObject(b)?M.each(b,c,a):c.call(a,b)},R.mapVisual=function(d,f,c){var g,b=M.isArray(d)?[]:M.isObject(d)?{}:(g=!0,null);return R.eachVisual(d,function(a,h){var e=f.call(c,a,h);g?b=e:b[h]=e}),b},R.retrieveVisuals=function(b){var c,a={};return b&&k(z,function(e,d){b.hasOwnProperty(d)&&(a[d]=b[d],c=!0)}),c?a:null},R.prepareVisualTypes=function(a){if(q(a)){var b=[];k(a,function(d,c){b.push(c)}),a=b}else{if(!M.isArray(a)){return[]}a=a.slice()}return a.sort(function(c,d){return"color"===d&&"color"!==c&&0===c.indexOf("color")?1:-1}),a},R.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b},R.findPieceIndex=function(S,v,m){function f(c,a){var h=Math.abs(c-S);h<d&&(d=h,x=a)}for(var x,d=1/0,b=0,V=v.length;b<V;b++){var g=v[b].value;if(null!=g){if(g===S||"string"==typeof g&&g===S+""){return b}m&&f(g,b)}}for(var b=0,V=v.length;b<V;b++){var y=v[b],w=y.interval,p=y.close;if(w){if(w[0]===-(1/0)){if(F(p[1],S,w[1])){return b}}else{if(w[1]===1/0){if(F(p[0],w[0],S)){return b}}else{if(F(p[0],w[0],S)&&F(p[1],S,w[1])){return b}}}m&&f(w[0],b),m&&f(w[1],b)}}if(m){return S===1/0?v.length-1:S===-(1/0)?0:x}},C.exports=R},function(a,b){a.exports=function(d,f){var c={};f.eachRawSeriesByType(d,function(g){var i=g.getRawData(),e={};if(!f.isSeriesFiltered(g)){var h=g.getData();h.each(function(j){var k=h.getRawIndex(j);e[k]=j}),i.each(function(o){var n=e[o],m=null!=n&&h.getItemVisual(n,"color",!0);if(m){i.setItemVisual(o,"color",m)}else{var j=i.getItemModel(o),k=j.get("itemStyle.normal.color")||g.getColorFromPalette(i.getName(o),c);i.setItemVisual(o,"color",k),null!=n&&h.setItemVisual(n,"color",k)}})}})}},function(E,z,v){var m=v(6),C=v(20),k={},b=Math.min,F=Math.max,q=Math.sin,D=Math.cos,B=m.create(),w=m.create(),A=m.create(),y=2*Math.PI;k.fromPoints=function(H,p,h){if(0!==H.length){var f,s=H[0],d=s[0],g=s[0],G=s[1],r=s[1];for(f=1;f<H.length;f++){s=H[f],d=b(d,s[0]),g=F(g,s[0]),G=b(G,s[1]),r=F(r,s[1])}p[0]=d,p[1]=G,h[0]=g,h[1]=r}},k.fromLine=function(f,g,d,l,c,h){c[0]=b(f,d),c[1]=b(g,l),h[0]=F(f,d),h[1]=F(g,l)};var j=[],x=[];k.fromCubic=function(Q,I,s,g,a,r,P,K,G,J){var H,p=C.cubicExtrema,O=C.cubicAt,L=p(Q,s,a,P,j);for(G[0]=1/0,G[1]=1/0,J[0]=-(1/0),J[1]=-(1/0),H=0;H<L;H++){var M=O(Q,s,a,P,j[H]);G[0]=b(M,G[0]),J[0]=F(M,J[0])}for(L=p(I,g,r,K,x),H=0;H<L;H++){var N=O(I,g,r,K,x[H]);G[1]=b(N,G[1]),J[1]=F(N,J[1])}G[0]=b(Q,G[0]),J[0]=F(Q,J[0]),G[0]=b(P,G[0]),J[0]=F(P,J[0]),G[1]=b(I,G[1]),J[1]=F(I,J[1]),G[1]=b(K,G[1]),J[1]=F(K,J[1])},k.fromQuadratic=function(Q,M,I,s,r,H,P,O){var J=C.quadraticExtremum,N=C.quadraticAt,L=F(b(J(Q,I,r),1),0),a=F(b(J(M,s,H),1),0),K=N(Q,I,r,L),G=N(M,s,H,a);P[0]=b(Q,r,K),P[1]=b(M,H,G),O[0]=F(Q,r,K),O[1]=F(M,H,G)},k.fromArc=function(L,u,l,I,f,c,M,d,n){var h=m.min,K=m.max,G=Math.abs(f-c);if(G%y<0.0001&&G>0.0001){return d[0]=L-l,d[1]=u-I,n[0]=L+l,void (n[1]=u+I)}if(B[0]=D(f)*l+L,B[1]=q(f)*I+u,w[0]=D(c)*l+L,w[1]=q(c)*I+u,h(d,B,w),K(n,B,w),f%=y,f<0&&(f+=y),c%=y,c<0&&(c+=y),f>c&&!M?c+=y:f<c&&M&&(f+=y),M){var H=c;c=f,f=H}for(var J=0;J<c;J+=Math.PI/2){J>f&&(A[0]=D(J)*l+L,A[1]=q(J)*I+u,h(d,A,d),K(n,A,n))}},E.exports=k},function(d,g,c){var j=c(38),b=c(1),h=c(16),f=function(a){j.call(this,a)};f.prototype={constructor:f,type:"text",brush:function(B,w){var p=this.style,m=p.x||0,z=p.y||0,k=p.text;if(null!=k&&(k+=""),p.bind(B,this,w),k){this.setTransform(B);var C,o=p.textAlign,A=p.textFont||p.font;if(p.textVerticalAlign){var y=h.getBoundingRect(k,A,p.textAlign,"top");switch(C="middle",p.textVerticalAlign){case"middle":z-=y.height/2-y.lineHeight/2;break;case"bottom":z-=y.height-y.lineHeight/2;break;default:z+=y.lineHeight/2}}else{C=p.textBaseline}B.font=A||"12px sans-serif",B.textAlign=o||"left",B.textAlign!==o&&(B.textAlign="left"),B.textBaseline=C||"alphabetic",B.textBaseline!==C&&(B.textBaseline="alphabetic");for(var q=h.measureText("国",B.font).width,x=k.split("\n"),v=0;v<x.length;v++){p.hasStroke()&&B.strokeText(x[v],m,z),p.hasFill()&&B.fillText(x[v],m,z),z+=q}this.restoreTransform(B)}},getBoundingRect:function(){var k=this.style;if(!this._rect){var l=k.textVerticalAlign,a=h.getBoundingRect(k.text+"",k.textFont||k.font,k.textAlign,l?"top":k.textBaseline);switch(l){case"middle":a.y-=a.height/2;break;case"bottom":a.y-=a.height}if(a.x+=k.x||0,a.y+=k.y||0,k.hasStroke()){var m=k.lineWidth;a.x-=m/2,a.y-=m/2,a.width+=m,a.height+=m}this._rect=a}return this._rect}},b.inherits(f,j),d.exports=f},function(d,h,c){function k(a,i){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*i:parseFloat(a):a}var b=c(16),j=c(11),g=new j,f=function(){};f.prototype={constructor:f,drawRectText:function(A,K,G){var D=this.style,B=D.text;if(null!=B&&(B+=""),B){A.save();var F,z,M=D.textPosition,H=D.textOffset,L=D.textDistance,J=D.textAlign,C=D.textFont||D.font,I=D.textBaseline,E=D.textVerticalAlign;G=G||b.getBoundingRect(B,C,J,I);var r=this.transform;if(D.textTransform?this.setTransform(A):r&&(g.copy(K),g.applyTransform(r),K=g),M instanceof Array){if(F=K.x+k(M[0],K.width),z=K.y+k(M[1],K.height),J=J||"left",I=I||"top",E){switch(E){case"middle":z-=G.height/2-G.lineHeight/2;break;case"bottom":z-=G.height-G.lineHeight/2;break;default:z+=G.lineHeight/2}I="middle"}}else{var a=b.adjustTextPositionOnRect(M,K,G,L);F=a.x,z=a.y,J=J||a.textAlign,I=I||a.textBaseline}H&&(F+=H[0],z+=H[1]),A.textAlign=J||"left",A.textBaseline=I||"alphabetic";var n=D.textFill,O=D.textStroke;n&&(A.fillStyle=n),O&&(A.strokeStyle=O),A.font=C||"12px sans-serif",A.shadowBlur=D.textShadowBlur,A.shadowColor=D.textShadowColor||"transparent",A.shadowOffsetX=D.textShadowOffsetX,A.shadowOffsetY=D.textShadowOffsetY;var N=B.split("\n");D.textRotation&&(r&&A.translate(r[4],r[5]),A.rotate(D.textRotation),r&&A.translate(-r[4],-r[5]));for(var q=0;q<N.length;q++){O&&A.strokeText(N[q],F,z),n&&A.fillText(N[q],F,z),z+=G.lineHeight}A.restore()}}},d.exports=f},function(E,z,v){function m(a){delete y[a]}
/*!
	 * ZRender, a high performance 2d drawing library.
	 *
	 * Copyright (c) 2013, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
	 */
;var C=v(71),k=v(9),b=v(1),F=v(152),q=v(155),D=v(156),B=v(163),w=!k.canvasSupported,A={canvas:v(154)},y={},j={};j.version="3.5.1",j.init=function(c,d){var a=new x(C(),c,d);return y[a.id]=a,a},j.dispose=function(a){if(a){a.dispose()}else{for(var c in y){y.hasOwnProperty(c)&&y[c].dispose()}y={}}return j},j.getInstance=function(a){return y[a]},j.registerPainter=function(a,c){A[a]=c};var x=function(H,s,l){l=l||{},this.dom=s,this.id=H;var d=this,u=new q,r=l.renderer;if(w){if(!A.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}r="vml"}else{r&&A[r]||(r="canvas")}var c=new A[r](s,u,l);this.storage=u,this.painter=c;var o=k.node?null:new B(c.getViewportRoot());this.handler=new F(u,c,o,c.root),this.animation=new D({stage:{update:b.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var h=u.delFromStorage,G=u.addToStorage;u.delFromStorage=function(a){h.call(u,a),a&&a.removeSelfFromZr(d)},u.addToStorage=function(a){G.call(u,a),a.addSelfToZr(d)}};x.prototype={constructor:x,getId:function(){return this.id},add:function(a){this.storage.addRoot(a),this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a),this._needsRefresh=!0},configLayer:function(a,c){this.painter.configLayer(a,c),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(a,c){this.painter.addHover&&(this.painter.addHover(a,c),this.refreshHover())},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{},this.painter.resize(a.width,a.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,c){return this.painter.pathToImage(a,c)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,c){return this.handler.findHover(a,c)},on:function(c,d,a){this.handler.on(c,d,a)},off:function(a,c){this.handler.off(a,c)},trigger:function(a,c){this.handler.trigger(a,c)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,m(this.id)}},E.exports=j},function(d,f,c){var g=c(2),b=c(1);d.exports=function(a,h){b.each(h,function(i){i.update="updateView",g.registerAction(i,function(j,k){var e={};return k.eachComponent({mainType:"series",subType:a,query:j},function(l){l[i.method]&&l[i.method](j.name);var m=l.getData();m.each(function(o){var n=m.getName(o);e[n]=l.isSelected(n)||!1})}),{name:j.name,selected:e}})})}},function(d,f,c){var g=c(17),b=c(28);d.exports=g.extend({type:"series.__base_bar__",getInitialData:function(a,h){return b(a.data,this,h)},getMarkerPosition:function(k){var m=this.coordinateSystem;if(m){var j=m.dataToPoint(k,!0),q=this.getData(),h=q.getLayout("offset"),p=q.getLayout("size"),l=m.getBaseAxis().isHorizontal()?0:1;return j[l]+=h+p/2,j}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{normal:{},emphasis:{}}}})},function(d,g,c){function j(m,o,l,p,k){h.setText(m,o,l),m.text=p,"outside"===m.textPosition&&(m.textPosition=k)}var b=c(1),h=c(3),f={};f.setLabel=function(w,p,n,k,a,x,m){var v=n.getModel("label.normal"),q=n.getModel("label.emphasis");v.get("show")?j(w,v,k,b.retrieve(a.getFormattedLabel(x,"normal"),a.getRawValue(x)),m):w.text="",q.get("show")?j(p,q,k,b.retrieve(a.getFormattedLabel(x,"emphasis"),a.getRawValue(x)),m):p.text=""},d.exports=f},function(d,g,c){var j=c(3),b=c(1),h=c(5),f={};f.findLabelValueDim=function(m){var o,l=h.otherDimToDataDim(m,"label");if(l.length){o=l[0]}else{for(var p,k=m.dimensions.slice();k.length&&(o=k.pop(),p=m.getDimensionInfo(o).type,"ordinal"===p||"time"===p);){}}return o},f.setTextToStyle=function(m,q,k,u,p,n,a){null!=k&&n.getShallow("show")?(j.setText(u,n,a),u.text=b.retrieve(p.getFormattedLabel(q,"normal"),m.get(k,q))):u.text=""},d.exports=f},function(C,x,q){function k(a){return isNaN(a[0])||isNaN(a[1])}function A(E,Q,O,U,K,H,P,N,u,l,p){for(var V=0,R=O,s=0;s<U;s++){var d=Q[R];if(R>=K||R<0){break}if(k(d)){if(p){R+=H;continue}break}if(R===O){E[H>0?"moveTo":"lineTo"](d[0],d[1]),v(w,d)}else{if(u>0){var f=R+H,n=Q[f];if(p){for(;n&&k(Q[f]);){f+=H,n=Q[f]}}var c=0.5,J=Q[V],n=Q[f];if(!n||k(n)){v(g,d)}else{k(n)&&!p&&(n=d),D.sub(y,n,J);var G,h;if("x"===l||"y"===l){var F="x"===l?0:1;G=Math.abs(d[F]-J[F]),h=Math.abs(d[F]-n[F])}else{G=D.dist(d,J),h=D.dist(d,n)}c=h/(h+G),z(g,d,y,-u*(1-c))}m(w,w,N),B(w,w,P),m(g,g,N),B(g,g,P),E.bezierCurveTo(w[0],w[1],g[0],g[1],d[0],d[1]),z(w,d,y,u*c)}else{E.lineTo(d[0],d[1])}}V=R,R+=H}return s}function j(f,h){var d=[1/0,1/0],p=[-(1/0),-(1/0)];if(h){for(var c=0;c<f.length;c++){var l=f[c];l[0]<d[0]&&(d[0]=l[0]),l[1]<d[1]&&(d[1]=l[1]),l[0]>p[0]&&(p[0]=l[0]),l[1]>p[1]&&(p[1]=l[1])}}return{min:h?d:p,max:h?p:d}}var b=q(8),D=q(6),m=D.min,B=D.max,z=D.scaleAndAdd,v=D.copy,y=[],w=[],g=[];C.exports={Polyline:b.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(d,n){var c=n.points,h=0,f=c.length,a=j(c,n.smoothConstraint);if(n.connectNulls){for(;f>0&&k(c[f-1]);f--){}for(;h<f&&k(c[h]);h++){}}for(;h<f;){h+=A(d,c,h,f,f,1,a.min,a.max,n.smooth,n.smoothMonotone,n.connectNulls)+1}}}),Polygon:b.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(H,p){var n=p.points,a=p.stackedOnPoints,I=0,f=n.length,G=p.smoothMonotone,F=j(n,p.smoothConstraint),o=j(a,p.smoothConstraint);if(p.connectNulls){for(;f>0&&k(n[f-1]);f--){}for(;I<f&&k(n[I]);I++){}}for(;I<f;){var E=A(H,n,I,f,f,1,F.min,F.max,p.smooth,G,p.connectNulls);A(H,a,I+E-1,E,f,-1,o.min,o.max,p.stackedOnSmooth,G,p.connectNulls),I+=E+1,H.closePath()}}})}},function(d,f,c){var g=c(1),b={retrieveTargetInfo:function(k,l){if(k&&("treemapZoomToNode"===k.type||"treemapRootToNode"===k.type)){var j=l.getData().tree.root,m=k.targetNode;if(m&&j.contains(m)){return{node:m}}var h=k.targetNodeId;if(null!=h&&(m=j.getNodeById(h))){return{node:m}}}},getPathToRoot:function(a){for(var h=[];a;){a=a.parentNode,a&&h.push(a)}return h.reverse()},aboveViewRoot:function(h,j){var a=b.getPathToRoot(h);return g.indexOf(a,j)>=0},wrapTreePathInfo:function(h,j){for(var a=[];h;){var k=h.dataIndex;a.push({name:h.name,dataIndex:k,value:j.getRawValue(k)}),h=h.parentNode}return a.reverse(),a}};d.exports=b},function(C,x,q){function k(h){this.pointerChecker,this._zr=h,this._opt={};var o=y.bind,d=o(A,this),r=o(j,this),a=o(b,this),p=o(D,this),l=o(m,this);v.call(this),this.setPointerChecker=function(c){this.pointerChecker=c},this.enable=function(f,c){this.disable(),this._opt=y.defaults(y.clone(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==f&&(f=!0),f!==!0&&"move"!==f&&"pan"!==f||(h.on("mousedown",d),h.on("mousemove",r),h.on("mouseup",a)),f!==!0&&"scale"!==f&&"zoom"!==f||(h.on("mousewheel",p),h.on("pinch",l))},this.disable=function(){h.off("mousedown",d),h.off("mousemove",r),h.off("mouseup",a),h.off("mousewheel",p),h.off("pinch",l)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function A(c){if(!c.target||!c.target.draggable){var d=c.offsetX,a=c.offsetY;this.pointerChecker&&this.pointerChecker(c,d,a)&&(this._x=d,this._y=a,this._dragging=!0)}}function j(f){if(z(this,"moveOnMouseMove",f)&&this._dragging&&"pinch"!==f.gestureEvent&&!g.isTaken(this._zr,"globalPan")){var l=f.offsetX,d=f.offsetY,s=this._x,c=this._y,p=l-s,h=d-c;this._x=l,this._y=d,this._opt.preventDefaultMouseMove&&w.stop(f.event),this.trigger("pan",p,h,s,c,l,d)}}function b(a){this._dragging=!1}function D(a){if(z(this,"zoomOnMouseWheel",a)&&0!==a.wheelDelta){var c=a.wheelDelta>0?1.1:1/1.1;B.call(this,a,c,a.offsetX,a.offsetY)}}function m(a){if(!g.isTaken(this._zr,"globalPan")){var c=a.pinchScale>1?1.1:1/1.1;B.call(this,a,c,a.pinchX,a.pinchY)}}function B(c,d,a,f){this.pointerChecker&&this.pointerChecker(c,a,f)&&(w.stop(c.event),this.trigger("zoom",d,a,f))}function z(c,d,a){var f=c._opt[d];return f&&(!y.isString(f)||a.event[f+"Key"])}var v=q(23),y=q(1),w=q(21),g=q(129);y.mixin(k,v),C.exports=k},function(k,h,g){var d=g(1),j={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},c=d.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},j),b=d.merge({boundaryGap:[0,0],splitNumber:5},j),m=d.defaults({scale:!0,min:"dataMin",max:"dataMax"},b),f=d.defaults({scale:!0,logBase:10},b);k.exports={categoryAxis:c,valueAxis:b,timeAxis:m,logAxis:f}},function(a,b){a.exports={containStroke:function(x,p,k,g,v,f,d){if(0===v){return !1}var y=v,j=0,w=x;if(d>p+y&&d>g+y||d<p-y&&d<g-y||f>x+y&&f>k+y||f<x-y&&f<k-y){return !1}if(x===k){return Math.abs(f-x)<=y/2}j=(p-g)/(x-k),w=(x*g-k*p)/(x-k);var q=j*f-d+w,m=q*q/(j*j+1);return m<=y/2*y/2}}},function(b,c,a){var d=a(20);b.exports={containStroke:function(w,n,k,q,g,f,x,j,v){if(0===x){return !1}var p=x;if(v>n+p&&v>q+p&&v>f+p||v<n-p&&v<q-p&&v<f-p||j>w+p&&j>k+p&&j>g+p||j<w-p&&j<k-p&&j<g-p){return !1}var m=d.quadraticProjectPoint(w,n,k,q,g,f,j,v,null);return m<=p/2}}},function(a,b){a.exports=function(m,j,h,f,k,d){if(d>j&&d>f||d<j&&d<f){return 0}if(f===j){return 0}var c=f<j?1:-1,p=(d-j)/(f-j);1!==p&&0!==p||(c=f<j?0.5:-0.5);var g=p*(h-m)+m;return g>k?c:0}},function(d,f,c){var h=c(1),b=c(39),g=function(j,l,a,p,m,k){this.x=null==j?0:j,this.y=null==l?0:l,this.x2=null==a?1:a,this.y2=null==p?0:p,this.type="linear",this.global=k||!1,b.call(this,m)};g.prototype={constructor:g},h.inherits(g,b),d.exports=g},function(d,f,c){function h(a){b.each(g,function(i){this[i]=b.bind(a[i],a)},this)}var b=c(1),g=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];d.exports=h},function(d,f,c){var h=c(1);c(57),c(103),c(104);var b=c(82),g=c(2);g.registerLayout(h.curry(b,"bar")),g.registerVisual(function(a){a.eachSeriesByType("bar",function(i){var j=i.getData();j.setVisual("legendSymbol","roundRect")})}),c(32)},function(b,c,a){b.exports=a(90).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"})},function(A,v,m){function j(c,d,a){a.style.text="",k.updateProps(a,{shape:{width:0}},d,c,function(){a.parent&&a.parent.remove(a)})}function y(c,d,a){a.style.text="",k.updateProps(a,{shape:{r:a.shape.r0}},d,c,function(){a.parent&&a.parent.remove(a)})}function g(L,H,D,C,K,u,l,J){var E=H.getItemVisual(D,"color"),I=H.getItemVisual(D,"opacity"),G=C.getModel("itemStyle.normal"),s=C.getModel("itemStyle.emphasis").getBarItemStyle();!J&&l&&L.setShape("r",G.get("barBorderRadius")||0),L.useStyle(B.defaults({fill:E,opacity:I},G.getBarItemStyle()));var F=l?K.height>0?"bottom":"top":K.width>0?"left":"right";J||z.setLabel(L.style,s,C,E,u,D,F),k.setHoverStyle(L,s)}function b(c,d){var a=c.get(x)||0;return Math.min(a,Math.abs(d.width),Math.abs(d.height))}var B=m(1),k=m(3),z=m(91),x=["itemStyle","normal","barBorderWidth"];B.extend(m(10).prototype,m(105));var p=m(2).extendChartView({type:"bar",render:function(c,d,a){var f=c.get("coordinateSystem");return"cartesian2d"!==f&&"polar"!==f||this._render(c,d,a),this.group},dispose:B.noop,_render:function(E,o,f){var a,F=this.group,D=E.getData(),C=this._data,l=E.coordinateSystem,d=l.getBaseAxis();"cartesian2d"===l.type?a=d.isHorizontal():"polar"===l.type&&(a="angle"===d.dim);var n=E.isAnimationEnabled()?E:null;D.diff(C).add(function(r){if(D.hasValue(r)){var h=D.getItemModel(r),s=q[l.type](D,r,h),c=w[l.type](D,r,h,s,a,n);D.setItemGraphicEl(r,c),F.add(c),g(c,D,r,h,s,E,a,"polar"===l.type)}}).update(function(s,h){var t=C.getItemGraphicEl(h);if(!D.hasValue(s)){return void F.remove(t)}var c=D.getItemModel(s),r=q[l.type](D,s,c);t?k.updateProps(t,{shape:r},n,s):t=w[l.type](D,s,c,r,a,n,!0),D.setItemGraphicEl(s,t),F.add(t),g(t,D,s,c,r,E,a,"polar"===l.type)}).remove(function(c){var h=C.getItemGraphicEl(c);"cartesian2d"===l.type?h&&j(c,n,h):h&&y(c,n,h)}).execute(),this._data=D},remove:function(c,d){var a=this.group,f=this._data;c.get("animation")?f&&f.eachItemGraphicEl(function(h){"sector"===h.type?y(h.dataIndex,c,h):j(h.dataIndex,c,h)}):a.removeAll()}}),w={cartesian2d:function(J,E,C,s,H,l,f){var I=new k.Rect({shape:B.extend({},s)});if(l){var G=I.shape,D=H?"height":"width",F={};G[D]=0,F[D]=s[D],k[f?"updateProps":"initProps"](I,{shape:F},l,E)}return I},polar:function(J,E,C,s,H,l,f){var I=new k.Sector({shape:B.extend({},s)});if(l){var G=I.shape,D=H?"r":"endAngle",F={};G[D]=H?0:s.startAngle,F[D]=s[D],k[f?"updateProps":"initProps"](I,{shape:F},l,E)}return I}},q={cartesian2d:function(f,l,d){var u=f.getItemLayout(l),c=b(d,u),r=u.width>0?1:-1,h=u.height>0?1:-1;return{x:u.x+r*c/2,y:u.y+h*c/2,width:u.width-r*c,height:u.height-h*c}},polar:function(c,d,a){var f=c.getItemLayout(d);return{cx:f.cx,cy:f.cy,r0:f.r0,r:f.r,startAngle:f.startAngle,endAngle:f.endAngle}}};A.exports=p},function(b,c,a){var d=a(31)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);b.exports={getBarItemStyle:function(g){var h=d.call(this,g);if(this.getBorderLineDash){var f=this.getBorderLineDash();f&&(h.lineDash=f)}return h}}},function(G,B,x){function q(a){return"_"+a+"Type"}function E(f,h,d){var m=h.getItemVisual(d,"color"),c=h.getItemVisual(d,f),l=h.getItemVisual(d,f+"Size");if(c&&"none"!==c){A.isArray(l)||(l=[l,l]);var g=F.createSymbol(c,-l[0]/2,-l[1]/2,l[0],l[1],m);return g.name=f,g}}function k(a){var c=new y({name:"line"});return b(c.shape,a),c}function b(f,g){var d=g[0],h=g[1],c=g[2];f.x1=d[0],f.y1=d[1],f.x2=h[0],f.y2=h[1],f.percent=1,c?(f.cpx1=c[0],f.cpy1=c[1]):(f.cpx1=NaN,f.cpy1=NaN)}function H(){var L=this,X=L.childOfName("fromSymbol"),T=L.childOfName("toSymbol"),Q=L.childOfName("label");if(X||T||!Q.ignore){for(var Z=1,P=this.parent;P;){P.scale&&(Z/=P.scale[0]),P=P.parent}var N=L.childOfName("line");if(this.__dirty||N.__dirty){var M=N.shape.percent,S=N.pointAt(0),K=N.pointAt(M),U=D.sub([],K,S);if(D.normalize(U,U),X){X.attr("position",S);var Y=N.tangentAt(0);X.attr("rotation",Math.PI/2-Math.atan2(Y[1],Y[0])),X.attr("scale",[Z*M,Z*M])}if(T){T.attr("position",K);var Y=N.tangentAt(1);T.attr("rotation",-Math.PI/2-Math.atan2(Y[1],Y[0])),T.attr("scale",[Z*M,Z*M])}if(!Q.ignore){Q.attr("position",K);var W,O,V,R=5*Z;if("end"===Q.__position){W=[U[0]*R+K[0],U[1]*R+K[1]],O=U[0]>0.8?"left":U[0]<-0.8?"right":"center",V=U[1]>0.8?"top":U[1]<-0.8?"bottom":"middle"}else{if("middle"===Q.__position){var J=M/2,Y=N.tangentAt(J),c=[Y[1],-Y[0]],I=N.pointAt(J);c[1]>0&&(c[0]=-c[0],c[1]=-c[1]),W=[I[0]+c[0]*R,I[1]+c[1]*R],O="center",V="bottom";var aa=-Math.atan2(Y[1],Y[0]);K[0]<S[0]&&(aa=Math.PI+aa),Q.attr("rotation",aa)}else{W=[-U[0]*R+S[0],-U[1]*R+S[1]],O=U[0]>0.8?"right":U[0]<-0.8?"left":"center",V=U[1]>0.8?"bottom":U[1]<-0.8?"top":"middle"}}Q.attr({style:{textVerticalAlign:Q.__verticalAlign||V,textAlign:Q.__textAlign||O},position:W,scale:[Z,Z]})}}}}function w(c,d,a){C.Group.call(this),this._createLine(c,d,a)}var F=x(24),D=x(6),y=x(190),C=x(3),A=x(1),j=x(4),z=["fromSymbol","toSymbol"],v=w.prototype;v.beforeUpdate=H,v._createLine=function(f,m,d){var h=f.hostModel,g=f.getItemLayout(m),a=k(g);a.shape.percent=0,C.initProps(a,{shape:{percent:1}},h,m),this.add(a);var c=new C.Text({name:"label"});this.add(c),A.each(z,function(e){var l=E(e,f,m);this.add(l),this[q(e)]=f.getItemVisual(m,e)},this),this._updateCommonStl(f,m,d)},v.updateData=function(f,h,d){var m=f.hostModel,g=this.childOfName("line"),a=f.getItemLayout(h),c={shape:{}};b(c.shape,a),C.updateProps(g,c,m,h),A.each(z,function(e){var p=f.getItemVisual(h,e),n=q(e);if(this[n]!==p){this.remove(this.childOfName(e));var l=E(e,f,h);this.add(l)}this[n]=p},this),this._updateCommonStl(f,h,d)},v._updateCommonStl=function(K,U,R){var O=K.hostModel,X=this.childOfName("line"),N=R&&R.lineStyle,M=R&&R.hoverLineStyle,L=R&&R.labelModel,Q=R&&R.hoverLabelModel;if(!R||K.hasItemOption){var J=K.getItemModel(U);N=J.getModel("lineStyle.normal").getLineStyle(),M=J.getModel("lineStyle.emphasis").getLineStyle(),L=J.getModel("label.normal"),Q=J.getModel("label.emphasis")}var V=K.getItemVisual(U,"color"),T=A.retrieve(K.getItemVisual(U,"opacity"),N.opacity,1);X.useStyle(A.defaults({strokeNoScale:!0,fill:"none",stroke:V,opacity:T},N)),X.hoverStyle=M,A.each(z,function(a){var c=this.childOfName(a);c&&(c.setColor(V),c.setStyle({opacity:T}))},this);var P,I,f=L.getShallow("show"),g=Q.getShallow("show"),Y=this.childOfName("label");if(f||g){var W=O.getRawValue(U);I=null==W?I=K.getName(U):isFinite(W)?j.round(W):W,P=V||"#000"}if(f){var p=L.getModel("textStyle");Y.setStyle({text:A.retrieve(O.getFormattedLabel(U,"normal",K.dataType),I),textFont:p.getFont(),fill:p.getTextColor()||P}),Y.__textAlign=p.get("align"),Y.__verticalAlign=p.get("baseline"),Y.__position=L.get("position")}else{Y.setStyle("text","")}if(g){var d=Q.getModel("textStyle");Y.hoverStyle={text:A.retrieve(O.getFormattedLabel(U,"emphasis",K.dataType),I),textFont:d.getFont(),fill:d.getTextColor()||P}}else{Y.hoverStyle={text:""}}Y.ignore=!f&&!g,C.setHoverStyle(this)},v.updateLayout=function(a,c){this.setLinePoints(a.getItemLayout(c))},v.setLinePoints=function(a){var c=this.childOfName("line");b(c.shape,a),c.dirty()},A.inherits(w,C.Group),G.exports=w},function(k,h,g){function d(a){return isNaN(a[0])||isNaN(a[1])}function j(a){return !d(a[0])&&!d(a[1])}function c(a){this._ctor=a||m,this.group=new b.Group}var b=g(3),m=g(106),f=c.prototype;f.updateData=function(l){var q=this._lineData,a=this.group,u=this._ctor,s=l.hostModel,p={lineStyle:s.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:s.getModel("lineStyle.emphasis").getLineStyle(),labelModel:s.getModel("label.normal"),hoverLabelModel:s.getModel("label.emphasis")};l.diff(q).add(function(i){if(j(l.getItemLayout(i))){var n=new u(l,i,p);l.setItemGraphicEl(i,n),a.add(n)}}).update(function(n,i){var e=q.getItemGraphicEl(i);return j(l.getItemLayout(n))?(e?e.updateData(l,n,p):e=new u(l,n,p),l.setItemGraphicEl(n,e),void a.add(e)):void a.remove(e)}).remove(function(e){a.remove(q.getItemGraphicEl(e))}).execute(),this._lineData=l},f.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(n,l){n.updateLayout(a,l)},this)},f.remove=function(){this.group.removeAll()},k.exports=c},function(d,f,c){var h=c(1),b=c(2),g=b.PRIORITY;c(109),c(110),b.registerVisual(h.curry(c(50),"line","circle","line")),b.registerLayout(h.curry(c(61),"line")),b.registerProcessor(g.PROCESSOR.STATISTIC,h.curry(c(147),"line")),c(32)},function(d,f,c){var g=c(28),b=c(17);d.exports=b.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,h){return g(a.data,this,h)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})},function(w,K,G){function D(f,g){if(f.length===g.length){for(var d=0;d<f.length;d++){var h=f[d],c=g[d];if(h[0]!==c[0]||h[1]!==c[1]){return}}return !0}}function N(a){return"number"==typeof a?a:a?0.3:0}function C(c){var d=c.getGlobalExtent();if(c.onBand){var a=c.getBandWidth()/2-1,f=d[1]>d[0]?1:-1;d[0]+=f*a,d[1]-=f*a}return d}function A(a){return a>=0?1:-1}function z(f,h){var d=f.getBaseAxis(),m=f.getOtherAxis(d),c=d.onZero?0:m.scale.getExtent()[0],l=m.dim,g="x"===l||"radius"===l?1:0;return h.mapArray([l],function(p,a){for(var e,o=h.stackedOn;o&&A(o.get(l,a))===A(p);){e=o;break}var i=[];return i[g]=h.get(d.dim,a),i[1-g]=e?e.get(l,a,!0):c,f.dataToPoint(i)},!0)}function F(T,y,p){var m=C(T.getAxis("x")),R=C(T.getAxis("y")),g=T.getBaseAxis().isHorizontal(),U=Math.min(m[0],m[1]),o=Math.min(R[0],R[1]),S=Math.max(m[0],m[1])-U,Q=Math.max(R[0],R[1])-o,v=p.get("lineStyle.normal.width")||2,P=p.get("clipOverflow")?v/2:Math.max(S,Q);g?(o-=P,Q+=2*P):(U-=P,S+=2*P);var x=new k.Rect({shape:{x:U,y:o,width:S,height:Q}});return y&&(x.shape[g?"width":"height"]=0,k.initProps(x,{shape:{width:S,height:Q}},p)),x}function q(u,m,h){var f=u.getAngleAxis(),p=u.getRadiusAxis(),d=p.getExtent(),c=f.getExtent(),v=Math.PI/180,g=new k.Sector({shape:{cx:u.cx,cy:u.cy,r0:d[0],r:d[1],startAngle:-c[0]*v,endAngle:-c[1]*v,clockwise:f.inverse}});return m&&(g.shape.endAngle=-c[0]*v,k.initProps(g,{shape:{endAngle:-c[1]*v}},h)),g}function M(c,d,a){return"polar"===c.type?q(c,d,a):F(c,d,a)}function H(R,x,p){for(var g=x.getBaseAxis(),P="x"===g.dim||"radius"===g.dim?0:1,f=[],d=0;d<R.length-1;d++){var S=R[d+1],m=R[d];f.push(m);var Q=[];switch(p){case"end":Q[P]=S[P],Q[1-P]=m[1-P],f.push(Q);break;case"middle":var y=(m[P]+S[P])/2,v=[];Q[P]=v[P]=y,Q[1-P]=m[1-P],v[1-P]=S[1-P],f.push(Q),f.push(v);break;default:Q[P]=m[P],Q[1-P]=S[1-P],f.push(Q)}}return R[d]&&f.push(R[d]),f}function L(Z,U){var R=Z.getVisual("visualMeta");if(R&&R.length&&Z.count()){for(var y,X=R.length-1;X>=0;X--){if(R[X].dimension<2){y=R[X];break}}if(y&&"cartesian2d"===U.type){var x=y.dimension,f=Z.dimensions[x],aa=U.getAxis(f),Q=J.map(y.stops,function(a){return{coord:aa.toGlobalCoord(aa.dataToCoord(a.value)),color:a.color}}),Y=Q.length,W=y.outerColors.slice();Y&&Q[0].coord>Q[Y-1].coord&&(Q.reverse(),W.reverse());var S=10,V=Q[0].coord-S,v=Q[Y-1].coord+S,T=v-V;if(T<0.001){return"transparent"}J.each(Q,function(a){a.offset=(a.coord-V)/T}),Q.push({offset:Y?Q[Y-1].offset:0.5,color:W[1]||"transparent"}),Q.unshift({offset:Y?Q[0].offset:0.5,color:W[0]||"transparent"});var P=new k.LinearGradient(0,0,0,0,Q,(!0));return P[f]=V,P[f+"2"]=v,P}}}var J=G(1),B=G(44),I=G(54),E=G(111),k=G(3),b=G(5),j=G(93),O=G(30);w.exports=O.extend({type:"line",init:function(){var a=new k.Group,c=new B;this.group.add(c.group),this._symbolDraw=c,this._lineGroup=a},render:function(X,aj,ah){var ad=X.coordinateSystem,aa=this.group,af=X.getData(),W=X.getModel("lineStyle.normal"),ac=X.getModel("areaStyle.normal"),ai=af.mapArray(af.getItemLayout,!0),ae="polar"===ad.type,V=this._coordSys,s=this._symbolDraw,R=this._polyline,al=this._polygon,ak=this._lineGroup,U=X.get("animation"),c=!ac.isEmpty(),h=z(ad,af),Q=X.get("showSymbol"),a=Q&&!ae&&!X.get("showAllSymbol")&&this._getSymbolIgnoreFunc(af,ad),ab=this._data;ab&&ab.eachItemGraphicEl(function(g,i){g.__temp&&(aa.remove(g),ab.setItemGraphicEl(i,null))}),Q||s.remove(),aa.add(ak);var Z=!ae&&X.get("step");R&&V.type===ad.type&&Z===this._step?(c&&!al?al=this._newPolygon(ai,h,ad,U):al&&!c&&(ak.remove(al),al=this._polygon=null),ak.setClipPath(M(ad,!1,X)),Q&&s.updateData(af,a),af.eachItemGraphicEl(function(e){e.stopAnimation(!0)}),D(this._stackedOnPoints,h)&&D(this._points,ai)||(U?this._updateAnimation(af,h,ad,ah,Z):(Z&&(ai=H(ai,ad,Z),h=H(h,ad,Z)),R.setShape({points:ai}),al&&al.setShape({points:ai,stackedOnPoints:h})))):(Q&&s.updateData(af,a),Z&&(ai=H(ai,ad,Z),h=H(h,ad,Z)),R=this._newPolyline(ai,ad,U),c&&(al=this._newPolygon(ai,h,ad,U)),ak.setClipPath(M(ad,!0,X)));var n=L(af,ad)||af.getVisual("color");R.useStyle(J.defaults(W.getLineStyle(),{fill:"none",stroke:n,lineJoin:"bevel"}));var Y=X.get("smooth");if(Y=N(X.get("smooth")),R.setShape({smooth:Y,smoothMonotone:X.get("smoothMonotone"),connectNulls:X.get("connectNulls")}),al){var d=af.stackedOn,ag=0;if(al.useStyle(J.defaults(ac.getAreaStyle(),{fill:n,opacity:0.7,lineJoin:"bevel"})),d){var f=d.hostModel;ag=N(f.get("smooth"))}al.setShape({smooth:Y,stackedOnSmooth:ag,smoothMonotone:X.get("smoothMonotone"),connectNulls:X.get("connectNulls")})}this._data=af,this._coordSys=ad,this._stackedOnPoints=h,this._points=ai,this._step=Z},dispose:function(){},highlight:function(f,l,d,p){var c=f.getData(),m=b.queryDataIndex(c,p);if(!(m instanceof Array)&&null!=m&&m>=0){var h=c.getItemGraphicEl(m);if(!h){var g=c.getItemLayout(m);if(!g){return}h=new I(c,m),h.position=g,h.setZ(f.get("zlevel"),f.get("z")),h.ignore=isNaN(g[0])||isNaN(g[1]),h.__temp=!0,c.setItemGraphicEl(m,h),h.stopSymbolAnimation(!0),this.group.add(h)}h.highlight()}else{O.prototype.highlight.call(this,f,l,d,p)}},downplay:function(f,h,d,m){var c=f.getData(),l=b.queryDataIndex(c,m);if(null!=l&&l>=0){var g=c.getItemGraphicEl(l);g&&(g.__temp?(c.setItemGraphicEl(l,null),this.group.remove(g)):g.downplay())}else{O.prototype.downplay.call(this,f,h,d,m)}},_newPolyline:function(a){var c=this._polyline;return c&&this._lineGroup.remove(c),c=new j.Polyline({shape:{points:a},silent:!0,z2:10}),this._lineGroup.add(c),this._polyline=c,c},_newPolygon:function(c,d){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new j.Polygon({shape:{points:c,stackedOnPoints:d},silent:!0}),this._lineGroup.add(a),this._polygon=a,a},_getSymbolIgnoreFunc:function(c,d){var a=d.getAxesByScale("ordinal")[0];if(a&&a.isLabelIgnored){return J.bind(a.isLabelIgnored,a)}},_updateAnimation:function(P,Z,W,U,ac){var T=this._polyline,R=this._polygon,Q=P.hostModel,V=E(this._data,P,this._stackedOnPoints,Z,this._coordSys,W),v=V.current,ab=V.stackedOnCurrent,aa=V.next,Y=V.stackedOnNext;ac&&(v=H(V.current,W,ac),ab=H(V.stackedOnCurrent,W,ac),aa=H(V.next,W,ac),Y=H(V.stackedOnNext,W,ac)),T.shape.__points=V.current,T.shape.points=v,k.updateProps(T,{shape:{points:aa}},Q),R&&(R.setShape({points:v,stackedOnPoints:ab}),k.updateProps(R,{shape:{points:aa,stackedOnPoints:Y}},Q));for(var S=[],X=V.status,h=0;h<X.length;h++){var m=X[h].cmd;if("="===m){var ad=P.getItemGraphicEl(X[h].idx1);ad&&S.push({el:ad,ptIdx:h})}}T.animators&&T.animators.length&&T.animators[0].during(function(){for(var a=0;a<S.length;a++){var c=S[a].el;c.attr("position",T.shape.__points[S[a].ptIdx])}})},remove:function(c){var d=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(e,f){e.__temp&&(d.remove(e),a.setItemGraphicEl(f,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(d,f){function c(a){return a>=0?1:-1}function g(z,q,k){for(var x,j=z.getBaseAxis(),i=z.getOtherAxis(j),A=j.onZero?0:i.scale.getExtent()[0],m=i.dim,y="x"===m||"radius"===m?1:0,w=q.stackedOn,p=q.get(m,k);w&&c(w.get(m,k))===c(p);){x=w;break}var v=[];return v[y]=q.get(j.dim,k),v[1-y]=x?x.get(m,k,!0):A,z.dataToPoint(v)}function b(h,j){var a=[];return j.diff(h).add(function(e){a.push({cmd:"+",idx:e})}).update(function(i,k){a.push({cmd:"=",idx:k,idx1:i})}).remove(function(e){a.push({cmd:"-",idx:e})}).execute(),a}d.exports=function(F,W,Q,N,J,G){for(var P=b(F,W),E=[],Y=[],R=[],X=[],V=[],L=[],U=[],O=G.dimensions,D=0;D<P.length;D++){var n=P[D],z=!0;switch(n.cmd){case"=":var aa=F.getItemLayout(n.idx),Z=W.getItemLayout(n.idx1);(isNaN(aa[0])||isNaN(aa[1]))&&(aa=Z.slice()),E.push(aa),Y.push(Z),R.push(Q[n.idx]),X.push(N[n.idx1]),U.push(W.getRawIndex(n.idx1));break;case"+":var B=n.idx;E.push(J.dataToPoint([W.get(O[0],B,!0),W.get(O[1],B,!0)])),Y.push(W.getItemLayout(B).slice()),R.push(g(J,W,B)),X.push(N[B]),U.push(W.getRawIndex(B));break;case"-":var B=n.idx,j=F.getRawIndex(B);j!==B?(E.push(F.getItemLayout(B)),Y.push(G.dataToPoint([F.get(O[0],B,!0),F.get(O[1],B,!0)])),R.push(Q[B]),X.push(g(G,F,B)),U.push(j)):z=!1}z&&(V.push(n),L.push(L.length))}L.sort(function(h,i){return U[h]-U[i]});for(var k=[],q=[],a=[],K=[],H=[],D=0;D<L.length;D++){var B=L[D];k[D]=E[B],q[D]=Y[B],a[D]=R[B],K[D]=X[B],H[D]=V[B]}return{current:k,next:q,stackedOnCurrent:a,stackedOnNext:K,status:H}}},function(d,f,c){var g=c(1),b=c(2);c(113),c(114),c(89)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),b.registerVisual(g.curry(c(84),"pie")),b.registerLayout(g.curry(c(116),"pie")),b.registerProcessor(g.curry(c(63),"pie"))},function(k,h,g){var d=g(14),j=g(1),c=g(5),b=g(25),m=g(78),f=g(2).extendSeriesModel({type:"series.pie",init:function(a){f.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(a.data),this._defaultLabelLine(a)},mergeOption:function(a){f.superCall(this,"mergeOption",a),this.updateSelectedMap(this.option.data)},getInitialData:function(o,p){var n=b(["value"],o.data),l=new d(n,this);return l.initData(o.data),l},getDataParams:function(l){var o=this.getData(),a=f.superCall(this,"getDataParams",l),p=o.getSum("value");return a.percent=p?+(o.get("value",l)/p*100).toFixed(2):0,a.$vars.push("percent"),a},_defaultLabelLine:function(l){c.defaultEmphasis(l.labelLine,["show"]);var n=l.labelLine.normal,a=l.labelLine.emphasis;n.show=n.show&&l.label.normal.show,a.show=a.show&&l.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});j.mixin(f,m),k.exports=f},function(q,j,h){function f(u,y,c,A){var z=y.getData(),x=this.dataIndex,w=z.getName(x),a=y.get("selectedOffset");A.dispatchAction({type:"pieToggleSelect",from:u,name:w,seriesId:y.id}),z.each(function(e){m(z.getItemGraphicEl(e),z.getItemLayout(e),y.isSelected(z.getName(e)),a,c)})}function m(D,A,z,x,B){var w=(A.startAngle+A.endAngle)/2,c=Math.cos(w),E=Math.sin(w),y=z?x:0,C=[c*y,E*y];B?D.animate().when(200,{position:C}).start("bounceOut"):D.attr("position",C)}function d(s,w){function l(){x.ignore=x.hoverIgnore,u.ignore=u.hoverIgnore}function y(){x.ignore=x.normalIgnore,u.ignore=u.normalIgnore}v.Group.call(this);var c=new v.Sector({z2:2}),x=new v.Polyline,u=new v.Text;this.add(c),this.add(x),this.add(u),this.updateData(s,w,!0),this.on("emphasis",l).on("normal",y).on("mouseover",l).on("mouseout",y)}function b(s,w,l,y,c){var x=y.getModel("textStyle"),u="inside"===c||"inner"===c;return{fill:x.getTextColor()||(u?"#fff":s.getItemVisual(w,"color")),opacity:s.getItemVisual(w,"opacity"),textFont:x.getFont(),text:g.retrieve(s.hostModel.getFormattedLabel(w,l),s.getName(w))}}var v=h(3),g=h(1),p=d.prototype;p.updateData=function(F,B,x){function w(){a.stopAnimation(!0),a.animateTo({shape:{r:y.r+10}},300,"elasticOut")}function s(){a.stopAnimation(!0),a.animateTo({shape:{r:y.r}},300,"elasticOut")}var a=this.childAt(0),E=F.hostModel,D=F.getItemModel(B),y=F.getItemLayout(B),C=g.extend({},y);if(C.label=null,x){a.setShape(C);var A=E.getShallow("animationType");"scale"===A?(a.shape.r=y.r0,v.initProps(a,{shape:{r:y.r}},E,B)):(a.shape.endAngle=y.startAngle,v.updateProps(a,{shape:{endAngle:y.endAngle}},E,B))}else{v.updateProps(a,{shape:C},E,B)}var l=D.getModel("itemStyle"),z=F.getItemVisual(B,"color");a.useStyle(g.defaults({lineJoin:"bevel",fill:z},l.getModel("normal").getItemStyle())),a.hoverStyle=l.getModel("emphasis").getItemStyle(),m(this,F.getItemLayout(B),D.get("selected"),E.get("selectedOffset"),E.get("animation")),a.off("mouseover").off("mouseout").off("emphasis").off("normal"),D.get("hoverAnimation")&&E.isAnimationEnabled()&&a.on("mouseover",w).on("mouseout",s).on("emphasis",w).on("normal",s),this._updateLabel(F,B),v.setHoverStyle(this)},p._updateLabel=function(I,D){var z=this.childAt(1),w=this.childAt(2),G=I.hostModel,s=I.getItemModel(D),y=I.getItemLayout(D),H=y.label,F=I.getItemVisual(D,"color");v.updateProps(z,{shape:{points:H.linePoints||[[H.x,H.y],[H.x,H.y],[H.x,H.y]]}},G,D),v.updateProps(w,{style:{x:H.x,y:H.y}},G,D),w.attr({style:{textVerticalAlign:H.verticalAlign,textAlign:H.textAlign,textFont:H.font},rotation:H.rotation,origin:[H.x,H.y],z2:10});var A=s.getModel("label.normal"),E=s.getModel("label.emphasis"),C=s.getModel("labelLine.normal"),r=s.getModel("labelLine.emphasis"),B=A.get("position")||E.get("position");w.setStyle(b(I,D,"normal",A,B)),w.ignore=w.normalIgnore=!A.get("show"),w.hoverIgnore=!E.get("show"),z.ignore=z.normalIgnore=!C.get("show"),z.hoverIgnore=!r.get("show"),z.setStyle({stroke:F,opacity:I.getItemVisual(D,"opacity")}),z.setStyle(C.getModel("lineStyle").getLineStyle()),w.hoverStyle=b(I,D,"emphasis",E,B),z.hoverStyle=r.getModel("lineStyle").getLineStyle();var x=C.get("smooth");x&&x===!0&&(x=0.4),z.setShape({smooth:x})},g.inherits(d,v.Group);var k=h(30).extend({type:"pie",init:function(){var a=new v.Group;this._sectorGroup=a},render:function(G,A,w,D){if(!D||D.from!==this.uid){var l=G.getData(),H=this._data,F=this.group,C=A.get("animation"),x=!H,B=G.get("animationType"),z=g.curry(f,this.uid,G,C,w),n=G.get("selectedMode");if(l.diff(H).add(function(a){var c=new d(l,a);x&&"scale"!==B&&c.eachChild(function(e){e.stopAnimation(!0)}),n&&c.on("click",z),l.setItemGraphicEl(a,c),F.add(c)}).update(function(c,r){var a=H.getItemGraphicEl(r);a.updateData(l,c),a.off("click"),n&&a.on("click",z),F.add(a),l.setItemGraphicEl(c,a)}).remove(function(a){var c=H.getItemGraphicEl(a);F.remove(c)}).execute(),C&&x&&l.count()>0&&"scale"!==B){var y=l.getItemLayout(0),o=Math.max(w.getWidth(),w.getHeight())/2,E=g.bind(F.removeClipPath,F);F.setClipPath(this._createClipPath(y.cx,y.cy,o,y.startAngle,y.clockwise,E,G))}this._data=l}},dispose:function(){},_createClipPath:function(w,y,u,A,s,z,x){var c=new v.Sector({shape:{cx:w,cy:y,r0:0,r:u,startAngle:A,endAngle:A,clockwise:s}});return v.initProps(c,{shape:{endAngle:A+(s?1:-1)*Math.PI*2}},x,z),c},containPoint:function(s,w){var l=w.getData(),y=l.getItemLayout(0);if(y){var c=s[0]-y.cx,x=s[1]-y.cy,u=Math.sqrt(c*c+x*x);return u<=y.r&&u>=y.r0}}});q.exports=k},function(d,f,c){function h(F,A,w,q,D,m,j){function G(r,p,t,l){for(var s=r;s<p;s++){if(F[s].y+=t,s>r&&s+1<p&&F[s+1].y>F[s].y+F[s].height){return void v(s,t/2)}}v(p-1,t/2)}function v(l,a){for(var o=l;o>=0&&(F[o].y-=a,!(o>0&&F[o].y>F[o-1].y+F[o-1].height));o--){}}function E(R,M,K,I,P,H){for(var p=H>0?M?Number.MAX_VALUE:0:M?Number.MAX_VALUE:0,S=0,J=R.length;S<J;S++){if("center"!==R[S].position){var Q=Math.abs(R[S].y-I),O=R[S].len,L=R[S].len2,N=Q<P+O?Math.sqrt((P+O+L)*(P+O+L)-Q*Q):Math.abs(R[S].x-K);M&&N>=p&&(N=p-10),!M&&N<=p&&(N=p+10),R[S].x=K+N*H,p=N}}}F.sort(function(a,i){return a.y-i.y});for(var C,x=0,B=F.length,z=[],k=[],y=0;y<B;y++){C=F[y].y-x,C<0&&G(y,B,-C,D),x=F[y].y+F[y].height}j-x<0&&v(B-1,x-j);for(var y=0;y<B;y++){F[y].y>=w?k.push(F[y]):z.push(F[y])}E(z,!1,A,w,q,D),E(k,!0,A,w,q,D)}function b(y,q,n,w,k,j){for(var z=[],m=[],x=0;x<y.length;x++){y[x].x<q?z.push(y[x]):m.push(y[x])}h(m,q,n,w,1,k,j),h(z,q,n,w,-1,k,j);for(var x=0;x<y.length;x++){var v=y[x].linePoints;if(v){var p=v[1][0]-v[2][0];y[x].x<q?v[2][0]=y[x].x+3:v[2][0]=y[x].x-3,v[1][1]=v[2][1]=y[x].y,v[1][0]=v[2][0]+p}}}var g=c(16);d.exports=function(v,o,m,j){var a,w,k=v.getData(),q=[],p=!1;k.each(function(V){var Q,ab,W,Z,Y=k.getItemLayout(V),N=k.getItemModel(V),X=N.getModel("label.normal"),R=X.get("position")||N.get("label.emphasis.position"),G=N.getModel("labelLine.normal"),z=G.get("length"),E=G.get("length2"),ac=(Y.startAngle+Y.endAngle)/2,aa=Math.cos(ac),F=Math.sin(ac);a=Y.cx,w=Y.cy;var l="inside"===R||"inner"===R;if("center"===R){Q=Y.cx,ab=Y.cy,Z="center"}else{var t=(l?(Y.r+Y.r0)/2*aa:Y.r*aa)+a,B=(l?(Y.r+Y.r0)/2*F:Y.r*F)+w;if(Q=t+3*aa,ab=B+3*F,!l){var e=t+aa*(z+o-Y.r),K=B+F*(z+o-Y.r),J=e+(aa<0?-1:1)*E,u=K;Q=J+(aa<0?-5:5),ab=u,W=[[t,B],[e,K],[J,u]]}Z=l?"center":aa>0?"left":"right"}var H=X.getModel("textStyle").getFont(),r=X.get("rotate")?aa<0?-ac+Math.PI:-ac:0,U=v.getFormattedLabel(V,"normal")||k.getName(V),s=g.getBoundingRect(U,H,Z,"top");p=!!r,Y.label={x:Q,y:ab,position:R,height:s.height,len:z,len2:E,linePoints:W,textAlign:Z,verticalAlign:"middle",font:H,rotation:r},l||q.push(Y.label)}),!p&&v.get("avoidLabelOverlap")&&b(q,a,w,o,m,j)}},function(k,h,g){var d=g(4),j=d.parsePercent,c=g(115),b=g(1),m=2*Math.PI,f=Math.PI/180;k.exports=function(n,o,l,a){o.eachSeriesByType(n,function(K){var Y=K.get("center"),J=K.get("radius");b.isArray(J)||(J=[0,J]),b.isArray(Y)||(Y=[Y,Y]);var aa=l.getWidth(),V=l.getHeight(),Z=Math.min(aa,V),X=j(Y[0],aa),R=j(Y[1],V),W=j(J[0],Z/2),U=j(J[1],Z/2),H=K.getData(),B=-K.get("startAngle")*f,F=K.get("minAngle")*f,ac=0;H.each("value",function(e){!isNaN(e)&&ac++});var ab=H.getSum("value"),G=Math.PI/(ab||ac)*2,q=K.get("clockwise"),s=K.get("roseType"),E=K.get("stillShowZeroSum"),i=H.getDataExtent("value");i[0]=0;var Q=m,O=0,z=B,N=q?1:-1;if(H.each("value",function(v,w){var u;if(isNaN(v)){return void H.setItemLayout(w,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:q,cx:X,cy:R,r0:W,r:s?NaN:U})}u="area"!==s?0===ab&&E?G:v*G:m/ac,u<F?(u=F,Q-=F):O+=v;var p=z+N*u;H.setItemLayout(w,{angle:u,startAngle:z,endAngle:p,clockwise:q,cx:X,cy:R,r0:W,r:s?d.linearMap(v,i,[W,U]):U}),z=p},!0),Q<m&&ac){if(Q<=0.001){var r=m/ac;H.each("value",function(u,v){if(!isNaN(u)){var p=H.getItemLayout(v);p.angle=r,p.startAngle=B+N*v*r,p.endAngle=B+N*(v+1)*r}})}else{G=Q/O,z=B,H.each("value",function(u,v){if(!isNaN(u)){var p=H.getItemLayout(v),w=p.angle===F?F:u*G;p.startAngle=z,p.endAngle=z+N*w,z+=N*w}})}}c(K,U,aa,V)})}},function(b,c,a){a(60),a(118)},function(y,p,k){var g=k(1),w=k(3),f=k(40),b=k(41),z=k(75),j=f.ifIgnoreOnTick,x=f.getInterval,v=["axisLine","axisLabel","axisTick","axisName"],m=["splitArea","splitLine"],q=b.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(h,A,d,n){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new w.Group,this.group.add(this._axisGroup),h.get("show")){var c=h.getCoordSysModel(),o=z.layout(c,h),s=new f(h,o);g.each(v,s.add,s),this._axisGroup.add(s.getGroup()),g.each(m,function(i){h.get(i+".show")&&this["_"+i](h,c,o.labelInterval)},this),w.groupTransition(a,this._axisGroup,h),q.superCall(this,"render",h,A,d,n)}},_splitLine:function(A,K,G){var E=A.axis;if(!E.scale.isBlank()){var C=A.getModel("splitLine"),B=C.getModel("lineStyle"),M=B.get("color"),H=x(C,G);M=g.isArray(M)?M:[M];for(var L=K.coordinateSystem.getRect(),J=E.isHorizontal(),D=0,I=E.getTicksCoords(),F=E.scale.getTicks(),u=[],a=[],l=B.getLineStyle(),O=0;O<I.length;O++){if(!j(E,O,H)){var N=E.toGlobalCoord(I[O]);J?(u[0]=N,u[1]=L.y,a[0]=N,a[1]=L.y+L.height):(u[0]=L.x,u[1]=N,a[0]=L.x+L.width,a[1]=N);var n=D++%M.length;this._axisGroup.add(new w.Line(w.subPixelOptimizeLine({anid:"line_"+F[O],shape:{x1:u[0],y1:u[1],x2:a[0],y2:a[1]},style:g.defaults({stroke:M[n]},l),silent:!0})))}}}},_splitArea:function(D,P,K){var H=D.axis;if(!H.scale.isBlank()){var F=D.getModel("splitArea"),E=F.getModel("areaStyle"),R=E.get("color"),L=P.coordinateSystem.getRect(),Q=H.getTicksCoords(),O=H.scale.getTicks(),G=H.toGlobalCoord(Q[0]),N=H.toGlobalCoord(Q[0]),J=0,C=x(F,K),n=E.getAreaStyle();R=g.isArray(R)?R:[R];for(var A=1;A<Q.length;A++){if(!j(H,A,C)){var U,T,B,a,l=H.toGlobalCoord(Q[A]);H.isHorizontal()?(U=G,T=L.y,B=l-U,a=L.height):(U=L.x,T=N,B=L.width,a=l-T);var u=J++%R.length;this._axisGroup.add(new w.Rect({anid:"area_"+O[A],shape:{x:U,y:T,width:B,height:a},style:g.defaults({fill:R[u]},n),silent:!0})),G=U+B,N=T+a}}}}});q.extend({type:"xAxis"}),q.extend({type:"yAxis"})},function(q,I,E){function B(){}function L(c,d,a,f){A(H(a).lastProp,f)||(H(a).lastProp=f,d?J.updateProps(a,f,c):(a.stopAnimation(),a.attr(f)))}function A(c,d){if(K.isObject(c)&&K.isObject(d)){var a=!0;return K.each(d,function(f,g){a&=A(c[g],f)}),!!a}return c===d}function x(a,c){a[c.get("label.show")?"show":"hide"]()}function w(a){return{position:a.position.slice(),rotation:a.rotation||0}}function D(f,g){var d=f.get("icon"),h={x:-1,y:-1,width:2,height:2},c=K.extend({style:{strokeNoScale:!0},rectHover:!0,cursor:"move",draggable:!0},g);return 0===d.indexOf("image://")?(h.image=d.slice(8),c.style=h,new J.Image(c)):J.makePath(d.replace("path://",""),c,h,"center")}function k(f,g,d){var h=g.get("z"),c=g.get("zlevel");f&&f.traverse(function(a){"group"!==a.type&&(null!=h&&(a.z=h),null!=c&&(a.zlevel=c),a.silent=d)})}var K=E(1),F=E(15),J=E(3),H=E(5).makeGetter(),z=E(45),G=E(21),C=E(37),j=K.clone,b=K.bind;B.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(P,O,v,m){var d=O.get("value"),a=O.get("status");if(this._axisModel=P,this._axisPointerModel=O,this._api=v,m||this._lastValue!==d||this._lastStatus!==a){this._lastValue=d,this._lastStatus=a;var Q=this._group,u=this._handle;if(!a||"hide"===a){return Q&&Q.hide(),void (u&&u.hide())}Q&&Q.show(),u&&u.show();var y={};this.makeElOption(y,d,P,O,v);var N=y.graphicKey;N!==this._lastGraphicKey&&this.clear(v),this._lastGraphicKey=N;var c=this._moveAnimation=this.determineAnimation(P,O);if(Q){var M=K.curry(L,O,c);this.updatePointerEl(Q,y,M,O),this.updateLabelEl(Q,y,M,O)}else{Q=this._group=new J.Group,this.createPointerEl(Q,y,P,O),this.createLabelEl(Q,y,P,O),v.getZr().add(Q)}k(Q,O,!0),this._renderHandle(d)}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(u,m){var h=m.get("animation"),f=u.axis,p="category"===f.type,d=m.get("snap");if(!d&&!p){return !1}if("auto"===h||null==h){var c=this.animationThreshold;if(p&&f.getBandWidth()>c){return !0}if(d){var v=z.getAxisInfo(u).seriesDataCount,g=f.getExtent();return Math.abs(g[0]-g[1])/v>c}return !1}return h===!0},makeElOption:function(f,g,d,h,c){},createPointerEl:function(f,g,d,l){var c=g.pointer;if(c){var h=H(f).pointerEl=new J[c.type](j(g.pointer));f.add(h)}},createLabelEl:function(f,g,d,h){if(g.label){var c=H(f).labelEl=new J.Rect(j(g.label));f.add(c),x(c,h)}},updatePointerEl:function(c,d,a){var f=H(c).pointerEl;f&&(f.setStyle(d.pointer.style),a(f,{shape:d.pointer.shape}))},updateLabelEl:function(f,g,d,h){var c=H(f).labelEl;c&&(c.setStyle(g.label.style),d(c,{shape:g.label.shape,position:g.label.position}),x(c,h))},_renderHandle:function(u){if(!this._dragging&&this.updateHandleTransform){var m=this._axisPointerModel,g=this._api.getZr(),f=this._handle,p=m.getModel("handle"),d=m.get("status");if(!p.get("show")||!d||"hide"===d){return f&&g.remove(f),void (this._handle=null)}var c;this._handle||(c=!0,f=this._handle=D(p,{onmousemove:function(a){G.stop(a.event)},onmousedown:b(this._onHandleDragMove,this,0,0),drift:b(this._onHandleDragMove,this),ondragend:b(this._onHandleDragEnd,this)}),g.add(f)),k(f,m,!1);var v=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];f.setStyle(p.getItemStyle(null,v));var l=p.get("size");K.isArray(l)||(l=[l,l]),f.attr("scale",[l[0]/2,l[1]/2]),C.createOrUpdate(this,"_doDispatchAxisPointer",p.get("throttle")||0,"fixRate"),this._moveHandleToValue(u,c)}},_moveHandleToValue:function(a,c){L(this._axisPointerModel,!c&&this._moveAnimation,this._handle,w(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(c,d){var a=this._handle;if(a){this._dragging=!0;var f=this.updateHandleTransform(w(a),[c,d],this._axisModel,this._axisPointerModel);this._payloadInfo=f,a.stopAnimation(),a.attr(w(f)),H(a).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var c=this._handle;if(c){var d=this._payloadInfo,a=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:d.cursorPoint[0],y:d.cursorPoint[1],tooltipOption:d.tooltipOption,axesInfo:[{axisDim:a.axis.dim,axisIndex:a.componentIndex}]})}},_onHandleDragEnd:function(c){this._dragging=!1;var d=this._handle;if(d){var a=this._axisPointerModel.get("value");this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(c){this._lastValue=null,this._lastStatus=null;var d=c.getZr(),a=this._group,f=this._handle;d&&a&&(this._lastGraphicKey=null,a&&d.remove(a),f&&d.remove(f),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(c,d,a){return a=a||0,{x:c[a],y:c[1-a],width:d[a],height:d[1-a]}}},B.prototype.constructor=B,F.enableClassExtend(B),q.exports=B},function(w,m,j){function f(c,h){var a={};return a[h.dim+"AxisIndex"]=h.index,c.getCartesian(a)}function q(a){return"x"===a.dim?0:1}var d=j(3),b=j(119),x=j(76),g=j(75),v=j(41),p=b.extend({makeElOption:function(G,B,y,E,n){var h=y.axis,F=h.grid,D=E.get("type"),C=f(F,h).getOtherAxis(h).getGlobalExtent(),A=h.toGlobalCoord(h.dataToCoord(B,!0));if(D&&"none"!==D){var l=x.buildElStyle(E),z=k[D](h,A,C,l);z.style=l,G.graphicKey=z.type,G.pointer=z}var s=g.layout(F.model,y);x.buildCartesianSingleLabelElOption(B,G,s,y,E,n)},getHandleTransform:function(c,h,a){var l=g.layout(h.axis.grid.model,h,{labelInside:!1});return l.labelMargin=a.get("handle.margin"),{position:x.getTransformedPosition(h.axis,c,l),rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(I,D,A,G){var y=A.axis,n=y.grid,J=y.getGlobalExtent(!0),z=f(n,y).getOtherAxis(y).getGlobalExtent(),H="x"===y.dim?0:1,F=I.position;F[H]+=D[H],F[H]=Math.min(J[1],F[H]),F[H]=Math.max(J[0],F[H]);var B=(z[1]+z[0])/2,E=[B,B];E[H]=F[H];var C=[{verticalAlign:"middle"},{align:"center"}];return{position:F,rotation:I.rotation,cursorPoint:E,tooltipOption:C[H]}}}),k={line:function(c,l,a,o){var h=x.makeLineShape([l,a[0]],[l,a[1]],q(c));return d.subPixelOptimizeLine({shape:h,style:o}),{type:"Line",shape:h}},shadow:function(c,l,a,u){var s=c.getBandWidth(),h=a[1]-a[0];return{type:"Rect",shape:x.makeRectShape([l-s/2,a[0]],[s,h],q(c))}}};v.registerAxisPointerClass("CartesianAxisPointer",p),w.exports=p},function(d,f,c){var g=c(1),b=c(5);d.exports=function(w,p){var m,j=[],a=w.seriesIndex;if(null==a||!(m=p.getSeriesByIndex(a))){return{point:[]}}var x=m.getData(),k=b.queryDataIndex(x,w);if(null==k||g.isArray(k)){return{point:[]}}var v=x.getItemGraphicEl(k),q=m.coordinateSystem;if(m.getTooltipPosition){j=m.getTooltipPosition(k)||[]}else{if(q&&q.dataToPoint){j=q.dataToPoint(x.getValues(g.map(q.dimensions,function(e){return m.coordDimToDataDim(e)[0]}),k,!0))||[]}else{if(v){var n=v.getBoundingRect().clone();n.applyTransform(v.transform),j=[n.x+n.width/2,n.y+n.height/2]}}}return{point:j,el:v}}},function(y,p,k){function g(c,d){function a(e,h){c.on(e,function(l){var n=z(d);m(v(c).records,function(i){i&&h(i,l,n.dispatchAction)}),w(n.pendings,d)})}v(c).initialized||(v(c).initialized=!0,a("click",x.curry(b,"click")),a("mousemove",x.curry(b,"mousemove")),a("globalout",f))}function w(h,l){var d,o=h.showTip.length,c=h.hideTip.length;o?d=h.showTip[o-1]:c&&(d=h.hideTip[c-1]),d&&(d.dispatchAction=null,l.dispatchAction(d))}function f(c,d,a){c.handler("leave",null,a)}function b(c,d,a,h){d.handler(c,a,h)}function z(c){var d={showTip:[],hideTip:[]},a=function(h){var e=d[h.type];e?e.push(h):(h.dispatchAction=a,c.dispatchAction(h))};return{dispatchAction:a,pendings:d}}var j=k(9),x=k(1),v=k(5).makeGetter(),m=x.each,q={};q.register=function(h,l,d){if(!j.node){var c=l.getZr();v(c).records||(v(c).records={}),g(c,l);var n=v(c).records[h]||(v(c).records[h]={});n.handler=d}},q.unregister=function(c,d){if(!j.node){var a=d.getZr(),h=(v(a).records||{})[c];h&&(v(a).records[c]=null)}},y.exports=q},function(d,f,c){var h=c(1),b=c(77),g=c(2);g.registerAction("dataZoom",function(j,k){var a=b.createLinkedNodesFinder(h.bind(k.eachComponent,k,"dataZoom"),b.eachAxisDim,function(i,m){return i.get(m.axisIndex)}),l=[];k.eachComponent({mainType:"dataZoom",query:j},function(i,m){l.push.apply(l,a(i).nodes)}),h.each(l,function(n,m){n.setRawRange({start:j.start,end:j.end,startValue:j.startValue,endValue:j.endValue})})})},function(d,f,c){function h(j,k,a){a.getAxisProxy(j.name,k).reset(a)}function b(j,k,a){a.getAxisProxy(j.name,k).filterData(a)}var g=c(2);g.registerProcessor(function(a,i){a.eachComponent("dataZoom",function(e){e.eachTargetAxis(h),e.eachTargetAxis(b)}),a.eachComponent("dataZoom",function(k){var l=k.findRepresentativeAxisProxy(),j=l.getDataPercentWindow(),m=l.getDataValueWindow();k.setRawRange({start:j[0],end:j[1],startValue:m[0],endValue:m[1]},!0)})})},function(d,h,c){function k(a){var i=a[g];return i||(i=a[g]=[{}]),i}var b=c(1),j=b.each,g="\0_ec_hist_store",f={push:function(l,m){var a=k(l);j(m,function(t,v){for(var i=a.length-1;i>=0;i--){var u=a[i];if(u[v]){break}}if(i<0){var q=l.queryComponents({mainType:"dataZoom",subType:"select",id:v})[0];if(q){var p=q.getPercentRange();a[0][v]={dataZoomId:v,start:p[0],end:p[1]}}}}),a.push(m)},pop:function(n){var o=k(n),m=o[o.length-1];o.length>1&&o.pop();var l={};return j(m,function(e,a){for(var p=o.length-1;p>=0;p--){var e=o[p][a];if(e){l[a]=e;break}}}),l},clear:function(a){a[g]=null},count:function(a){return k(a).length}};d.exports=f},function(b,c,a){a(13).registerSubTypeDefaulter("dataZoom",function(d){return"slider"})},function(aL,a3,aY){function aS(a){ae.call(this),this._zr=a,this.group=new aw.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+aD++,this._handlers={},aa(aW,function(b,c){this._handlers[c]=aB.bind(b,this)},this)}function a7(b,c){var a=b._zr;b._enableGlobalPan||av.take(a,ar,b._uid),aa(b._handlers,function(d,f){a.on(f,d)}),b._brushType=c.brushType,b._brushOption=aB.merge(aB.clone(aP),c,!0)}function aR(a){var b=a._zr;av.release(b,ar,a._uid),aa(a._handlers,function(d,c){b.off(c,d)}),a._brushType=a._brushOption=null}function aN(b,c){var a=ah[c.brushType].createCover(b,c);return a.__brushOption=c,aK(a,c),b.group.add(a),a}function aM(b,c){var a=aZ(c);return a.endCreating&&(a.endCreating(b,c),aK(c,c.__brushOption)),c}function aU(b,c){var a=c.__brushOption;aZ(c).updateCoverShape(b,c,a.range,a)}function aK(b,c){var a=c.z;null==a&&(a=ab),b.traverse(function(d){d.z=a,d.z2=a})}function a5(a,b){aZ(b).updateCommon(a,b),aU(a,b)}function aZ(a){return ah[a.__brushOption.brushType]}function a4(d,f,c){var h=d._panels;if(!h){return !0}var b,g=d._transform;return aa(h,function(a){a.isTargetByCursor(f,c,g)&&(b=a)}),b}function a2(b,c){var a=b._panels;if(!a){return !0}var d=c.__brushOption.panelId;return null==d||a[d]}function aQ(b){var c=b._covers,a=c.length;return aa(c,function(d){b.group.remove(d)},b),c.length=0,!!a}function a0(b,c){var a=aO(b._covers,function(f){var g=f.__brushOption,d=aB.clone(g.range);return{brushType:g.brushType,panelId:g.panelId,range:d}});b.trigger("brush",a,{isEnd:!!c.isEnd,removeOnClick:!!c.removeOnClick})}function aT(d){var g=d._track;if(!g.length){return !1}var c=g[g.length-1],j=g[0],b=c[0]-j[0],h=c[1]-j[1],f=ac(b*b+h*h,0.5);return f>aE}function aJ(a){var b=a.length-1;return b<0&&(b=0),[a[0],a[b]]}function aG(d,f,c,g){var b=new aw.Group;return b.add(new aw.Rect({name:"main",style:aI(c),silent:!0,draggable:!0,cursor:"move",drift:ad(d,f,b,"nswe"),ondragend:ad(a0,f,{isEnd:!0})})),aa(g,function(a){b.add(new aw.Rect({name:a,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:ad(d,f,b,a),ondragend:ad(a0,f,{isEnd:!0})}))}),b}function aH(k,G,C,z){var J=z.brushStyle.lineWidth||0,y=af(J,aq),w=C[0][0],q=C[1][0],B=w-J/2,j=q-J/2,I=C[0][1],D=C[1][1],H=I-y+J/2,F=D-y+J/2,x=I-w,E=D-q,A=x+J,b=E+J;a6(k,G,"main",w,q,x,E),z.transformable&&(a6(k,G,"w",B,j,y,b),a6(k,G,"e",H,j,y,b),a6(k,G,"n",B,j,A,y),a6(k,G,"s",B,F,A,y),a6(k,G,"nw",B,j,y,y),a6(k,G,"ne",H,j,y,y),a6(k,G,"sw",B,F,y,y),a6(k,G,"se",H,F,y,y))}function a8(d,f){var c=f.__brushOption,g=c.transformable,b=f.childAt(0);b.useStyle(aI(c)),b.attr({silent:!g,cursor:g?"move":"default"}),aa(["w","e","n","s","se","sw","ne","nw"],function(h){var e=f.childOfName(h),j=au(d,h);e&&e.attr({silent:!g,invisible:!g,cursor:g?a1[j]+"-resize":null})})}function a6(d,h,c,k,b,j,g){var f=h.childOfName(c);f&&f.setShape(az(ap(d,h,[[k,b],[k+j,b+g]])))}function aI(a){return aB.defaults({strokeNoScale:!0},a.brushStyle)}function ai(d,f,c,h){var b=[aX(d,c),aX(f,h)],g=[af(d,c),af(f,h)];return[[b[0],g[0]],[b[1],g[1]]]}function ao(a){return aw.getTransform(a.group)}function au(d,f){if(f.length>1){f=f.split("");var c=[au(d,f[0]),au(d,f[1])];return("e"===c[0]||"w"===c[0])&&c.reverse(),c.join("")}var g={w:"left",e:"right",n:"top",s:"bottom"},b={left:"w",right:"e",top:"n",bottom:"s"},c=aw.transformDirection(g[f],ao(d));return b[c]}function ag(q,k,g,d,m,c,b,v){var f=d.__brushOption,p=q(f.range),j=aA(g,c,b);aa(m.split(""),function(a){var h=ak[a];p[h[0]][h[1]]+=j[h[0]]}),f.range=k(ai(p[0][0],p[1][0],p[0][1],p[1][1])),a5(g,d),a0(g,{isEnd:!1})}function aC(d,g,c,j,b){var h=g.__brushOption.range,f=aA(d,c,j);aa(h,function(a){a[0]+=f[0],a[1]+=f[1]}),a5(d,g),a0(d,{isEnd:!1})}function aA(d,f,c){var h=d.group,b=h.transformCoordToLocal(f,c),g=h.transformCoordToLocal(0,0);return[b[0]-g[0],b[1]-g[1]]}function ap(b,c,a){var d=a2(b,c);return d&&d!==!0?d.clipPath(a,b._transform):aB.clone(a)}function az(d){var f=aX(d[0][0],d[1][0]),c=aX(d[0][1],d[1][1]),g=af(d[0][0],d[1][0]),b=af(d[0][1],d[1][1]);return{x:f,y:c,width:g-f,height:b-c}}function al(d,h,c){if(d._brushType){var k=d._zr,b=d._covers,j=a4(d,h,c);if(!d._dragging){for(var g=0;g<b.length;g++){var f=b[g].__brushOption;if(j&&(j===!0||f.panelId===j.panelId)&&ah[f.brushType].contain(b[g],c[0],c[1])){return}}}j&&k.setCursorStyle("crosshair")}}function aV(a){var b=a.event;b.preventDefault&&b.preventDefault()}function am(b,c,a){return b.childOfName("main").contain(c,a)}function aF(v,p,j,d){var r,b=v._creatingCover,s=v._creatingPanel,q=v._brushOption;if(v._track.push(j.slice()),aT(v)||b){if(s&&!b){"single"===q.brushMode&&aQ(v);var k=aB.clone(q);k.brushType=ay(k.brushType,s),k.panelId=s===!0?null:s.panelId,b=v._creatingCover=aN(v,k),v._covers.push(b)}if(b){var m=ah[ay(v._brushType,s)],l=b.__brushOption;l.range=m.getCreatingRange(ap(v,b,v._track)),d&&(aM(v,b),m.updateCommon(v,b)),aU(v,b),r={isEnd:d}}}else{d&&"single"===q.brushMode&&q.removeOnClick&&a4(v,p,j)&&aQ(v)&&(r={isEnd:d,removeOnClick:!0})}return r}function ay(a,b){return"auto"===a?b.defaultBrushType:a}function aj(b){if(this._dragging){aV(b);var c=this.group.transformCoordToLocal(b.offsetX,b.offsetY),a=aF(this,b,c,!0);this._dragging=!1,this._track=[],this._creatingCover=null,a&&a0(this,a)}}function an(a){return{createCover:function(c,b){return aG(ad(ag,function(f){var d=[f,[0,100]];return a&&d.reverse(),d},function(d){return d[a]}),c,b,[["w","e"],["n","s"]][a])},getCreatingRange:function(d){var c=aJ(d),f=aX(c[0][a],c[1][a]),b=af(c[0][a],c[1][a]);return[f,b]},updateCoverShape:function(h,d,k,c){var j,g=a2(h,d);if(g!==!0&&g.getLinearBrushOtherExtent){j=g.getLinearBrushOtherExtent(a,h._transform)}else{var f=h._zr;j=[0,[f.getWidth(),f.getHeight()][1-a]]}var b=[k,j];a&&b.reverse(),aH(h,d,b,c)},updateCommon:a8,contain:am}}var ae=aY(23),aB=aY(1),aw=aY(3),av=aY(129),ax=aY(48),ad=aB.curry,aa=aB.each,aO=aB.map,aX=Math.min,af=Math.max,ac=Math.pow,ab=10000,aE=6,aq=6,ar="globalPan",ak={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},a1={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},aP={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},aD=0;aS.prototype={constructor:aS,enableBrush:function(a){return this._brushType&&aR(this),a.brushType&&a7(this,a),this},setPanels:function(a){if(a&&a.length){var b=this._panels={};aB.each(a,function(c){b[c.panelId]=aB.clone(c)})}else{this._panels=null}return this},mount:function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]}),this._transform=b.getLocalTransform(),this},eachCover:function(a,b){aa(this._covers,a,b)},updateCovers:function(r){function k(a,d){return(null!=a.id?a.id:b+d)+"-"+a.brushType}function g(d,a){return k(d.__brushOption,a)}function c(l,h){var o=r[l];if(null!=h&&f[h]===m){q[l]=f[h]}else{var d=q[l]=null!=h?(f[h].__brushOption=o,f[h]):aM(j,aN(j,o));a5(j,d)}}function p(a){f[a]!==m&&j.group.remove(f[a])}r=aB.map(r,function(a){return aB.merge(aB.clone(aP),a,!0)});var b="\0-brush-index-",f=this._covers,q=this._covers=[],j=this,m=this._creatingCover;return new ax(f,r,g,k).add(c).update(c).remove(p).execute(),this},unmount:function(){return this.enableBrush(!1),aQ(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},aB.mixin(aS,ae);var aW={mousedown:function(b){if(this._dragging){aj.call(this,b)}else{if(!b.target||!b.target.draggable){aV(b);var c=this.group.transformCoordToLocal(b.offsetX,b.offsetY);this._creatingCover=null;var a=this._creatingPanel=a4(this,b,c);a&&(this._dragging=!0,this._track=[c.slice()])}}},mousemove:function(b){var c=this.group.transformCoordToLocal(b.offsetX,b.offsetY);if(al(this,b,c),this._dragging){aV(b);var a=aF(this,b,c,!1);a&&a0(this,a)}},mouseup:aj},ah={lineX:an(0),lineY:an(1),rect:{createCover:function(a,b){return aG(ad(ag,function(c){return c},function(c){return c}),a,b,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(a){var b=aJ(a);return ai(b[1][0],b[1][1],b[0][0],b[0][1])},updateCoverShape:function(b,c,a,d){aH(b,c,a,d)},updateCommon:a8,contain:am},polygon:{createCover:function(b,c){var a=new aw.Group;return a.add(new aw.Polyline({name:"main",style:aI(c),silent:!0})),a},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0)),b.add(new aw.Polygon({name:"main",draggable:!0,drift:ad(aC,a,b),ondragend:ad(a0,a,{isEnd:!0})}))},updateCoverShape:function(b,c,a,d){c.childAt(0).setShape({points:ap(b,c,a)})},updateCommon:a8,contain:am}};aL.exports=aS},function(b,c){var a={},d={axisPointer:1,tooltip:1,brush:1};a.onIrrelevantElement=function(h,j,g){var f=j.getComponentByElement(h.topTarget),k=f&&f.coordinateSystem;return f&&f!==g&&!d[f.mainType]&&k&&k.model!==g},b.exports=a},function(d,f,c){function h(a){return a[b]||(a[b]={})}var b="\0_ec_interaction_mutex",g={take:function(l,m,k){var j=h(l);j[m]=k},release:function(l,m,k){var j=h(l),n=j[m];n===k&&(j[m]=null)},isTaken:function(a,i){return !!h(a)[i]}};c(2).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),d.exports=g},function(d,g,c){function j(k,l,a){b.positionElement(k,l.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()},l.get("padding"))}var b=c(12),h=c(7),f=c(3);d.exports={layout:function(k,l,a){var m=b.getLayoutRect(l.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()},l.get("padding"));b.box(l.get("orient"),k,l.get("itemGap"),m.width,m.height),j(k,l,a)},addBackground:function(m,p){var l=h.normalizeCssArray(p.get("padding")),q=m.getBoundingRect(),k=p.getItemStyle(["color","opacity"]);k.fill=p.get("backgroundColor");var o=new f.Rect({shape:{x:q.x-l[3],y:q.y-l[0],width:q.width+l[1]+l[3],height:q.height+l[0]+l[2]},style:k,silent:!0,z2:-1});f.subPixelOptimizeRect(o),m.add(o)}}},function(d,f,c){var h=c(1),b=c(33),g=function(j,k,a,m,l){b.call(this,j,k,a),this.type=m||"value",this.position=l||"bottom"};g.prototype={constructor:g,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),a&&i[0]>i[1]&&i.reverse(),i},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(a){if("category"===this.type){var i=this.getLabelInterval();return"function"==typeof i&&!i(a,this.scale.getLabel(a))||a%(i+1)}},pointToData:function(a,i){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),i)},toLocalCoord:null,toGlobalCoord:null},h.inherits(g,b),d.exports=g},function(d,f,c){function h(a){return this._axes[a]}var b=c(1),g=function(a){this._axes={},this._dimList=[],this.name=a||""};g.prototype={constructor:g,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return b.map(this._dimList,h,this)},getAxesByScale:function(a){return a=a.toLowerCase(),b.filter(this.getAxes(),function(i){return i.scale.type===a})},addAxis:function(a){var i=a.dim;this._axes[i]=a,this._dimList.push(i)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(l,p){for(var k=this._dimList,s=l instanceof Array?[]:{},j=0;j<k.length;j++){var q=k[j],m=this._axes[q];s[q]=m[p](l[q])}return s}},d.exports=g},function(d,f,c){function h(a){g.call(this,a)}var b=c(1),g=c(132);h.prototype={constructor:h,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(j){var k=this.getAxis("x"),a=this.getAxis("y");return k.contain(k.toLocalCoord(j[0]))&&a.contain(a.toLocalCoord(j[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoints:function(a,i){return a.mapArray(["x","y"],function(j,k){return this.dataToPoint([j,k])},i,this)},dataToPoint:function(j,k){var a=this.getAxis("x"),l=this.getAxis("y");return[a.toGlobalCoord(a.dataToCoord(j[0],k)),l.toGlobalCoord(l.dataToCoord(j[1],k))]},pointToData:function(j,k){var a=this.getAxis("x"),l=this.getAxis("y");return[a.coordToData(a.toLocalCoord(j[0]),k),l.coordToData(l.toLocalCoord(j[1]),k)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}},b.inherits(h,g),d.exports=h},function(b,c,a){a(60);var d=a(13);b.exports=d.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(k,h,g){var d=g(28),j=g(24),c=g(18),b=g(42),m=g(10),f=g(1);k.exports={createList:function(a){var i=a.get("data");return d(i,a,a.ecModel)},completeDimensions:g(25),createSymbol:j.createSymbol,createScale:function(l,o){var a=o;o instanceof m||(a=new m(o),f.mixin(a,b));var p=c.createScaleByModel(a);return p.setExtent(l[0],l[1]),c.niceScaleExtent(p,a),p},mixinAxisModelCommonMethods:function(a){f.mixin(a,b)}}},function(d,f,c){var h=c(3),b=c(1),g=Math.PI;d.exports=function(k,o){o=o||{},b.defaults(o,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var j=new h.Rect({style:{fill:o.maskColor},zlevel:o.zlevel,z:10000}),n=new h.Arc({shape:{startAngle:-g/2,endAngle:-g/2+0.1,r:10},style:{stroke:o.color,lineCap:"round",lineWidth:5},zlevel:o.zlevel,z:10001}),m=new h.Rect({style:{fill:"none",text:o.text,textPosition:"right",textDistance:10,textFill:o.textColor},zlevel:o.zlevel,z:10001});n.animateShape(!0).when(1000,{endAngle:3*g/2}).start("circularInOut"),n.animateShape(!0).when(1000,{startAngle:3*g/2}).delay(300).start("circularInOut");var a=new h.Group;return a.add(n),a.add(m),a.add(j),a.resize=function(){var l=k.getWidth()/2,p=k.getHeight()/2;n.setShape({cx:l,cy:p});var i=n.shape.r;m.setShape({x:l-i,y:p-i,width:2*i,height:2*i}),j.setShape({x:0,y:0,width:k.getWidth(),height:k.getHeight()})},a.resize(),a}},function(B,N,J){function G(a,b){P.each(b,function(d,c){k.hasClass(c)||("object"==typeof d?a[c]=a[c]?P.merge(a[c],d,!1):P.clone(d):null==a[c]&&(a[c]=d))})}function R(a){a=a,this.option={},this.option[Q]=1,this._componentsMap=P.createHashMap({series:[]}),this._seriesIndices=null,G(a,this._theme.option),P.merge(a,S,!1),this.mergeOption(a)}function F(b,c){P.isArray(c)||(c=c?[c]:[]);var a={};return M(c,function(d){a[d]=(b.get(d)||[]).slice()}),a}function D(b,c,a){var d=c.type?c.type:a?a.subType:k.determineSubType(b,c);return d}function C(a){return L(a,function(b){return b.componentIndex})||[]}function I(a,b){return b.hasOwnProperty("subType")?E(a,function(c){return c.subType===b.subType}):a}function A(a){}var P=J(1),K=J(5),O=J(10),M=P.each,E=P.filter,L=P.map,H=P.isArray,z=P.indexOf,j=P.isObject,k=J(13),S=J(139),Q="\0_ec_inner",q=O.extend({constructor:q,init:function(b,c,a,d){a=a||{},this.option=null,this._theme=new O(a),this._optionManager=d},setOption:function(a,b){P.assert(!(Q in a),"please use chart.getOption()"),this._optionManager.setOption(a,b),this.resetOption(null)},resetOption:function(b){var d=!1,a=this._optionManager;if(!b||"recreate"===b){var g=a.mountOption("recreate"===b);this.option&&"recreate"!==b?(this.restoreData(),this.mergeOption(g)):R.call(this,g),d=!0}if("timeline"!==b&&"media"!==b||this.restoreData(),!b||"recreate"===b||"timeline"===b){var f=a.getTimelineOption(this);f&&(this.mergeOption(f),d=!0)}if(!b||"recreate"===b||"media"===b){var c=a.getMediaOption(this,this._api);c.length&&M(c,function(e){this.mergeOption(e,d=!0)},this)}return d},mergeOption:function(d){function f(n,i){var h=K.normalizeToArray(d[n]),m=K.mappingToExists(g.get(n),h);K.makeIdAndName(m),M(m,function(e,a){var l=e.option;j(l)&&(e.keyInfo.mainType=n,e.keyInfo.subType=D(n,l,e.exist))});var o=F(g,i);c[n]=[],g.set(n,[]),M(m,function(u,p){var x=u.exist,w=u.option;if(P.assert(j(w)||x,"Empty component definition"),w){var v=k.getClass(n,u.keyInfo.subType,!0);if(x&&x instanceof v){x.name=u.keyInfo.name,x.mergeOption(w,this),x.optionUpdated(w,!1)}else{var e=P.extend({dependentModels:o,componentIndex:p},u.keyInfo);x=new v(w,this,this,e),P.extend(x,e),x.init(w,this,this,e),x.optionUpdated(null,!0)}}else{x.mergeOption({},this),x.optionUpdated({},!1)}g.get(n)[p]=x,c[n][p]=x.option},this),"series"===n&&(this._seriesIndices=C(g.get("series")))}var c=this.option,g=this._componentsMap,b=[];M(d,function(a,h){null!=a&&(k.hasClass(h)?b.push(h):c[h]=null==c[h]?P.clone(a):P.merge(c[h],a,!0))}),k.topologicalTravel(b,k.getAllClassMainTypes(),f,this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var a=P.clone(this.option);return M(a,function(c,b){if(k.hasClass(b)){for(var c=K.normalizeToArray(c),d=c.length-1;d>=0;d--){K.isIdInner(c[d])&&c.splice(d,1)}a[b]=c}}),delete a[Q],a},getTheme:function(){return this._theme},getComponent:function(b,c){var a=this._componentsMap.get(b);if(a){return a[c||0]}},queryComponents:function(m){var g=m.mainType;if(!g){return[]}var f=m.index,d=m.id,h=m.name,c=this._componentsMap.get(g);if(!c||!c.length){return[]}var b;if(null!=f){H(f)||(f=[f]),b=E(L(f,function(a){return c[a]}),function(a){return !!a})}else{if(null!=d){var p=H(d);b=E(c,function(a){return p&&z(d,a.id)>=0||!p&&a.id===d})}else{if(null!=h){var l=H(h);b=E(c,function(a){return l&&z(h,a.name)>=0||!l&&a.name===h})}else{b=c.slice()}}}return I(b,m)},findComponents:function(d){function g(m){var o=b+"Index",a=b+"Id",p=b+"Name";return !m||null==m[o]&&null==m[a]&&null==m[p]?null:{mainType:b,index:m[o],id:m[a],name:m[p]}}function c(a){return d.filter?E(a,d.filter):a}var l=d.query,b=d.mainType,h=g(l),f=h?this.queryComponents(h):this._componentsMap.get(b);return c(I(f,d))},eachComponent:function(d,f,c){var g=this._componentsMap;if("function"==typeof d){c=f,f=d,g.each(function(a,e){M(a,function(i,h){f.call(c,e,i,h)})})}else{if(P.isString(d)){M(g.get(d),f,c)}else{if(j(d)){var b=this.findComponents(d);M(b,f,c)}}}},getSeriesByName:function(a){var b=this._componentsMap.get("series");return E(b,function(c){return c.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){var b=this._componentsMap.get("series");return E(b,function(c){return c.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(a,b){A(this),M(this._seriesIndices,function(c){var d=this._componentsMap.get("series")[c];a.call(b,d,c)},this)},eachRawSeries:function(a,b){M(this._componentsMap.get("series"),a,b)},eachSeriesByType:function(b,c,a){A(this),M(this._seriesIndices,function(e){var d=this._componentsMap.get("series")[e];d.subType===b&&c.call(a,d,e)},this)},eachRawSeriesByType:function(b,c,a){return M(this.getSeriesByType(b),c,a)},isSeriesFiltered:function(a){return A(this),P.indexOf(this._seriesIndices,a.componentIndex)<0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(b,c){A(this);var a=E(this._componentsMap.get("series"),b,c);this._seriesIndices=C(a)},restoreData:function(){var a=this._componentsMap;this._seriesIndices=C(a.get("series"));var b=[];a.each(function(d,c){b.push(c)}),k.topologicalTravel(b,k.getAllClassMainTypes(),function(d,c){M(a.get(d),function(e){e.restoreData()})})}});P.mixin(q,J(62)),B.exports=q},function(G,B,x){function q(a){this._api=a,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function E(u,m,h){var f,p,d=[],c=[],I=u.timeline;if(u.baseOption&&(p=u.baseOption),(I||u.options)&&(p=p||{},d=(u.options||[]).slice()),u.media){p=p||{};var g=u.media;C(g,function(a){a&&a.option&&(a.query?c.push(a):f||(f=a))})}return p||(p=u),p.timeline||(p.timeline=I),C([p].concat(d).concat(F.map(c,function(a){return a.option})),function(a){C(m,function(i){i(a,h)})}),{baseOption:p,timelineOptions:d,mediaDefault:f,mediaList:c}}function k(f,g,d){var h={width:g,height:d,aspectratio:g/d},c=!0;return F.each(f,function(l,n){var a=n.match(v);if(a&&a[1]&&a[2]){var p=a[1],m=a[2].toLowerCase();b(h[m],l,p)||(c=!1)}}),c}function b(c,d,a){return"min"===a?c>=d:"max"===a?c<=d:c===d}function H(a,c){return a.join(",")===c.join(",")}function w(a,c){c=c||{},C(c,function(g,f){if(null!=g){var h=a[f];if(y.hasClass(f)){g=D.normalizeToArray(g),h=D.normalizeToArray(h);var d=D.mappingToExists(h,g);a[f]=j(d,function(e){return e.option&&e.exist?z(e.exist,e.option,!0):e.exist||e.option})}else{a[f]=z(h,g,!0)}}})}var F=x(1),D=x(5),y=x(13),C=F.each,A=F.clone,j=F.map,z=F.merge,v=/^(min|max)?(.+)$/;q.prototype={constructor:q,setOption:function(c,d){c=A(c,!0);var a=this._optionBackup,f=E.call(this,c,d,!a);this._newBaseOption=f.baseOption,a?(w(a.baseOption,f.baseOption),f.timelineOptions.length&&(a.timelineOptions=f.timelineOptions),f.mediaList.length&&(a.mediaList=f.mediaList),f.mediaDefault&&(a.mediaDefault=f.mediaDefault)):this._optionBackup=f},mountOption:function(a){var c=this._optionBackup;return this._timelineOptions=j(c.timelineOptions,A),this._mediaList=j(c.mediaList,A),this._mediaDefault=A(c.mediaDefault),this._currentMediaIndices=[],A(a?c.baseOption:this._newBaseOption)},getTimelineOption:function(c){var d,a=this._timelineOptions;if(a.length){var f=c.getComponent("timeline");f&&(d=A(a[f.getCurrentIndex()],!0))}return d},getMediaOption:function(I){var m=this._api.getWidth(),h=this._api.getHeight(),f=this._mediaList,p=this._mediaDefault,d=[],g=[];if(!f.length&&!p){return g}for(var s=0,o=f.length;s<o;s++){k(f[s].query,m,h)&&d.push(s)}return !d.length&&p&&(d=[-1]),d.length&&!H(d,this._currentMediaIndices)&&(g=j(d,function(a){return A(a===-1?p.option:f[a].option)})),this._currentMediaIndices=d,g}},G.exports=q},function(b,c){var a="";"undefined"!=typeof navigator&&(a=navigator.platform||""),b.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:a.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1000,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:!1}},function(b,c,a){b.exports={getAreaStyle:a(31)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(a,b){a.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(b,c,a){var d=a(31)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);b.exports={getItemStyle:function(h,j){var g=d.call(this,h,j),f=this.getBorderLineDash();return f&&(g.lineDash=f),g},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}}},function(b,c,a){var d=a(31)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);b.exports={getLineStyle:function(g){var h=d.call(this,g),f=this.getLineDash(h.lineWidth);return f&&(h.lineDash=f),h},getLineDash:function(g){null==g&&(g=1);var h=this.get("type"),f=Math.max(g,2),j=4*g;return"solid"===h||null==h?null:"dashed"===h?[j,j]:[f,f]}}},function(d,f,c){var g=c(16),b=c(3);d.exports={getTextColor:function(){var a=this.ecModel;return this.getShallow("color")||a&&a.get("textStyle.color")},getFont:function(){return b.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return g.getBoundingRect(a,this.getFont(),this.getShallow("align"),this.getShallow("baseline"))},truncateText:function(k,l,j,h){return g.truncateText(k,l,this.getFont(),j,h)}}},function(w,m,j){function f(c,h){h=h.split(",");for(var a=c,l=0;l<h.length&&(a=a&&a[h[l]],null!=a);l++){}return a}function q(l,u,h,z){u=u.split(",");for(var c,y=l,s=0;s<u.length-1;s++){c=u[s],null==y[c]&&(y[c]={}),y=y[c]}(z||null==y[u[s]])&&(y[u[s]]=h)}function d(a){k(g,function(c){c[0] in a&&!(c[1] in a)&&(a[c[1]]=a[c[0]])})}var b=j(1),x=j(146),g=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],v=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],p=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],k=b.each;w.exports=function(a){k(a.series,function(n){if(b.isObject(n)){var o=n.type;if(x(n),"pie"!==o&&"gauge"!==o||null!=n.clockWise&&(n.clockwise=n.clockWise),"gauge"===o){var h=f(n,"pointer.color");null!=h&&q(n,"itemStyle.normal.color",h)}for(var c=0;c<p.length;c++){if(p[c]===n.type){d(n);break}}}}),a.dataRange&&(a.visualMap=a.dataRange),k(v,function(h){var c=a[h];c&&(b.isArray(c)||(c=[c]),k(c,function(e){d(e)}))})}},function(d,f,c){function h(a){var i=a&&a.itemStyle;i&&b.each(g,function(e){var k=i.normal,j=i.emphasis;k&&k[e]&&(a[e]=a[e]||{},a[e].normal?b.merge(a[e].normal,k[e]):a[e].normal=k[e],k[e]=null),j&&j[e]&&(a[e]=a[e]||{},a[e].emphasis?b.merge(a[e].emphasis,j[e]):a[e].emphasis=j[e],j[e]=null)})}var b=c(1),g=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];d.exports=function(k){if(k){h(k),h(k.markPoint),h(k.markLine);var p=k.data;if(p){for(var j=0;j<p.length;j++){h(p[j])}var q=k.markPoint;if(q&&q.data){for(var n=q.data,j=0;j<n.length;j++){h(n[j])}}var m=k.markLine;if(m&&m.data){for(var a=m.data,j=0;j<a.length;j++){b.isArray(a[j])?(h(a[j][0]),h(a[j][1])):h(a[j])}}}}}},function(b,c){var a={average:function(g){for(var h=0,f=0,j=0;j<g.length;j++){isNaN(g[j])||(h+=g[j],f++)}return 0===f?NaN:h/f},sum:function(g){for(var h=0,f=0;f<g.length;f++){h+=g[f]||0}return h},max:function(g){for(var h=-(1/0),f=0;f<g.length;f++){g[f]>h&&(h=g[f])}return h},min:function(g){for(var h=1/0,f=0;f<g.length;f++){g[f]<h&&(h=g[f])}return h},nearest:function(e){return e[0]}},d=function(f,g){return Math.round(f.length/2)};b.exports=function(g,h,f){h.eachSeriesByType(g,function(w){var n=w.getData(),q=w.get("sampling"),j=w.coordinateSystem;if("cartesian2d"===j.type&&q){var i=j.getBaseAxis(),x=j.getOtherAxis(i),k=i.getExtent(),v=k[1]-k[0],p=Math.round(n.count()/v);if(p>1){var m;"string"==typeof q?m=a[q]:"function"==typeof q&&(m=q),m&&(n=n.downSample(x.dim,1/p,m,d),w.setData(n))}}},this)}},function(G,B,x){function q(a,c){return y(a,D(c))}var E=x(1),k=x(34),b=x(4),H=x(43),w=k.prototype,F=H.prototype,D=b.getPrecisionSafe,y=b.round,C=Math.floor,A=Math.ceil,j=Math.pow,z=Math.log,v=k.extend({type:"log",base:10,$constructor:function(){k.apply(this,arguments),this._originalScale=new H},getTicks:function(){var c=this._originalScale,d=this._extent,a=c.getExtent();return E.map(F.getTicks.call(this),function(e){var f=b.round(j(this.base,e));return f=e===d[0]&&c.__fixMin?q(f,a[0]):f,f=e===d[1]&&c.__fixMax?q(f,a[1]):f},this)},getLabel:F.getLabel,scale:function(a){return a=w.scale.call(this,a),j(this.base,a)},setExtent:function(c,d){var a=this.base;c=z(c)/z(a),d=z(d)/z(a),F.setExtent.call(this,c,d)},getExtent:function(){var f=this.base,g=w.getExtent.call(this);g[0]=j(f,g[0]),g[1]=j(f,g[1]);var d=this._originalScale,c=d.getExtent();return d.__fixMin&&(g[0]=q(g[0],c[0])),d.__fixMax&&(g[1]=q(g[1],c[1])),g},unionExtent:function(a){this._originalScale.unionExtent(a);var c=this.base;a[0]=z(a[0])/z(c),a[1]=z(a[1])/z(c),w.unionExtent.call(this,a)},unionExtentFromData:function(a,c){this.unionExtent(a.getDataExtent(c,!0,function(d){return d>0}))},niceTicks:function(f){f=f||10;var g=this._extent,d=g[1]-g[0];if(!(d===1/0||d<=0)){var l=b.quantity(d),c=f/d*l;for(c<=0.5&&(l*=10);!isNaN(l)&&Math.abs(l)<1&&Math.abs(l)>0;){l*=10}var h=[b.round(A(g[0]/l)*l),b.round(C(g[1]/l)*l)];this._interval=l,this._niceExtent=h}},niceExtent:function(a){F.niceExtent.call(this,a);var c=this._originalScale;c.__fixMin=a.fixMin,c.__fixMax=a.fixMax}});E.each(["contain","normalize"],function(a){v.prototype[a]=function(c){return c=z(c)/z(this.base),w[a].call(this,c)}}),v.create=function(){return new v},G.exports=v},function(d,g,c){var j=c(1),b=c(34),h=b.prototype,f=b.extend({type:"ordinal",init:function(a,i){this._data=a,this._extent=i||[0,a.length-1]},parse:function(a){return"string"==typeof a?j.indexOf(this._data,a):Math.round(a)},contain:function(a){return a=this.parse(a),h.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return h.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(h.scale.call(this,a))},getTicks:function(){for(var k=[],l=this._extent,a=l[0];a<=l[1];){k.push(a),a++}return k},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,i){this.unionExtent(a.getDataExtent(i,!1))},niceTicks:j.noop,niceExtent:j.noop});f.create=function(){return new f},d.exports=f},function(k,G,C){var z=C(1),J=C(4),y=C(7),w=C(64),q=C(43),B=q.prototype,j=Math.ceil,I=Math.floor,D=1000,H=60*D,F=60*H,x=24*F,E=function(f,g,d,h){for(;d<h;){var c=d+h>>>1;f[c][2]<g?d=c+1:h=c}return d},A=q.extend({type:"time",getLabel:function(c){var d=this._stepLvl,a=new Date(c);return y.formatTime(d[0],a,this.getSetting("useUTC"))},niceExtent:function(c){var d=this._extent;if(d[0]===d[1]&&(d[0]-=x,d[1]+=x),d[1]===-(1/0)&&d[0]===1/0){var a=new Date;d[1]=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d[0]=d[1]-x}this.niceTicks(c.splitNumber);var f=this._interval;c.fixMin||(d[0]=J.round(I(d[0]/f)*f)),c.fixMax||(d[1]=J.round(j(d[1]/f)*f))},niceTicks:function(O){var M=this.getSetting("useUTC")?0:60*J.getTimezoneOffset()*1000;O=O||10;var v=this._extent,g=v[1]-v[0],c=g/O,P=b.length,u=E(b,c,0,P),K=b[Math.min(u,P-1)],N=K[2];if("year"===K[0]){var L=g/N,a=J.nice(L/O,!0);N*=a}var r=[Math.round(j((v[0]-M)/N)*N+M),Math.round(I((v[1]-M)/N)*N+M)];w.fixExtent(r,v),this._stepLvl=K,this._interval=N,this._niceExtent=r},parse:function(a){return +J.parseDate(a)}});z.each(["contain","normalize"],function(a){A.prototype[a]=function(c){return B[a].call(this,this.parse(c))}});var b=[["hh:mm:ss",1,D],["hh:mm:ss",5,5*D],["hh:mm:ss",10,10*D],["hh:mm:ss",15,15*D],["hh:mm:ss",30,30*D],["hh:mm\nMM-dd",1,H],["hh:mm\nMM-dd",5,5*H],["hh:mm\nMM-dd",10,10*H],["hh:mm\nMM-dd",15,15*H],["hh:mm\nMM-dd",30,30*H],["hh:mm\nMM-dd",1,F],["hh:mm\nMM-dd",2,2*F],["hh:mm\nMM-dd",6,6*F],["hh:mm\nMM-dd",12,12*F],["MM-dd\nyyyy",1,x],["week",7,7*x],["month",1,31*x],["quarter",3,380*x/4],["half-year",6,380*x/2],["year",1,380*x]];A.create=function(a){return new A({useUTC:a.ecModel.get("useUTC")})},k.exports=A},function(b,c,a){var d=a(39);b.exports=function(f){function g(k){var j=(k.visualColorAccessPath||"itemStyle.normal.color").split("."),h=k.getData(),l=k.get(j)||k.getColorFromPalette(k.get("name"));h.setVisual("color",l),f.isSeriesFiltered(k)||("function"!=typeof l||l instanceof d||h.each(function(e){h.setItemVisual(e,"color",l(k.getDataParams(e)))}),h.each(function(i){var m=h.getItemModel(i),o=m.get(j,!0);null!=o&&h.setItemVisual(i,"color",o)}))}f.eachRawSeries(g)}},function(w,m,j){function f(c,h,a){return{type:c,event:a,target:h.target,topTarget:h.topTarget,cancelBubble:!1,offsetX:a.zrX,offsetY:a.zrY,gestureEvent:a.gestureEvent,pinchX:a.pinchX,pinchY:a.pinchY,pinchScale:a.pinchScale,wheelDelta:a.zrDelta,zrByTouch:a.zrByTouch}}function q(){}function d(l,o,h){if(l[l.rectHover?"rectContain":"contain"](o,h)){for(var r,c=l;c;){if(c.clipPath&&!c.clipPath.contain(o,h)){return !1}c.silent&&(r=!0),c=c.parent}return !r||v}return !1}var b=j(1),x=j(179),g=j(23),v="silent";q.prototype.dispose=function(){};var p=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],k=function(c,h,a,l){g.call(this),this.storage=c,this.painter=h,this.painterRoot=l,a=a||new q,this.proxy=a,a.handler=this,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,x.call(this),b.each(p,function(e){a.on&&a.on(e,this[e],this)},this)};k.prototype={constructor:k,mousemove:function(l){var z=l.zrX,h=l.zrY,B=this._hovered,c=this._hovered=this.findHover(z,h),A=c.target,y=B.target,u=this.proxy;u.setCursor&&u.setCursor(A?A.cursor:"default"),y&&A!==y&&y.__zr&&this.dispatchToElement(B,"mouseout",l),this.dispatchToElement(c,"mousemove",l),A&&A!==y&&this.dispatchToElement(c,"mouseover",l)},mouseout:function(c){this.dispatchToElement(this._hovered,"mouseout",c);var h,a=c.toElement||c.relatedTarget;do{a=a&&a.parentNode}while(a&&9!=a.nodeType&&!(h=a===this.painterRoot));!h&&this.trigger("globalout",{event:c})},resize:function(a){this._hovered={}},dispatch:function(c,h){var a=this[c];a&&a.call(this,h)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var c=this.proxy;c.setCursor&&c.setCursor(a)},dispatchToElement:function(l,s,h){l=l||{};for(var c="on"+s,u=f(s,l,h),n=l.target;n&&(n[c]&&(u.cancelBubble=n[c].call(n,u)),n.trigger(s,u),n=n.parent,!u.cancelBubble);){}u.cancelBubble||(this.trigger(s,u),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[c]&&a[c].call(a,u),a.trigger&&a.trigger(s,u)}))},findHover:function(l,y,h){for(var z=this.storage.getDisplayList(),c={},u=z.length-1;u>=0;u--){var o;if(z[u]!==h&&!z[u].ignore&&(o=d(z[u],l,y))&&(!c.topTarget&&(c.topTarget=z[u]),o!==v)){c.target=z[u];break}}return c}},b.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){k.prototype[a]=function(h){var c=this.findHover(h.zrX,h.zrY),l=c.target;if("mousedown"===a){this._downel=l,this._upel=l}else{if("mosueup"===a){this._upel=l}else{if("click"===a&&this._downel!==this._upel){return}}}this.dispatchToElement(c,a,h)}}),b.mixin(k,g),b.mixin(k,x),w.exports=k},function(m,h,g){function d(){return !1}function j(u,x,q,z){var l=document.createElement(x),y=q.getWidth(),w=q.getHeight(),v=l.style;return v.position="absolute",v.left=0,v.top=0,v.width=y+"px",v.height=w+"px",l.width=y*z,l.height=w*z,l.setAttribute("data-zr-dom-id",u),l}var c=g(1),b=g(35),p=g(73),f=g(72),k=function(o,r,n){var q;n=n||b.devicePixelRatio,"string"==typeof o?q=j(o,"canvas",r,n):c.isObject(o)&&(q=o,o=q.id),this.id=o,this.dom=q;var a=q.style;a&&(q.onselectstart=d,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=r,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=0.7,this.dpr=n};k.prototype={constructor:k,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=j("back-"+this.id,"canvas",this.painter,a),this.ctxBack=this.domBack.getContext("2d"),1!=a&&this.ctxBack.scale(a,a)},resize:function(r,s){var q=this.dpr,v=this.dom,l=v.style,u=this.domBack;l.width=r+"px",l.height=s+"px",v.width=r*q,v.height=s*q,u&&(u.width=r*q,u.height=s*q,1!=q&&this.ctxBack.scale(q,q))},clear:function(C){var x=this.dom,v=this.ctx,s=x.width,A=x.height,q=this.clearColor,l=this.motionBlur&&!C,B=this.lastFrameAlpha,z=this.dpr;if(l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(x,0,0,s/z,A/z)),v.clearRect(0,0,s,A),q){var w;q.colorStops?(w=q.__canvasGradient||p.getGradient(v,q,{x:0,y:0,width:s,height:A}),q.__canvasGradient=w):q.image&&(w=f.prototype.getCanvasPattern.call(q,v)),v.save(),v.fillStyle=w||q,v.fillRect(0,0,s,A),v.restore()}if(l){var y=this.domBack;v.save(),v.globalAlpha=B,v.drawImage(y,0,0,s,A),v.restore()}}},m.exports=k},function(z,L,H){function E(a){return parseInt(a,10)}function P(a){return !!a&&(!!a.__builtin__||"function"==typeof a.resize&&"function"==typeof a.refresh)}function D(a){a.__unusedCount++}function B(a){1==a.__unusedCount&&a.clear()}function A(b,c,a){return k.copy(b.getBoundingRect()),b.transform&&k.applyTransform(b.transform),Q.width=c,Q.height=a,!k.intersect(Q)}function G(b,c){if(b==c){return !1}if(!b||!c||b.length!==c.length){return !0}for(var a=0;a<b.length;a++){if(b[a]!==c[a]){return !0}}}function w(b,c){for(var a=0;a<b.length;a++){var d=b[a];d.setTransform(c),c.beginPath(),d.buildPath(c,d.shape),c.clip(),d.restoreTransform(c)}}function N(b,c){var a=document.createElement("div");return a.style.cssText=["position:relative","overflow:hidden","width:"+b+"px","height:"+c+"px","padding:0","margin:0","border-width:0"].join(";")+";",a}var I=H(35),M=H(1),K=H(52),C=H(11),J=H(51),F=H(153),q=H(68),j=5,k=new C(0,0,0,0),Q=new C(0,0,0,0),O=function(y,p,h){var d=!y.nodeName||"CANVAS"===y.nodeName.toUpperCase();this._opts=h=M.extend({},h||{}),this.dpr=h.devicePixelRatio||I.devicePixelRatio,this._singleCanvas=d,this.root=y;var v=y.style;v&&(v["-webkit-tap-highlight-color"]="transparent",v["-webkit-user-select"]=v["user-select"]=v["-webkit-touch-callout"]="none",y.innerHTML=""),this.storage=p;var c=this._zlevelList=[],b=this._layers={};if(this._layerConfig={},d){null!=h.width&&(y.width=h.width),null!=h.height&&(y.height=h.height);var R=y.width,g=y.height;this._width=R,this._height=g;var x=new F(y,this,1);x.initContext(),b[0]=x,c.push(0),this._domRoot=y}else{this._width=this._getSize(0),this._height=this._getSize(1);var m=this._domRoot=N(this._width,this._height);y.appendChild(m)}this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};O.prototype={constructor:O,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},refresh:function(d){var f=this.storage.getDisplayList(!0),c=this._zlevelList;this._paintList(f,d);for(var h=0;h<c.length;h++){var b=c[h],g=this._layers[b];!g.__builtin__&&g.refresh&&g.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(b,c){if(!b.__hoverMir){var a=new b.constructor({style:b.style,shape:b.shape});a.__from=b,b.__hoverMir=a,a.setStyle(c),this._hoverElements.push(a)}},removeHover:function(b){var c=b.__hoverMir,a=this._hoverElements,d=M.indexOf(a,c);d>=0&&a.splice(d,1),b.__hoverMir=null},clearHover:function(b){for(var c=this._hoverElements,a=0;a<c.length;a++){var d=c[a].__from;d&&(d.__hoverMir=null)}c.length=0},refreshHover:function(){var d=this._hoverElements,g=d.length,c=this._hoverlayer;if(c&&c.clear(),g){J(d,this.storage.displayableSortFunc),c||(c=this._hoverlayer=this.getLayer(100000));var l={};c.ctx.save();for(var b=0;b<g;){var h=d[b],f=h.__from;f&&f.__zr?(b++,f.invisible||(h.transform=f.transform,h.invTransform=f.invTransform,h.__clipPaths=f.__clipPaths,this._doPaintEl(h,c,!0,l))):(d.splice(b,1),f.__hoverMir=null,g--)}c.ctx.restore()}},_startProgessive:function(){function b(){a===c._progressiveToken&&c.storage&&(c._doPaintList(c.storage.getDisplayList()),c._furtherProgressive?(c._progress++,q(b)):c._progressiveToken=-1)}var c=this;if(c._furtherProgressive){var a=c._progressiveToken=+new Date;c._progress++,q(b)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,M.each(this._progressiveLayers,function(a){a.__dirty&&a.clear()})},_paintList:function(a,b){null==b&&(b=!1),this._updateLayerStatus(a),this._clearProgressive(),this.eachBuiltinLayer(D),this._doPaintList(a,b),this.eachBuiltinLayer(B)},_doPaintList:function(y,ab){function Y(a){var c=U.dpr||1;U.save(),U.globalAlpha=1,U.shadowBlur=0,V.__dirty=!0,U.setTransform(1,0,0,1,0,0),U.drawImage(a.dom,0,0,ac*c,Z*c),U.restore()}for(var V,ad,U,S,R,X,f=0,ac=this._width,Z=this._height,T=this._progress,aa=0,W=y.length;aa<W;aa++){var d=y[aa],b=this._singleCanvas?0:d.zlevel,ae=d.__frame;if(ae<0&&R&&(Y(R),R=null),ad!==b&&(U&&U.restore(),S={},ad=b,V=this.getLayer(ad),V.__builtin__||K("ZLevel "+ad+" has been used by unkown layer "+V.id),U=V.ctx,U.save(),V.__unusedCount=0,(V.__dirty||ab)&&V.clear()),V.__dirty||ab){if(ae>=0){if(!R){if(R=this._progressiveLayers[Math.min(f++,j-1)],R.ctx.save(),R.renderScope={},R&&R.__progress>R.__maxProgress){aa=R.__nextIdxNotProg-1;continue}X=R.__progress,R.__dirty||(T=X),R.__progress=T+1}ae===T&&this._doPaintEl(d,R,!0,R.renderScope)}else{this._doPaintEl(d,V,ab,S)}d.__dirty=!1}}R&&Y(R),U&&U.restore(),this._furtherProgressive=!1,M.each(this._progressiveLayers,function(a){a.__maxProgress>=a.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(d,g,c,l){var b=g.ctx,h=d.transform;if((g.__dirty||c)&&!d.invisible&&0!==d.style.opacity&&(!h||h[0]||h[3])&&(!d.culling||!A(d,this._width,this._height))){var f=d.__clipPaths;(l.prevClipLayer!==g||G(f,l.prevElClipPaths))&&(l.prevElClipPaths&&(l.prevClipLayer.ctx.restore(),l.prevClipLayer=l.prevElClipPaths=null,l.prevEl=null),f&&(b.save(),w(f,b),l.prevClipLayer=g,l.prevElClipPaths=f)),d.beforeBrush&&d.beforeBrush(b),d.brush(b,l.prevEl||null),l.prevEl=d,d.afterBrush&&d.afterBrush(b)}},getLayer:function(a){if(this._singleCanvas){return this._layers[0]}var b=this._layers[a];return b||(b=new F("zr_"+a,this,this.dpr),b.__builtin__=!0,this._layerConfig[a]&&M.merge(b,this._layerConfig[a],!0),this.insertLayer(a,b),b.initContext()),b},insertLayer:function(m,g){var f=this._layers,c=this._zlevelList,b=c.length,a=null,p=-1,d=this._domRoot;if(f[m]){return void K("ZLevel "+m+" has been used already")}if(!P(g)){return void K("Layer of zlevel "+m+" is not valid")}if(b>0&&m>c[0]){for(p=0;p<b-1&&!(c[p]<m&&c[p+1]>m);p++){}a=f[c[p]]}if(c.splice(p+1,0,m),f[m]=g,!g.virtual){if(a){var h=a.dom;h.nextSibling?d.insertBefore(g.dom,h.nextSibling):d.appendChild(g.dom)}else{d.firstChild?d.insertBefore(g.dom,d.firstChild):d.appendChild(g.dom)}}},eachLayer:function(d,f){var c,g,b=this._zlevelList;for(g=0;g<b.length;g++){c=b[g],d.call(f,this._layers[c],c)}},eachBuiltinLayer:function(d,f){var c,h,b,g=this._zlevelList;for(b=0;b<g.length;b++){h=g[b],c=this._layers[h],c.__builtin__&&d.call(f,c,h)}},eachOtherLayer:function(d,f){var c,h,b,g=this._zlevelList;for(b=0;b<g.length;b++){h=g[b],c=this._layers[h],c.__builtin__||d.call(f,c,h)}},getLayers:function(){return this._layers},_updateLayerStatus:function(ac){var W=this._layers,S=this._progressiveLayers,y={},Z={};this.eachBuiltinLayer(function(a,c){y[c]=a.elCount,a.elCount=0,a.__dirty=!1}),M.each(S,function(a,c){Z[c]=a.elCount,a.elCount=0,a.__dirty=!1});for(var m,b,ad=0,R=0,ab=0,X=ac.length;ab<X;ab++){var T=ac[ab],V=this._singleCanvas?0:T.zlevel,d=W[V],U=T.progressive;if(d&&(d.elCount++,d.__dirty=d.__dirty||T.__dirty),U>=0){b!==U&&(b=U,R++);var aa=T.__frame=R-1;if(!m){var Y=Math.min(ad,j-1);m=S[Y],m||(m=S[Y]=new F("progressive",this,this.dpr),m.initContext()),m.__maxProgress=0}m.__dirty=m.__dirty||T.__dirty,m.elCount++,m.__maxProgress=Math.max(m.__maxProgress,aa),m.__maxProgress>=m.__progress&&(d.__dirty=!0)}else{T.__frame=-1,m&&(m.__nextIdxNotProg=ab,ad++,m=null)}}m&&(ad++,m.__nextIdxNotProg=ab),this.eachBuiltinLayer(function(a,c){y[c]!==a.elCount&&(a.__dirty=!0)}),S.length=Math.min(ad,j),M.each(S,function(a,c){Z[c]!==a.elCount&&(T.__dirty=!0),a.__dirty&&(a.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},configLayer:function(b,c){if(c){var a=this._layerConfig;a[b]?M.merge(a[b],c,!0):a[b]=c;var d=this._layers[b];d&&M.merge(d,a[b],!0)}},delLayer:function(b){var c=this._layers,a=this._zlevelList,d=c[b];d&&(d.dom.parentNode.removeChild(d.dom),delete c[b],a.splice(M.indexOf(a,b),1))},resize:function(d,f){var c=this._domRoot;c.style.display="none";var g=this._opts;if(null!=d&&(g.width=d),null!=f&&(g.height=f),d=this._getSize(0),f=this._getSize(1),c.style.display="",this._width!=d||f!=this._height){c.style.width=d+"px",c.style.height=f+"px";for(var b in this._layers){this._layers.hasOwnProperty(b)&&this._layers[b].resize(d,f)}M.each(this._progressiveLayers,function(a){a.resize(d,f)}),this.refresh(!0)}return this._width=d,this._height=f,this},clearLayer:function(a){var b=this._layers[a];b&&b.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(p){function h(v,y){var S=b._zlevelList;null==v&&(v=-(1/0));for(var r,R=0;R<S.length;R++){var x=S[R],i=b._layers[x];if(!i.__builtin__&&x>v&&x<y){r=i;break}}r&&r.renderToCanvas&&(g.ctx.save(),r.renderToCanvas(g.ctx),g.ctx.restore())}if(p=p||{},this._singleCanvas){return this._layers[0].dom}var g=new F("image",this,p.pixelRatio||this.dpr);g.initContext(),g.clearColor=p.backgroundColor,g.clear();for(var d,m=this.storage.getDisplayList(!0),c={},b=this,u=0;u<m.length;u++){var f=m[u];f.zlevel!==d&&(h(d,f.zlevel),d=f.zlevel),this._doPaintEl(f,g,!0,c)}return h(d,1/0),g.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(f){var m=this._opts,d=["width","height"][f],c=["clientWidth","clientHeight"][f],n=["paddingLeft","paddingTop"][f],h=["paddingRight","paddingBottom"][f];if(null!=m[d]&&"auto"!==m[d]){return parseFloat(m[d])}var g=this.root,b=document.defaultView.getComputedStyle(g);return(g[c]||E(b[d])||E(g.style[d]))-(E(b[n])||0)-(E(b[h])||0)|0},pathToImage:function(T,ae){ae=ae||this.dpr;var Y=document.createElement("canvas"),ah=Y.getContext("2d"),X=T.getBoundingRect(),V=T.style,U=V.shadowBlur,aa=V.shadowOffsetX,S=V.shadowOffsetY,ag=V.hasStroke()?V.lineWidth:0,ab=Math.max(ag/2,-aa+U),af=Math.max(ag/2,aa+U),ad=Math.max(ag/2,-S+U),W=Math.max(ag/2,S+U),ac=X.width+ab+af,Z=X.height+ad+W;Y.width=ac*ae,Y.height=Z*ae,ah.scale(ae,ae),ah.clearRect(0,0,ac,Z),ah.dpr=ae;var R={position:T.position,rotation:T.rotation,scale:T.scale};T.position=[ab-X.x,ad-X.y],T.rotation=0,T.scale=[1,1],T.updateTransform(),T&&T.brush(ah);var b=H(53),i=new b({style:{x:0,y:0,image:Y}});return null!=R.position&&(i.position=T.position=R.position),null!=R.rotation&&(i.rotation=T.rotation=R.rotation),null!=R.scale&&(i.scale=T.scale=R.scale),i}},z.exports=O},function(k,h,g){function d(a,i){return a.zlevel===i.zlevel?a.z===i.z?a.z2-i.z2:a.z-i.z:a.zlevel-i.zlevel}var j=g(1),c=g(9),b=g(36),m=g(51),f=function(){this._roots=[],this._displayList=[],this._displayListLen=0};f.prototype={constructor:f,traverse:function(l,n){for(var a=0;a<this._roots.length;a++){this._roots[a].traverse(l,n)}},getDisplayList:function(a,i){return i=i||!1,a&&this.updateDisplayList(i),this._displayList},updateDisplayList:function(o){this._displayListLen=0;for(var q=this._roots,n=this._displayList,l=0,p=q.length;l<p;l++){this._updateAndAddDisplayable(q[l],null,o)}n.length=this._displayListLen,c.canvasSupported&&m(n,d)},_updateAndAddDisplayable:function(z,x,w){if(!z.ignore||w){z.beforeUpdate(),z.__dirty&&z.update(),z.afterUpdate();var u=z.clipPath;if(u){x=x?x.slice():[];for(var y=u,q=z;y;){y.parent=q,y.updateTransform(),x.push(y),q=y,y=y.clipPath}}if(z.isGroup){for(var p=z._children,A=0;A<p.length;A++){var v=p[A];z.__dirty&&(v.__dirty=!0),this._updateAndAddDisplayable(v,x,w)}z.__dirty=!1}else{z.__clipPaths=x,this._displayList[this._displayListLen++]=z}}},addRoot:function(a){a.__storage!==this&&(a instanceof b&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(l){if(null==l){for(var p=0;p<this._roots.length;p++){var a=this._roots[p];a instanceof b&&a.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void (this._displayListLen=0)}if(l instanceof Array){for(var p=0,r=l.length;p<r;p++){this.delRoot(l[p])}}else{var q=j.indexOf(this._roots,l);q>=0&&(this.delFromStorage(l),this._roots.splice(q,1),l instanceof b&&l.delChildrenFromStorage(this))}},addToStorage:function(a){return a.__storage=this,a.dirty(!1),this},delFromStorage:function(a){return a&&(a.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:d},k.exports=f},function(d,h,c){var k=c(1),b=c(21).Dispatcher,j=c(68),g=c(67),f=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,b.call(this)};f.prototype={constructor:f,addClip:function(a){this._clips.push(a)},addAnimator:function(l){l.animation=this;for(var m=l.getClips(),a=0;a<m.length;a++){this.addClip(m[a])}},removeClip:function(a){var i=k.indexOf(this._clips,a);i>=0&&this._clips.splice(i,1)},removeAnimator:function(l){for(var m=l.getClips(),a=0;a<m.length;a++){this.removeClip(m[a])}l.animation=null},_update:function(){for(var y=(new Date).getTime()-this._pausedTime,w=y-this._time,v=this._clips,q=v.length,x=[],p=[],m=0;m<q;m++){var z=v[m],u=z.step(y,w);u&&(x.push(u),p.push(z))}for(var m=0;m<q;){v[m]._needsRemove?(v[m]=v[q-1],v.pop(),q--):m++}q=x.length;for(var m=0;m<q;m++){p[m].fire(x[m])}this._time=y,this.onframe(w),this.trigger("frame",w),this.stage.update&&this.stage.update()},_startLoop:function(){function a(){i._running&&(j(a),!i._paused&&i._update())}var i=this;this._running=!0,j(a)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(l,m){m=m||{};var a=new g(l,m.loop,m.getter,m.setter);return this.addAnimator(a),a}},k.mixin(f,b),d.exports=f},function(d,f,c){function g(a){this._target=a.target,this._life=a.life||1000,this._delay=a.delay||0,this._initialized=!1,this.loop=null!=a.loop&&a.loop,this.gap=a.gap||0,this.easing=a.easing||"Linear",this.onframe=a.onframe,this.ondestroy=a.ondestroy,this.onrestart=a.onrestart,this._pausedTime=0,this._paused=!1}var b=c(158);g.prototype={constructor:g,step:function(h,k){if(this._initialized||(this._startTime=h+this._delay,this._initialized=!0),this._paused){return void (this._pausedTime+=k)}var a=(h-this._startTime-this._pausedTime)/this._life;if(!(a<0)){a=Math.min(a,1);var m=this.easing,l="string"==typeof m?b[m]:m,j="function"==typeof l?l(a):a;return this.fire("frame",j),1==a?this.loop?(this.restart(h),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(a){var h=(a-this._startTime-this._pausedTime)%this._life;this._startTime=a-h+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(a,h){a="on"+a,this[a]&&this[a](this._target,h)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}},d.exports=g},function(b,c){var a={linear:function(d){return d},quadraticIn:function(d){return d*d},quadraticOut:function(d){return d*(2-d)},quadraticInOut:function(d){return(d*=2)<1?0.5*d*d:-0.5*(--d*(d-2)-1)},cubicIn:function(d){return d*d*d},cubicOut:function(d){return --d*d*d+1},cubicInOut:function(d){return(d*=2)<1?0.5*d*d*d:0.5*((d-=2)*d*d+2)},quarticIn:function(d){return d*d*d*d},quarticOut:function(d){return 1- --d*d*d*d},quarticInOut:function(d){return(d*=2)<1?0.5*d*d*d*d:-0.5*((d-=2)*d*d*d-2)},quinticIn:function(d){return d*d*d*d*d},quinticOut:function(d){return --d*d*d*d*d+1},quinticInOut:function(d){return(d*=2)<1?0.5*d*d*d*d*d:0.5*((d-=2)*d*d*d*d+2)},sinusoidalIn:function(d){return 1-Math.cos(d*Math.PI/2)},sinusoidalOut:function(d){return Math.sin(d*Math.PI/2)},sinusoidalInOut:function(d){return 0.5*(1-Math.cos(Math.PI*d))},exponentialIn:function(d){return 0===d?0:Math.pow(1024,d-1)},exponentialOut:function(d){return 1===d?1:1-Math.pow(2,-10*d)},exponentialInOut:function(d){return 0===d?0:1===d?1:(d*=2)<1?0.5*Math.pow(1024,d-1):0.5*(-Math.pow(2,-10*(d-1))+2)},circularIn:function(d){return 1-Math.sqrt(1-d*d)},circularOut:function(d){return Math.sqrt(1- --d*d)},circularInOut:function(d){return(d*=2)<1?-0.5*(Math.sqrt(1-d*d)-1):0.5*(Math.sqrt(1-(d-=2)*d)+1)},elasticIn:function(f){var g,d=0.1,h=0.4;return 0===f?0:1===f?1:(!d||d<1?(d=1,g=h/4):g=h*Math.asin(1/d)/(2*Math.PI),-(d*Math.pow(2,10*(f-=1))*Math.sin((f-g)*(2*Math.PI)/h)))},elasticOut:function(f){var g,d=0.1,h=0.4;return 0===f?0:1===f?1:(!d||d<1?(d=1,g=h/4):g=h*Math.asin(1/d)/(2*Math.PI),d*Math.pow(2,-10*f)*Math.sin((f-g)*(2*Math.PI)/h)+1)},elasticInOut:function(f){var g,d=0.1,h=0.4;return 0===f?0:1===f?1:(!d||d<1?(d=1,g=h/4):g=h*Math.asin(1/d)/(2*Math.PI),(f*=2)<1?-0.5*(d*Math.pow(2,10*(f-=1))*Math.sin((f-g)*(2*Math.PI)/h)):d*Math.pow(2,-10*(f-=1))*Math.sin((f-g)*(2*Math.PI)/h)*0.5+1)},backIn:function(d){var f=1.70158;return d*d*((f+1)*d-f)},backOut:function(d){var f=1.70158;return --d*d*((f+1)*d+f)+1},backInOut:function(d){var f=2.5949095;return(d*=2)<1?0.5*(d*d*((f+1)*d-f)):0.5*((d-=2)*d*((f+1)*d+f)+2)},bounceIn:function(d){return 1-a.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceInOut:function(d){return d<0.5?0.5*a.bounceIn(2*d):0.5*a.bounceOut(2*d-1)+0.5}};b.exports=a},function(d,f,c){var g=c(69).normalizeRadian,b=2*Math.PI;d.exports={containStroke:function(A,w,n,k,a,B,m,z,y){if(0===m){return !1}var q=m;z-=A,y-=w;var x=Math.sqrt(z*z+y*y);if(x-q>n||x+q<n){return !1}if(Math.abs(k-a)%b<0.0001){return !0}if(B){var v=k;k=g(a),a=g(v)}else{k=g(k),a=g(a)}k>a&&(a+=b);var j=Math.atan2(y,z);return j<0&&(j+=b),j>=k&&j<=a||j+b>=k&&j+b<=a}}},function(b,c,a){var d=a(20);b.exports={containStroke:function(z,q,m,x,j,g,A,k,y,w,n){if(0===y){return !1}var v=y;if(n>q+v&&n>x+v&&n>g+v&&n>k+v||n<q-v&&n<x-v&&n<g-v&&n<k-v||w>z+v&&w>m+v&&w>j+v&&w>A+v||w<z-v&&w<m-v&&w<j-v&&w<A-v){return !1}var p=d.cubicProjectPoint(z,q,m,x,j,g,A,k,w,n,null);return p<=v/2}}},function(z,L,H){function E(a,b){return Math.abs(a-b)<k}function P(){var a=O[0];O[0]=O[1],O[1]=a}function D(T,ae,ab,Y,X,V,U,aa,S,ag){if(ag>ae&&ag>Y&&ag>V&&ag>aa||ag<ae&&ag<Y&&ag<V&&ag<aa){return 0}var ac=J.cubicRootAt(ae,Y,V,aa,ag,Q);if(0===ac){return 0}for(var af,ad,W=0,Z=-1,R=0;R<ac;R++){var a=Q[R],b=0===a||1===a?0.5:1,g=J.cubicAt(T,ab,X,U,a);g<S||(Z<0&&(Z=J.cubicExtrema(ae,Y,V,aa,O),O[1]<O[0]&&Z>1&&P(),af=J.cubicAt(ae,Y,V,aa,O[0]),Z>1&&(ad=J.cubicAt(ae,Y,V,aa,O[1]))),W+=2==Z?a<O[0]?af<ae?b:-b:a<O[1]?ad<af?b:-b:aa<ad?b:-b:a<O[0]?af<ae?b:-b:aa<af?b:-b)}return W}function B(Y,T,y,v,W,m,b,Z){if(Z>T&&Z>v&&Z>m||Z<T&&Z<v&&Z<m){return 0}var x=J.quadraticRootAt(T,v,m,Z,Q);if(0===x){return 0}var X=J.quadraticExtremum(T,v,m);if(X>=0&&X<=1){for(var V=0,R=J.quadraticAt(T,v,m,X),U=0;U<x;U++){var S=0===Q[U]||1===Q[U]?0.5:1,g=J.quadraticAt(Y,y,W,Q[U]);g<b||(V+=Q[U]<X?R<T?S:-S:m<R?S:-S)}return V}var S=0===Q[0]||1===Q[0]?0.5:1,g=J.quadraticAt(Y,y,W,Q[0]);return g<b?0:m<T?S:-S}function A(Y,T,x,p,W,m,b,Z){if(Z-=T,Z>x||Z<-x){return 0}var v=Math.sqrt(x*x-Z*Z);Q[0]=-v,Q[1]=v;var X=Math.abs(p-W);if(X<0.0001){return 0}if(X%j<0.0001){p=0,W=j;var V=m?1:-1;return b>=Q[0]+Y&&b<=Q[1]+Y?V:0}if(m){var v=p;p=C(W),W=C(v)}else{p=C(p),W=C(W)}p>W&&(W+=j);for(var y=0,U=0;U<2;U++){var S=Q[U];if(S+Y>b){var R=Math.atan2(Z,S),V=m?1:-1;R<0&&(R=j+R),(R>=p&&R<=W||R+j>=p&&R+j<=W)&&(R>Math.PI/2&&R<1.5*Math.PI&&(V=-V),y+=V)}}return y}function G(R,ac,aa,af,Y){for(var ad=0,X=0,ab=0,r=0,u=0,ag=0;ag<R.length;){var ae=R[ag++];switch(ae===w.M&&ag>1&&(aa||(ad+=F(X,ab,r,u,af,Y))),1==ag&&(X=R[ag],ab=R[ag+1],r=X,u=ab),ae){case w.M:r=R[ag++],u=R[ag++],X=r,ab=u;break;case w.L:if(aa){if(q(X,ab,R[ag],R[ag+1],ac,af,Y)){return !0}}else{ad+=F(X,ab,R[ag],R[ag+1],af,Y)||0}X=R[ag++],ab=R[ag++];break;case w.C:if(aa){if(I.containStroke(X,ab,R[ag++],R[ag++],R[ag++],R[ag++],R[ag],R[ag+1],ac,af,Y)){return !0}}else{ad+=D(X,ab,R[ag++],R[ag++],R[ag++],R[ag++],R[ag],R[ag+1],af,Y)||0}X=R[ag++],ab=R[ag++];break;case w.Q:if(aa){if(M.containStroke(X,ab,R[ag++],R[ag++],R[ag],R[ag+1],ac,af,Y)){return !0}}else{ad+=B(X,ab,R[ag++],R[ag++],R[ag],R[ag+1],af,Y)||0}X=R[ag++],ab=R[ag++];break;case w.A:var v=R[ag++],f=R[ag++],n=R[ag++],s=R[ag++],d=R[ag++],W=R[ag++],V=(R[ag++],1-R[ag++]),o=Math.cos(d)*n+v,U=Math.sin(d)*s+f;ag>1?ad+=F(X,ab,o,U,af,Y):(r=o,u=U);var h=(af-v)*s/n+v;if(aa){if(K.containStroke(v,f,s,d,d+W,V,ac,h,Y)){return !0}}else{ad+=A(v,f,s,d,d+W,V,h,Y)}X=Math.cos(d+W)*n+v,ab=Math.sin(d+W)*s+f;break;case w.R:r=X=R[ag++],u=ab=R[ag++];var Z=R[ag++],m=R[ag++],o=r+Z,U=u+m;if(aa){if(q(r,u,o,u,ac,af,Y)||q(o,u,o,U,ac,af,Y)||q(o,U,r,U,ac,af,Y)||q(r,U,r,u,ac,af,Y)){return !0}}else{ad+=F(o,u,o,U,af,Y),ad+=F(r,U,r,u,af,Y)}break;case w.Z:if(aa){if(q(X,ab,r,u,ac,af,Y)){return !0}}else{ad+=F(X,ab,r,u,af,Y)}X=r,ab=u}}return aa||E(ab,u)||(ad+=F(X,ab,r,u,af,Y)||0),0!==ad}var w=H(27).CMD,N=H(97),I=H(160),M=H(98),K=H(159),C=H(69).normalizeRadian,J=H(20),F=H(99),q=N.containStroke,j=2*Math.PI,k=0.0001,Q=[-1,-1,-1],O=[-1,-1];z.exports={contain:function(b,c,a){return G(b,0,!1,c,a)},containStroke:function(b,c,a,d){return G(b,c,!0,a,d)}}},function(d,h,c){function k(l){var m=l[1][0]-l[0][0],a=l[1][1]-l[0][1];return Math.sqrt(m*m+a*a)}function b(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}var j=c(21),g=function(){this._track=[]};g.prototype={constructor:g,recognize:function(l,m,a){return this._doTrack(l,m,a),this._recognize(l)},clear:function(){return this._track.length=0,this},_doTrack:function(y,v,q){var o=y.touches;if(o){for(var w={points:[],touches:[],target:v,event:y},m=0,z=o.length;m<z;m++){var p=o[m],x=j.clientToLocal(q,p,{});w.points.push([x.zrX,x.zrY]),w.touches.push(p)}this._track.push(w)}},_recognize:function(l){for(var m in f){if(f.hasOwnProperty(m)){var a=f[m](this._track,l);if(a){return a}}}}};var f={pinch:function(n,u){var m=n.length;if(m){var v=(n[m-1]||{}).points,q=(n[m-2]||{}).points||v;if(q&&q.length>1&&v&&v.length>1){var p=k(v)/k(q);!isFinite(p)&&(p=1),u.pinchScale=p;var a=b(v);return u.pinchX=a[0],u.pinchY=a[1],{type:"pinch",target:n[0].target,event:u}}}}};d.exports=g},function(C,O,K){function H(a){return"mousewheel"===a&&P.browser.firefox?"DOMMouseScroll":a}function T(d,f,c){var h=d._gestureMgr;"start"===c&&h.clear();var b=h.recognize(f,d.handler.findHover(f.zrX,f.zrY,null).target,d.dom);if("end"===c&&h.clear(),b){var g=b.type;f.gestureEvent=g,d.handler.dispatchToElement({target:b.target},g,b.event)}}function G(a){a._touching=!0,clearTimeout(a._touchTimer),a._touchTimer=setTimeout(function(){a._touching=!1},700)}function E(a){var b=a.pointerType;return"pen"===b||"touch"===b}function D(a){function b(c,d){return function(){if(!d._touching){return c.apply(d,arguments)}}}Q.each(q,function(c){a._handlers[c]=Q.bind(z[c],a)}),Q.each(R,function(c){a._handlers[c]=Q.bind(z[c],a)}),Q.each(k,function(c){a._handlers[c]=b(z[c],a)})}function J(a){function b(d,c){Q.each(d,function(f){F(a,H(f),c._handlers[f])},c)}L.call(this),this.dom=a,this._touching=!1,this._touchTimer,this._gestureMgr=new N,this._handlers={},D(this),P.pointerEventsSupported?b(R,this):(P.touchEventsSupported&&b(q,this),b(k,this))}var B=K(21),Q=K(1),L=K(23),P=K(9),N=K(162),F=B.addEventListener,M=B.removeEventListener,I=B.normalizeEvent,A=300,k=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],q=["touchstart","touchend","touchmove"],U={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},R=Q.map(k,function(a){var b=a.replace("mouse","pointer");return U[b]?b:a}),z={mousemove:function(a){a=I(this.dom,a),this.trigger("mousemove",a)},mouseout:function(a){a=I(this.dom,a);var b=a.toElement||a.relatedTarget;if(b!=this.dom){for(;b&&9!=b.nodeType;){if(b===this.dom){return}b=b.parentNode}}this.trigger("mouseout",a)},touchstart:function(a){a=I(this.dom,a),a.zrByTouch=!0,this._lastTouchMoment=new Date,T(this,a,"start"),z.mousemove.call(this,a),z.mousedown.call(this,a),G(this)},touchmove:function(a){a=I(this.dom,a),a.zrByTouch=!0,T(this,a,"change"),z.mousemove.call(this,a),G(this)},touchend:function(a){a=I(this.dom,a),a.zrByTouch=!0,T(this,a,"end"),z.mouseup.call(this,a),+new Date-this._lastTouchMoment<A&&z.click.call(this,a),G(this)},pointerdown:function(a){z.mousedown.call(this,a)},pointermove:function(a){E(a)||z.mousemove.call(this,a)},pointerup:function(a){z.mouseup.call(this,a)},pointerout:function(a){E(a)||z.mouseout.call(this,a)}};Q.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){z[a]=function(b){b=I(this.dom,b),this.trigger(a,b)}});var j=J.prototype;j.dispose=function(){for(var b=k.concat(q),c=0;c<b.length;c++){var a=b[c];M(this.dom,H(a),this._handlers[a])}},j.setCursor=function(a){this.dom.style.cursor=a||"default"},Q.mixin(J,L),C.exports=J},function(b,c,a){var d=a(8);b.exports=d.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var g=this.__dirtyPath,h=this.shape.paths,f=0;f<h.length;f++){g=g||h[f].__dirtyPath}this.__dirtyPath=g,this.__dirty=this.__dirty||g},beforeBrush:function(){this._updatePathDirty();for(var g=this.shape.paths||[],h=this.getGlobalScale(),f=0;f<g.length;f++){g[f].path||g[f].createPathProxy(),g[f].path.setScale(h[0],h[1])}},buildPath:function(g,h){for(var f=h.paths||[],j=0;j<f.length;j++){f[j].buildPath(g,f[j].shape,!0)}},afterBrush:function(){for(var f=this.shape.paths,g=0;g<f.length;g++){f[g].__dirtyPath=!1}},getBoundingRect:function(){return this._updatePathDirty(),d.prototype.getBoundingRect.call(this)}})},function(d,f,c){var h=c(1),b=c(39),g=function(j,k,a,m,l){this.x=null==j?0.5:j,this.y=null==k?0.5:k,this.r=null==a?0.5:a,this.type="radial",this.global=l||!1,b.call(this,m)};g.prototype={constructor:g},h.inherits(g,b),d.exports=g},function(a,b){a.exports={buildPath:function(x,p){var k,g,v,f,d=p.x,y=p.y,j=p.width,w=p.height,q=p.r;j<0&&(d+=j,j=-j),w<0&&(y+=w,w=-w),"number"==typeof q?k=g=v=f=q:q instanceof Array?1===q.length?k=g=v=f=q[0]:2===q.length?(k=v=q[0],g=f=q[1]):3===q.length?(k=q[0],g=f=q[1],v=q[2]):(k=q[0],g=q[1],v=q[2],f=q[3]):k=g=v=f=0;var m;k+g>j&&(m=k+g,k*=j/m,g*=j/m),v+f>j&&(m=v+f,v*=j/m,f*=j/m),g+v>w&&(m=g+v,g*=w/m,v*=w/m),k+f>w&&(m=k+f,k*=w/m,f*=w/m),x.moveTo(d+k,y),x.lineTo(d+j-g,y),0!==g&&x.quadraticCurveTo(d+j,y,d+j,y+g),x.lineTo(d+j,y+w-v),0!==v&&x.quadraticCurveTo(d+j,y+w,d+j-v,y+w),x.lineTo(d+f,y+w),0!==f&&x.quadraticCurveTo(d,y+w,d,y+w-f),x.lineTo(d,y+k),0!==k&&x.quadraticCurveTo(d,y,d+k,y)}}},function(k,h,g){var d=g(6),j=d.min,c=d.max,b=d.scale,m=d.distance,f=d.add;k.exports=function(A,H,D,z){var K,E,J,G,B=[],F=[],C=[],s=[];if(z){J=[1/0,1/0],G=[-(1/0),-(1/0)];for(var n=0,q=A.length;n<q;n++){j(J,J,A[n]),c(G,G,A[n])}j(J,J,z[0]),c(G,G,z[1])}for(var n=0,q=A.length;n<q;n++){var N=A[n];if(D){K=A[n?n-1:q-1],E=A[(n+1)%q]}else{if(0===n||n===q-1){B.push(d.clone(A[n]));continue}K=A[n-1],E=A[n+1]}d.sub(F,E,K),b(F,F,H);var L=m(N,K),r=m(N,E),a=L+r;0!==a&&(L/=a,r/=a),b(C,F,-L),b(s,F,r);var l=f([],N,C),o=f([],N,s);z&&(c(l,l,J),j(l,l,G),c(o,o,J),j(o,o,G)),B.push(l),B.push(o)}return D&&B.push(B.shift()),B}},function(d,f,c){function g(v,q,p,k,u,j,h){var w=0.5*(p-v),m=0.5*(k-q);return(2*(q-p)+w+m)*h+(-3*(q-p)-2*w-m)*j+w*u+q}var b=c(6);d.exports=function(F,A){for(var w=F.length,k=[],a=0,G=1;G<w;G++){a+=b.distance(F[G-1],F[G])}var q=a/2;q=q<w?w:q;for(var G=0;G<q;G++){var E,C,x,B=G/(q-1)*(A?w:w-1),z=Math.floor(B),j=B-z,y=F[z%w];A?(E=F[(z-1+w)%w],C=F[(z+1)%w],x=F[(z+2)%w]):(E=F[0===z?z:z-1],C=F[z>w-2?w-1:z+1],x=F[z>w-3?w-1:z+2]);var n=j*j,D=j*n;k.push([g(E[0],y[0],C[0],x[0],j,n,D),g(E[1],y[1],C[1],x[1],j,n,D)])}return k}},function(b,c,a){b.exports=a(8).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(q,k){var j=k.cx,g=k.cy,m=Math.max(k.r,0),f=k.startAngle,d=k.endAngle,v=k.clockwise,h=Math.cos(f),p=Math.sin(f);q.moveTo(h*m+j,p*m+g),q.arc(j,g,m,f,d,!v)}})},function(y,p,k){function g(h,l,d){var o=h.cpx2,c=h.cpy2;return null===o||null===c?[(d?m:x)(h.x1,h.cpx1,h.cpx2,h.x2,l),(d?m:x)(h.y1,h.cpy1,h.cpy2,h.y2,l)]:[(d?v:j)(h.x1,h.cpx1,h.x2,l),(d?v:j)(h.y1,h.cpy1,h.y2,l)]}var w=k(20),f=k(6),b=w.quadraticSubdivide,z=w.cubicSubdivide,j=w.quadraticAt,x=w.cubicAt,v=w.quadraticDerivativeAt,m=w.cubicDerivativeAt,q=[];y.exports=k(8).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(H,D){var A=D.x1,r=D.y1,F=D.x2,d=D.y2,s=D.cpx1,G=D.cpy1,E=D.cpx2,B=D.cpy2,C=D.percent;0!==C&&(H.moveTo(A,r),null==E||null==B?(C<1&&(b(A,s,F,C,q),s=q[1],F=q[2],b(r,G,d,C,q),G=q[1],d=q[2]),H.quadraticCurveTo(s,G,F,d)):(C<1&&(z(A,s,E,F,C,q),s=q[1],E=q[2],F=q[3],z(r,G,B,d,C,q),G=q[1],B=q[2],d=q[3]),H.bezierCurveTo(s,G,E,B,F,d)))},pointAt:function(a){return g(this.shape,a,!1)},tangentAt:function(a){var c=g(this.shape,a,!0);return f.normalize(c,c)}})},function(b,c,a){b.exports=a(8).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(f,g,d){d&&f.moveTo(g.cx+g.r,g.cy),f.arc(g.cx,g.cy,g.r,0,2*Math.PI,!0)}})},function(b,c,a){b.exports=a(8).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(g,j){var f=j.x1,l=j.y1,d=j.x2,k=j.y2,h=j.percent;0!==h&&(g.moveTo(f,l),h<1&&(d=f*(1-h)+d*h,k=l*(1-h)+k*h),g.lineTo(d,k))},pointAt:function(d){var f=this.shape;return[f.x1*(1-d)+f.x2*d,f.y1*(1-d)+f.y2*d]}})},function(b,c,a){var d=a(74);b.exports=a(8).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(f,g){d.buildPath(f,g,!0)}})},function(b,c,a){var d=a(74);b.exports=a(8).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(f,g){d.buildPath(f,g,!1)}})},function(b,c,a){var d=a(166);b.exports=a(8).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(h,k){var g=k.x,f=k.y,l=k.width,j=k.height;k.r?d.buildPath(h,k):h.rect(g,f,l,j),h.closePath()}})},function(b,c,a){b.exports=a(8).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(g,h){var f=h.cx,j=h.cy,d=2*Math.PI;g.moveTo(f+h.r,j),g.arc(f,j,h.r,0,d,!1),g.moveTo(f+h.r0,j),g.arc(f,j,h.r0,0,d,!0)}})},function(d,f,c){var h=c(9),b=c(8),g=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];d.exports=b.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:h.browser.ie&&h.browser.version>=11?function(){var j,m=this.__clipPaths,a=this.style;if(m){for(var o=0;o<m.length;o++){var l=m[o]&&m[o].shape;if(l&&l.startAngle===l.endAngle){for(var k=0;k<g.length;k++){g[k][2]=a[g[k][0]],a[g[k][0]]=g[k][1]}j=!0;break}}}if(b.prototype.brush.apply(this,arguments),j){for(var k=0;k<g.length;k++){a[g[k][0]]=g[k][2]}}}:b.prototype.brush,buildPath:function(z,v){var q=v.cx,m=v.cy,x=Math.max(v.r0||0,0),k=Math.max(v.r,0),j=v.startAngle,A=v.endAngle,p=v.clockwise,y=Math.cos(j),w=Math.sin(j);z.moveTo(y*x+q,w*x+m),z.lineTo(y*k+q,w*k+m),z.arc(q,m,k,j,A,!p),z.lineTo(Math.cos(A)*x+q,Math.sin(A)*x+m),0!==x&&z.arc(q,m,x,A,j,p),z.closePath()}})},function(m,h,g){var d=g(67),j=g(1),c=j.isString,b=j.isFunction,p=j.isObject,f=g(52),k=function(){this.animators=[]};k.prototype={constructor:k,animate:function(B,x){var q,n=!1,a=this,C=this.__zr;if(B){var A=B.split("."),z=a;n="shape"===A[0];for(var v=0,y=A.length;v<y;v++){z&&(z=z[A[v]])}z&&(q=z)}else{q=a}if(!q){return void f('Property "'+B+'" is not existed in element '+a.id)}var w=a.animators,l=new d(q,x);return l.during(function(e){a.dirty(n)}).done(function(){w.splice(j.indexOf(w,l),1)}),w.push(l),C&&C.animation.addAnimator(l),l},stopAnimation:function(l){for(var o=this.animators,a=o.length,q=0;q<a;q++){o[q].stop(l)}return o.length=0,this},animateTo:function(z,v,r,o,x){function A(){y--,y||x&&x()}c(r)?(x=o,o=r,r=0):b(o)?(x=o,o="linear",r=0):b(r)?(x=r,r=0):b(v)?(x=v,v=500):v||(v=500),this.stopAnimation(),this._animateToShallow("",this,z,v,r,o,x);var q=this.animators.slice(),y=q.length;y||x&&x();for(var w=0;w<q.length;w++){q[w].done(A).start(o)}},_animateToShallow:function(A,x,w,s,q){var a={},v=0;for(var z in w){if(w.hasOwnProperty(z)){if(null!=x[z]){p(w[z])&&!j.isArrayLike(w[z])?this._animateToShallow(A?A+"."+z:z,x[z],w[z],s,q):(a[z]=w[z],v++)}else{if(null!=w[z]){if(A){var y={};y[A]={},y[A][z]=w[z],this.attr(y)}else{this.attr(z,w[z])}}}}}return v>0&&this.animate(A,!1).when(null==s?500:s,a).delay(q||0),this}},m.exports=k},function(b,c){function a(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function d(f,g){return{target:f,topTarget:g&&g.topTarget}}a.prototype={constructor:a,_dragStart:function(f){var g=f.target;g&&g.draggable&&(this._draggingTarget=g,g.dragging=!0,this._x=f.offsetX,this._y=f.offsetY,this.dispatchToElement(d(g,f),"dragstart",f.event))},_drag:function(j){var n=this._draggingTarget;if(n){var h=j.offsetX,g=j.offsetY,p=h-this._x,m=g-this._y;this._x=h,this._y=g,n.drift(p,m,j),this.dispatchToElement(d(n,j),"drag",j.event);var k=this.findHover(h,g,n).target,f=this._dropTarget;this._dropTarget=k,n!==k&&(f&&k!==f&&this.dispatchToElement(d(f,j),"dragleave",j.event),k&&k!==f&&this.dispatchToElement(d(k,j),"dragenter",j.event))}},_dragEnd:function(f){var g=this._draggingTarget;g&&(g.dragging=!1),this.dispatchToElement(d(g,f),"dragend",f.event),this._dropTarget&&this.dispatchToElement(d(this._dropTarget,f),"drop",f.event),this._draggingTarget=null,this._dropTarget=null}},b.exports=a},function(G,B,x){function q(P,ab,aa,Y,ad,X,U,Q,Z,O,W){var N=Z*(A/180),h=C(N)*(P-aa)/2+y(N)*(ab-Y)/2,J=-1*y(N)*(P-aa)/2+C(N)*(ab-Y)/2,ae=h*h/(U*U)+J*J/(Q*Q);ae>1&&(U*=D(ae),Q*=D(ae));var ac=(ad===X?-1:1)*D((U*U*(Q*Q)-U*U*(J*J)-Q*Q*(h*h))/(U*U*(J*J)+Q*Q*(h*h)))||0,K=ac*U*J/Q,d=ac*-Q*h/U,f=(P+aa)/2+C(N)*K-y(N)*d,m=(ab+Y)/2+y(N)*K+C(N)*d,c=v([1,0],[(h-K)/U,(J-d)/Q]),V=[(h-K)/U,(J-d)/Q],R=[(-1*h-K)/U,(-1*J-d)/Q],g=v(V,R);z(V,R)<=-1&&(g=A),z(V,R)>=1&&(g=0),0===X&&g>0&&(g-=2*A),1===X&&g<0&&(g+=2*A),W.addData(O,f,m,U,Q,c,g,N,X)}function E(P){if(!P){return[]}var ad,Z=P.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(ad=0;ad<F.length;ad++){Z=Z.replace(new RegExp(F[ad],"g"),"|"+F[ad])}var ah,W=Z.split("|"),R=0,Y=0,af=new H,aa=H.CMD;for(ad=1;ad<W.length;ad++){var ae,ac=W[ad],V=ac.charAt(0),ab=0,X=ac.slice(1).replace(/e,-/g,"e-").split(",");X.length>0&&""===X[0]&&X.shift();for(var O=0;O<X.length;O++){X[O]=parseFloat(X[O])}for(;ab<X.length&&!isNaN(X[ab])&&!isNaN(X[0]);){var J,L,ai,ag,N,s,u,K=R,n=Y;switch(V){case"l":R+=X[ab++],Y+=X[ab++],ae=aa.L,af.addData(ae,R,Y);break;case"L":R=X[ab++],Y=X[ab++],ae=aa.L,af.addData(ae,R,Y);break;case"m":R+=X[ab++],Y+=X[ab++],ae=aa.M,af.addData(ae,R,Y),V="l";break;case"M":R=X[ab++],Y=X[ab++],ae=aa.M,af.addData(ae,R,Y),V="L";break;case"h":R+=X[ab++],ae=aa.L,af.addData(ae,R,Y);break;case"H":R=X[ab++],ae=aa.L,af.addData(ae,R,Y);break;case"v":Y+=X[ab++],ae=aa.L,af.addData(ae,R,Y);break;case"V":Y=X[ab++],ae=aa.L,af.addData(ae,R,Y);break;case"C":ae=aa.C,af.addData(ae,X[ab++],X[ab++],X[ab++],X[ab++],X[ab++],X[ab++]),R=X[ab-2],Y=X[ab-1];break;case"c":ae=aa.C,af.addData(ae,X[ab++]+R,X[ab++]+Y,X[ab++]+R,X[ab++]+Y,X[ab++]+R,X[ab++]+Y),R+=X[ab-2],Y+=X[ab-1];break;case"S":J=R,L=Y;var U=af.len(),Q=af.data;ah===aa.C&&(J+=R-Q[U-4],L+=Y-Q[U-3]),ae=aa.C,K=X[ab++],n=X[ab++],R=X[ab++],Y=X[ab++],af.addData(ae,J,L,K,n,R,Y);break;case"s":J=R,L=Y;var U=af.len(),Q=af.data;ah===aa.C&&(J+=R-Q[U-4],L+=Y-Q[U-3]),ae=aa.C,K=R+X[ab++],n=Y+X[ab++],R+=X[ab++],Y+=X[ab++],af.addData(ae,J,L,K,n,R,Y);break;case"Q":K=X[ab++],n=X[ab++],R=X[ab++],Y=X[ab++],ae=aa.Q,af.addData(ae,K,n,R,Y);break;case"q":K=X[ab++]+R,n=X[ab++]+Y,R+=X[ab++],Y+=X[ab++],ae=aa.Q,af.addData(ae,K,n,R,Y);break;case"T":J=R,L=Y;var U=af.len(),Q=af.data;ah===aa.Q&&(J+=R-Q[U-4],L+=Y-Q[U-3]),R=X[ab++],Y=X[ab++],ae=aa.Q,af.addData(ae,J,L,R,Y);break;case"t":J=R,L=Y;var U=af.len(),Q=af.data;ah===aa.Q&&(J+=R-Q[U-4],L+=Y-Q[U-3]),R+=X[ab++],Y+=X[ab++],ae=aa.Q,af.addData(ae,J,L,R,Y);break;case"A":ai=X[ab++],ag=X[ab++],N=X[ab++],s=X[ab++],u=X[ab++],K=R,n=Y,R=X[ab++],Y=X[ab++],ae=aa.A,q(K,n,R,Y,s,u,ai,ag,N,ae,af);break;case"a":ai=X[ab++],ag=X[ab++],N=X[ab++],s=X[ab++],u=X[ab++],K=R,n=Y,R+=X[ab++],Y+=X[ab++],ae=aa.A,q(K,n,R,Y,s,u,ai,ag,N,ae,af)}}"z"!==V&&"Z"!==V||(ae=aa.Z,af.addData(ae)),ah=ae}return af.toStatic(),af}function k(c,d){var a=E(c);return d=d||{},d.buildPath=function(f){if(f.setData){f.setData(a.data);var g=f.getContext();g&&f.rebuildPath(g)}else{var g=f;a.rebuildPath(g)}},d.applyTransform=function(e){w(a,e),this.dirty(!0)},d}var b=x(8),H=x(27),w=x(181),F=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],D=Math.sqrt,y=Math.sin,C=Math.cos,A=Math.PI,j=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},z=function(a,c){return(a[0]*c[0]+a[1]*c[1])/(j(a)*j(c))},v=function(a,c){return(a[0]*c[1]<a[1]*c[0]?-1:1)*Math.acos(z(a,c))};G.exports={createFromString:function(a,c){return new b(k(a,c))},extendFromString:function(a,c){return b.extend(k(a,c))},mergePath:function(f,h){for(var d=[],m=f.length,c=0;c<m;c++){var l=f[c];l.path||l.createPathProxy(),l.__dirtyPath&&l.buildPath(l.path,l.shape,!0),d.push(l.path)}var g=new b(h);return g.createPathProxy(),g.buildPath=function(a){a.appendPath(d);var i=a.getContext();i&&a.rebuildPath(i)},g}}},function(m,h,g){function d(z,I){var E,C,B,K,F,J,H=z.data,A=j.M,G=j.C,D=j.L,u=j.R,q=j.A,r=j.Q;for(B=0,K=0;B<H.length;){switch(E=H[B++],K=B,C=0,E){case A:C=1;break;case D:C=1;break;case G:C=3;break;case r:C=2;break;case q:var N=I[4],L=I[5],s=f(I[0]*I[0]+I[1]*I[1]),a=f(I[2]*I[2]+I[3]*I[3]),l=k(-I[1]/a,I[0]/s);H[B]*=s,H[B++]+=N,H[B]*=a,H[B++]+=L,H[B++]*=s,H[B++]*=a,H[B++]+=l,H[B++]+=l,B+=2,K=B;break;case u:J[0]=H[B++],J[1]=H[B++],b(J,J,I),H[K++]=J[0],H[K++]=J[1],J[0]+=H[B++],J[1]+=H[B++],b(J,J,I),H[K++]=J[0],H[K++]=J[1]}for(F=0;F<C;F++){var J=p[F];J[0]=H[B++],J[1]=H[B++],b(J,J,I),H[K++]=J[0],H[K++]=J[1]}}}var j=g(27).CMD,c=g(6),b=c.applyTransform,p=[[],[],[]],f=Math.sqrt,k=Math.atan2;m.exports=d},function(m,h,g){if(!g(9).canvasSupported){var d,j="urn:schemas-microsoft-com:vml",c=window,b=c.document,p=!1;try{!b.namespaces.zrvml&&b.namespaces.add("zrvml",j),d=function(a){return b.createElement("<zrvml:"+a+' class="zrvml">')}}catch(f){d=function(a){return b.createElement("<"+a+' xmlns="'+j+'" class="zrvml">')}}var k=function(){if(!p){p=!0;var a=b.styleSheets;a.length<31?b.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}};m.exports={doc:b,initVML:k,createNode:d}}},function(k,h,g){var d=g(14),j=g(25),c=g(313),b=g(1),m={_baseAxisDim:null,getInitialData:function(F,A){var w,n,G=A.getComponent("xAxis",this.get("xAxisIndex")),r=A.getComponent("yAxis",this.get("yAxisIndex")),E=G.get("type"),C=r.get("type");"category"===E?(F.layout="horizontal",w=G.getCategories(),n=!0):"category"===C?(F.layout="vertical",w=r.getCategories(),n=!0):F.layout=F.layout||"horizontal";var x=["x","y"],B="horizontal"===F.layout?0:1,z=this._baseAxisDim=x[B],a=x[1-B],y=F.data;n&&b.each(y,function(i,l){b.isArray(i)&&i.unshift(l)});var q=[{name:z,otherDims:{tooltip:!1},dimsDef:["base"]},{name:a,dimsDef:this.defaultValueDimensions.slice()}];q=j(q,y,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions")});var D=new d(q,this);return D.initData(y,w?w.slice():null),D},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},f={init:function(){var a=this._whiskerBoxDraw=new c(this.getStyleUpdater());this.group.add(a.group)},render:function(l,n,a){this._whiskerBoxDraw.updateData(l.getData())},remove:function(a){this._whiskerBoxDraw.remove()}};k.exports={seriesModelMixin:m,viewMixin:f}},function(D,Q,L){function I(d,g,c){var h=this._targetInfoList=[],b={},f=H(g,d);G(W,function(a,i){(!c||!c.include||O(c.include,i)>=0)&&a(f,h,b)})}function V(a){return a[0]>a[1]&&a.reverse(),a}function H(a,b){return R.parseFinder(a,b,{includeMainTypes:q})}function F(b,f,a,h){var g=a.getAxis(["x","y"][b]),d=V(T.map([0,1],function(e){return f?g.coordToData(g.toLocalCoord(h[e])):g.toGlobalCoord(g.dataToCoord(h[e]))})),c=[];return c[b]=d,c[1-b]=[NaN,NaN],{values:d,xyMinMax:c}}function E(b,c,a,d){return[c[0]-d[b]*a[0],c[1]-d[b]*a[1]]}function K(d,f){var c=C(d),g=C(f),b=[c[0]/g[0],c[1]/g[1]];return isNaN(b[0])&&(b[0]=1),isNaN(b[1])&&(b[1]=1),b}function C(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}var T=L(1),N=L(3),R=L(5),P=L(185),G=T.each,O=T.indexOf,J=T.curry,B=["dataToPoint","pointToData"],q=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],z=I.prototype;z.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(d,f,c){if((d.coordRanges||(d.coordRanges=[])).push(f),!d.coordRange){d.coordRange=f;var g=j[d.brushType](0,c,f);d.__rangeOffset={offset:k[d.brushType](g.values,d.range,[1,1]),xyMinMax:g.xyMinMax}}})},z.matchOutputRanges=function(b,c,a){G(b,function(d){var e=this.findTargetInfo(d,c);e&&e!==!0&&T.each(e.coordSyses,function(g){var f=j[d.brushType](1,g,d.range);a(d,f.values,g,c)})},this)},z.setInputRanges=function(a,b){G(a,function(e){var d=this.findTargetInfo(e,b);if(e.range=e.range||[],d&&d!==!0){e.panelId=d.panelId;var f=j[e.brushType](0,d.coordSys,e.coordRange),c=e.__rangeOffset;e.range=c?k[e.brushType](f.values,c.offset,K(f.xyMinMax,c.xyMinMax)):f.values}},this)},z.makePanelOpts=function(a,b){return T.map(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:b&&b(c),clipPath:P.makeRectPanelClipPath(d),isTargetByCursor:P.makeRectIsTargetByCursor(d,a,c.coordSysModel),getLinearBrushOtherExtent:P.makeLinearBrushOtherExtent(d)}})},z.controlSeries=function(b,c,a){var d=this.findTargetInfo(b,a);return d===!0||d&&O(d.coordSyses,c.coordinateSystem)>=0},z.findTargetInfo=function(d,h){for(var c=this._targetInfoList,l=H(h,d),b=0;b<c.length;b++){var g=c[b],f=d.panelId;if(f){if(g.panelId===f){return g}}else{for(var b=0;b<U.length;b++){if(U[b](l,g)){return g}}}}return !0};var W={grid:function(d,h){var c=d.xAxisModels,m=d.yAxisModels,b=d.gridModels,l=T.createHashMap(),g={},f={};(c||m||b)&&(G(c,function(a){var i=a.axis.grid.model;l.set(i.id,i),g[i.id]=!0}),G(m,function(a){var i=a.axis.grid.model;l.set(i.id,i),f[i.id]=!0}),G(b,function(a){l.set(a.id,a),g[a.id]=!0,f[a.id]=!0}),l.each(function(i){var e=i.coordinateSystem,n=[];G(e.getCartesians(),function(a,o){(O(c,a.getAxis("x").model)>=0||O(m,a.getAxis("y").model)>=0)&&n.push(a)}),h.push({panelId:"grid--"+i.id,gridModel:i,coordSysModel:i,coordSys:n[0],coordSyses:n,getPanelRect:A.grid,xAxisDeclared:g[i.id],yAxisDeclared:f[i.id]})}))},geo:function(a,b){G(a.geoModels,function(d){var c=d.coordinateSystem;b.push({panelId:"geo--"+d.id,geoModel:d,coordSysModel:d,coordSys:c,coordSyses:[c],getPanelRect:A.geo})})}},U=[function(d,f){var c=d.xAxisModel,g=d.yAxisModel,b=d.gridModel;return !b&&c&&(b=c.axis.grid.model),!b&&g&&(b=g.axis.grid.model),b&&b===f.gridModel},function(b,c){var a=b.geoModel;return a&&a===c.geoModel}],A={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(N.getTransform(a)),b}},j={lineX:J(F,0),lineY:J(F,1),rect:function(b,d,a){var g=d[B[b]]([a[0][0],a[1][0]]),f=d[B[b]]([a[0][1],a[1][1]]),c=[V([g[0],f[0]]),V([g[1],f[1]])];return{values:c,xyMinMax:c}},polygon:function(d,f,c){var g=[[1/0,-(1/0)],[1/0,-(1/0)]],b=T.map(c,function(h){var e=f[B[d]](h);return g[0][0]=Math.min(g[0][0],e[0]),g[1][0]=Math.min(g[1][0],e[1]),g[0][1]=Math.max(g[0][1],e[0]),g[1][1]=Math.max(g[1][1],e[1]),e});return{values:b,xyMinMax:g}}},k={lineX:J(E,0),lineY:J(E,1),rect:function(b,c,a){return[[b[0][0]-a[0]*c[0][0],b[0][1]-a[0]*c[0][1]],[b[1][0]-a[1]*c[1][0],b[1][1]-a[1]*c[1][1]]]},polygon:function(b,c,a){return T.map(b,function(d,e){return[d[0]-a[0]*c[e][0],d[1]-a[1]*c[e][1]]})}};D.exports=I},function(d,h,c){function k(a){return j.create(a)}var b=c(128),j=c(11),g=c(3),f={};f.makeRectPanelClipPath=function(a){return a=k(a),function(m,l){return g.clipPointsByRect(m,a)}},f.makeLinearBrushOtherExtent=function(a,i){return a=k(a),function(l){var p=null!=i?i:l,e=p?a.width:a.height,m=p?a.x:a.y;return[m,m+(e||0)]}},f.makeRectIsTargetByCursor=function(l,m,a){return l=k(l),function(p,i,e){return l.contain(i[0],i[1])&&!b.onIrrelevantElement(p,m,a)}},d.exports=f},function(w,m,j){function f(J,E){var A=J.get("boundingCoords");if(null!=A){var y=A[0],H=A[1];isNaN(y[0])||isNaN(y[1])||isNaN(H[0])||isNaN(H[1])||this.setBoundingRect(y[0],y[1],H[0]-y[0],H[1]-y[1])}var r,K=this.getBoundingRect(),I=J.get("layoutCenter"),G=J.get("layoutSize"),B=E.getWidth(),F=E.getHeight(),D=J.get("aspectScale")||0.75,l=K.width/K.height*D,C=!1;I&&G&&(I=[g.parsePercent(I[0],B),g.parsePercent(I[1],F)],G=g.parsePercent(G,Math.min(B,F)),isNaN(I[0])||isNaN(I[1])||isNaN(G)||(C=!0));var z;if(C){var z={};l>1?(z.width=G,z.height=G/l):(z.height=G,z.width=G*l),z.y=I[1]-z.height/2,z.x=I[0]-z.width/2}else{r=J.getBoxLayoutParams(),r.aspect=l,z=b.getLayoutRect(r,{width:B,height:F})}this.setViewRect(z.x,z.y,z.width,z.height),this.setCenter(J.get("center")),this.setZoom(J.get("zoom"))}function q(a,c){x.each(c.get("geoCoord"),function(l,h){a.addGeoCoord(h,l)})}var d=j(398),b=j(12),x=j(1),g=j(4),v={},p={dimensions:d.prototype.dimensions,create:function(c,l){var a=[];c.eachComponent("geo",function(i,o){var n=i.get("map"),e=v[n],u=new d(n+o,n,e&&e.geoJson,e&&e.specialAreas,i.get("nameMap"));u.zoomLimit=i.get("scaleLimit"),a.push(u),q(u,i),i.coordinateSystem=u,u.model=i,u.resize=f,u.resize(i,l)}),c.eachSeries(function(i){var o=i.get("coordinateSystem");if("geo"===o){var r=i.get("geoIndex")||0;i.coordinateSystem=a[r]}});var h={};return c.eachSeriesByType("map",function(i){if(!i.getHostGeoModel()){var n=i.getMapType();h[n]=h[n]||[],h[n].push(i)}}),x.each(h,function(i,o){var e=v[o],s=x.map(i,function(r){return r.get("nameMap")}),n=new d(o,o,e&&e.geoJson,e&&e.specialAreas,x.mergeAll(s));n.zoomLimit=x.retrieve.apply(null,x.map(i,function(r){return r.get("scaleLimit")})),a.push(n),n.resize=f,n.resize(i[0],l),x.each(i,function(r){r.coordinateSystem=n,q(n,r)})}),a},registerMap:function(c,h,a){h.geoJson&&!h.features&&(a=h.specialAreas,h=h.geoJson),"string"==typeof h&&(h="undefined"!=typeof JSON&&JSON.parse?JSON.parse(h):new Function("return ("+h+");")()),v[c]={geoJson:h,specialAreas:a}},getMap:function(a){return v[a]},getFilledRegions:function(D,A){var z=(D||[]).slice(),s=p.getMap(A),B=s&&s.geoJson;if(!B){return D}for(var h=x.createHashMap(),c=B.features,y=0;y<z.length;y++){h.set(z[y].name,z[y])}for(var y=0;y<c.length;y++){var C=c[y].properties.name;h.get(C)||z.push({name:C})}return z}},k=j(2);k.registerMap=p.registerMap,k.getMap=p.getMap,k.parseGeoJSON=j(262),k.loadMap=function(){},k.registerCoordinateSystem("geo",p),w.exports=p},function(d,h,c){function k(a){if(a){for(var i in a){if(a.hasOwnProperty(i)){return !0}}}}var b=c(1),j=c(83),g=b.each,f={createVisualMappings:function(l,o,a){function p(){var i=function(){};i.prototype.__hidden=i.prototype;var n=new i;return n}var m={};return g(o,function(n){var i=m[n]=p();g(l[n],function(e,s){if(j.isValidType(s)){var q={type:s,visual:e};a&&a(q,n),i[s]=new j(q),"opacity"===s&&(q=b.clone(q),q.type="colorAlpha",i.__hidden.__alphaForOpacity=new j(q))}})}),m},replaceVisualOption:function(l,m,a){var n;b.each(a,function(e){m.hasOwnProperty(e)&&k(m[e])&&(n=!0)}),n&&b.each(a,function(e){m.hasOwnProperty(e)&&k(m[e])?l[e]=b.clone(m[e]):delete l[e]})},applyVisual:function(z,v,p,m,a,A){function o(e){return p.getItemVisual(w,e)}function y(i,l){p.setItemVisual(w,i,l)}function x(C,u){w=null==A?C:u;var i=p.getRawDataItem(w);if(!i||i.visualMap!==!1){for(var s=m.call(a,C),r=v[s],e=q[s],n=0,l=e.length;n<l;n++){var B=e[n];r[B]&&r[B].applyVisual(C,o,y)}}}var q={};b.each(z,function(l){var e=j.prepareVisualTypes(v[l]);q[l]=e});var w;null==A?p.each(x,!0):p.each([A],x,!0)}};d.exports=f},function(G,B){function x(){throw new Error("setTimeout has not been defined")}function q(){throw new Error("clearTimeout has not been defined")}function E(a){if(D===setTimeout){return setTimeout(a,0)}if((D===x||!D)&&setTimeout){return D=setTimeout,setTimeout(a,0)}try{return D(a,0)}catch(c){try{return D.call(null,a,0)}catch(c){return D.call(this,a,0)}}}function k(a){if(y===clearTimeout){return clearTimeout(a)}if((y===q||!y)&&clearTimeout){return y=clearTimeout,clearTimeout(a)}try{return y(a)}catch(c){try{return y.call(null,a)}catch(c){return y.call(this,a)}}}function b(){z&&A&&(z=!1,A.length?j=A.concat(j):v=-1,j.length&&H())}function H(){if(!z){var a=E(b);z=!0;for(var c=j.length;c;){for(A=j,j=[];++v<c;){A&&A[v].run()}v=-1,c=j.length}A=null,z=!1,k(a)}}function w(a,c){this.fun=a,this.array=c}function F(){}var D,y,C=G.exports={};!function(){try{D="function"==typeof setTimeout?setTimeout:x}catch(a){D=x}try{y="function"==typeof clearTimeout?clearTimeout:q}catch(a){y=q}}();var A,j=[],z=!1,v=-1;C.nextTick=function(c){var d=new Array(arguments.length-1);if(arguments.length>1){for(var a=1;a<arguments.length;a++){d[a-1]=arguments[a]}}j.push(new w(c,d)),1!==j.length||z||E(H)},w.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=F,C.addListener=F,C.once=F,C.off=F,C.removeListener=F,C.removeAllListeners=F,C.emit=F,C.binding=function(a){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(a){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},function(d,h,c){function k(){this.group=new b.Group,this._symbolEl=new g({})}var b=c(3),j=c(24),g=b.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(y,w){for(var v=w.points,q=w.sizes,x=this.symbolProxy,p=x.shape,m=0;m<v.length;m++){var z=v[m],u=q[m];u[0]<4?y.rect(z[0]-u[0]/2,z[1]-u[1]/2,u[0],u[1]):(p.x=z[0]-u[0]/2,p.y=z[1]-u[1]/2,p.width=u[0],p.height=u[1],x.buildPath(y,p,!0))}},findDataIndex:function(A,x){for(var w=this.shape,q=w.points,y=w.sizes,p=q.length-1;p>=0;p--){var m=q[p],B=y[p],v=m[0]-B[0]/2,z=m[1]-B[1]/2;if(A>=v&&x>=z&&A<=v+B[0]&&x<=z+B[1]){return p}}return -1}}),f=k.prototype;f.updateData=function(l){this.group.removeAll();var m=this._symbolEl,a=l.hostModel;m.setShape({points:l.mapArray(l.getItemLayout),sizes:l.mapArray(function(p){var n=l.getItemVisual(p,"symbolSize");return n instanceof Array||(n=[n,n]),n})}),m.symbolProxy=j.createSymbol(l.getVisual("symbol"),0,0,0,0),m.setColor=m.symbolProxy.setColor,m.useStyle(a.getModel("itemStyle.normal").getItemStyle(["color"]));var o=l.getVisual("color");o&&m.setColor(o),m.seriesIndex=a.seriesIndex,m.on("mousemove",function(n){m.dataIndex=null;var e=m.findDataIndex(n.offsetX,n.offsetY);e>0&&(m.dataIndex=e)}),this.group.add(m)},f.updateLayout=function(a){var i=a.getData();this._symbolEl.setShape({points:i.mapArray(i.getItemLayout)})},f.remove=function(){this.group.removeAll()},d.exports=k},function(d,h,c){function k(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}var b=c(3),j=c(6),g=b.Line.prototype,f=b.BezierCurve.prototype;d.exports=b.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,i){(k(i)?g:f).buildPath(a,i)},pointAt:function(a){return k(this.shape)?g.pointAt.call(this,a):f.pointAt.call(this,a)},tangentAt:function(l){var m=this.shape,a=k(m)?[m.x2-m.x1,m.y2-m.y1]:f.tangentAt.call(this,l);return j.normalize(a,a)}})},function(d,f,c){var g=c(1),b=c(2);c(192),c(193),b.registerVisual(g.curry(c(50),"scatter","circle",null)),b.registerLayout(g.curry(c(61),"scatter")),c(32)},function(d,f,c){var g=c(28),b=c(17);d.exports=b.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,h){return g(a.data,this,h)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2000,itemStyle:{normal:{opacity:0.8}}}})},function(d,f,c){var g=c(44),b=c(189);c(2).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new g,this._largeSymbolDraw=new b},render:function(k,p,j){var u=k.getData(),h=this._largeSymbolDraw,q=this._normalSymbolDraw,m=this.group,l=k.get("large")&&u.count()>k.get("largeThreshold")?h:q;this._symbolDraw=l,l.updateData(u),m.add(l.group),m.remove(l===h?q.group:h.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,h){this._symbolDraw&&this._symbolDraw.remove(h,!0)},dispose:function(){}})},function(d,f,c){var g=c(2),b=g.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,textStyle:{color:"#fff"},padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});d.exports=b},function(d,f,c){var g=c(122),b=c(2).extendComponentView({type:"axisPointer",render:function(k,l,j){var h=l.getComponent("tooltip"),m=k.get("triggerOn")||h&&h.get("triggerOn")||"mousemove|click";g.register("axisPointer",j,function(n,o,a){"none"!==m&&("leave"===n||m.indexOf(n)>=0)&&a({type:"updateAxisPointer",currTrigger:n,x:o&&o.offsetX,y:o&&o.offsetY})})},remove:function(a,h){g.disopse(h.getZr(),"axisPointer"),b.superApply(this._model,"remove",arguments)},dispose:function(a,h){g.unregister("axisPointer",h),b.superApply(this._model,"dispose",arguments)}})},function(w,K,G){function D(V,x,u,h,f,c,v,l){h=h||{},J(u)&&(u=k({seriesIndex:h.seriesIndex,dataIndex:h.dataIndex},c).point);var U=J(u),P=h.axesInfo,R=V.axesInfo,s="leave"===x||J(u),y={},Q={},r={list:[],map:{}},d={showPointer:j(A,Q),showTooltip:j(z,r)};b(V.coordSysMap,function(g,m){var i=U||g.containPoint(u);b(V.coordSysAxesInfo[m],function(o,T){var W=o.axis,S=H(P,o);if(!s&&i&&(!P||S)){var p=S&&S.value;null!=p||U||(p=W.pointToData(u)),null!=p&&N(o,p,d,!1,y)}})});var a={};return b(R,function(m,n){var g=m.linkGroup;g&&!Q[n]&&b(g.axesInfo,function(p,S){var i=Q[S];if(p!==m&&i){var t=i.value;g.mapper&&(t=m.axis.scale.parse(g.mapper(t,L(p),L(m)))),a[m.key]=t}})}),b(a,function(g,i){N(R[i],g,d,!0,y)}),F(Q,R,y),q(r,u,l,f),M(R,f,v),y}function N(p,h,g,d,m){var c=p.axis;if(!c.scale.isBlank()&&c.containData(h)){if(!p.involveSeries){return void g.showPointer(p,h)}var v=C(h,p),f=v.payloadBatch,o=v.snapToValue;f[0]&&null==m.seriesIndex&&B.extend(m,f[0]),!d&&p.snap&&c.containData(o)&&null!=o&&(h=o),g.showPointer(p,h,f,m),g.showTooltip(p,v,o)}}function C(f,l){var d=l.axis,p=d.dim,c=f,m=[],h=Number.MAX_VALUE,g=-1;return b(l.seriesModels,function(s,a){var i,v,n=s.coordDimToDataDim(p);if(s.getAxisTooltipData){var t=s.getAxisTooltipData(n,f,d);v=t.dataIndices,i=t.nestestValue}else{if(v=s.getData().indicesOfNearest(n[0],f,!1,"category"===d.type?0.5:null),!v.length){return}i=s.getData().get(n[0],v[0])}if(null!=i&&isFinite(i)){var o=f-i,r=Math.abs(o);r<=h&&((r<h||o>=0&&g<0)&&(h=r,g=o,c=i,m.length=0),b(v,function(e){m.push({seriesIndex:s.seriesIndex,dataIndexInside:e,dataIndex:s.getData().getRawIndex(e)})}))}}),{payloadBatch:m,snapToValue:c}}function A(c,d,a,f){c[d.key]={value:a,payloadBatch:f}}function z(P,p,m,g){var x=m.payloadBatch,f=p.axis,d=f.model,Q=p.axisPointerModel;if(p.triggerTooltip&&x.length){var h=p.coordSys.model,y=E.makeKey(h),v=P.map[y];v||(v=P.map[y]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},P.list.push(v)),v.dataByAxis.push({axisDim:f.dim,axisIndex:d.componentIndex,axisType:d.type,axisId:d.id,value:g,valueLabelOpt:{precision:Q.get("label.precision"),formatter:Q.get("label.formatter")},seriesDataIndices:x.slice()})}}function F(c,d,a){var f=a.axesInfo=[];b(d,function(l,h){var g=l.axisPointerModel.option,m=c[h];m?(!l.useHandle&&(g.status="show"),g.value=m.value,g.seriesDataIndices=(m.payloadBatch||[]).slice()):!l.useHandle&&(g.status="hide"),"show"===g.status&&f.push({axisDim:l.axis.dim,axisIndex:l.axis.model.componentIndex,value:g.value})})}function q(f,g,d,h){if(J(g)||!f.list.length){return void h({type:"hideTip"})}var c=((f.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};h({type:"showTip",escapeConnect:!0,x:g[0],y:g[1],tooltipOption:d,dataIndexInside:c.dataIndexInside,dataIndex:c.dataIndex,seriesIndex:c.seriesIndex,dataByCoordSys:f.list})}function M(u,m,h){var f=h.getZr(),p="axisPointerLastHighlights",d=O(f)[p]||{},c=O(f)[p]={};b(u,function(l,n){var a=l.axisPointerModel.option;"show"===a.status&&b(a.seriesDataIndices,function(i){var o=i.seriesIndex+" | "+i.dataIndex;c[o]=i})});var v=[],g=[];B.each(d,function(a,i){!c[i]&&g.push(a)}),B.each(c,function(a,i){!d[i]&&v.push(a)}),g.length&&h.dispatchAction({type:"downplay",escapeConnect:!0,batch:g}),v.length&&h.dispatchAction({type:"highlight",escapeConnect:!0,batch:v})}function H(c,d){for(var a=0;a<(c||[]).length;a++){var f=c[a];if(d.axis.dim===f.axisDim&&d.axis.model.componentIndex===f.axisIndex){return f}}}function L(c){var d=c.axis.model,a={},f=a.axisDim=c.axis.dim;return a.axisIndex=a[f+"AxisIndex"]=d.componentIndex,a.axisName=a[f+"AxisName"]=d.name,a.axisId=a[f+"AxisId"]=d.id,a}function J(a){return !a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}var B=G(1),I=G(5),E=G(45),k=G(121),b=B.each,j=B.curry,O=I.makeGetter();w.exports=D},function(b,c,a){a(126),a(46),a(47),a(203),a(204),a(199),a(200),a(124),a(123)},function(y,p,k){function g(c,d,a){var h=[1/0,-(1/0)];return v(a,function(l){var e=l.getData();e&&v(l.coordDimToDataDim(d),function(i){var n=e.getDataExtent(i);n[0]<h[0]&&(h[0]=n[0]),n[1]>h[1]&&(h[1]=n[1])})}),h[1]<h[0]&&(h=[NaN,NaN]),w(c,h),h}function w(h,s){var d=h.getAxisModel(),A=d.getMin(!0),c="category"===d.get("type"),u=c&&(d.get("data")||[]).length;null!=A&&"dataMin"!==A?s[0]=A:c&&(s[0]=u>0?0:NaN);var l=d.getMax(!0);return null!=l&&"dataMax"!==l?s[1]=l:c&&(s[1]=u>0?u-1:NaN),d.get("scale",!0)||(s[0]>0&&(s[0]=0),s[1]<0&&(s[1]=0)),s}function f(h,s){var d=h.getAxisModel(),A=h._percentWindow,c=h._valueWindow;if(A){var u=j.getPixelPrecision(c,[0,500]),l=s||0===A[0]&&100===A[1];d.setRange(l?null:+c[0].toFixed(u),l?null:+c[1].toFixed(u))}}function b(c){var d=c._minMaxSpan={},a=c._dataZoomModel;v(["min","max"],function(h){d[h+"Span"]=a.get(h+"Span");var e=a.get(h+"ValueSpan");null!=e&&(d[h+"ValueSpan"]=e,e=c.getAxisModel().axis.scale.parse(e),null!=e&&(d[h+"Span"]=j.linearMap(e,c._dataExtent,[0,100],!0)))})}var z=k(1),j=k(4),x=k(77),v=z.each,m=j.asc,q=function(c,d,a,h){this._dimName=c,this._axisIndex=d,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=h,this._dataZoomModel=a};q.prototype={constructor:q,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],c=this.ecModel;return c.eachSeries(function(e){if(x.isCoordSupported(e.get("coordinateSystem"))){var h=this._dimName,d=c.queryComponents({mainType:h+"Axis",index:e.get(h+"AxisIndex"),id:e.get(h+"AxisId")})[0];this._axisIndex===(d&&d.componentIndex)&&a.push(e)}},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var h,s,d=this._dimName,A=this.ecModel,c=this.getAxisModel(),u="x"===d||"y"===d;u?(s="gridIndex",h="x"===d?"y":"x"):(s="polarIndex",h="angle"===d?"radius":"angle");var l;return A.eachComponent(h+"Axis",function(a){(a.get(s)||0)===(c.get(s)||0)&&(l=a)}),l},getMinMaxSpan:function(){return z.clone(this._minMaxSpan)},calculateDataWindow:function(h){var A=this._dataExtent,d=this.getAxisModel(),C=d.axis.scale,c=this._dataZoomModel.getRangePropMode(),B=[0,100],u=[h.start,h.end],l=[];return v(["startValue","endValue"],function(a){l.push(null!=h[a]?C.parse(h[a]):null)}),v([0,1],function(n){var e=l[n],a=u[n];"percent"===c[n]?(null==a&&(a=B[n]),e=C.parse(j.linearMap(a,B,A,!0))):a=j.linearMap(e,A,B,!0),l[n]=e,u[n]=a}),{valueWindow:m(l),percentWindow:m(u)}},reset:function(a){if(a===this._dataZoomModel){this._dataExtent=g(this,this._dimName,this.getTargetSeriesModels());var c=this.calculateDataWindow(a.option);this._valueWindow=c.valueWindow,this._percentWindow=c.percentWindow,b(this),f(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,f(this,!0))},filterData:function(h){function s(a){return a>=u[0]&&a<=u[1]}if(h===this._dataZoomModel){var d=this._dimName,A=this.getTargetSeriesModels(),c=h.get("filterMode"),u=this._valueWindow;if("none"!==c){var l=this.getOtherAxisModel();h.get("$fromToolbox")&&l&&"category"===l.get("type")&&(c="empty"),v(A,function(a){var i=a.getData(),e=a.coordDimToDataDim(d);"weakFilter"===c?i&&i.filterSelf(function(F){for(var B,o,D,G=0;G<e.length;G++){var n=i.get(e[G],F),E=!isNaN(n),C=n<u[0],r=n>u[1];if(E&&!C&&!r){return !0}E&&(D=!0),C&&(B=!0),r&&(o=!0)}return D&&B&&o}):i&&v(e,function(n){"empty"===c?a.setData(i.map(n,function(o){return s(o)?o:NaN})):i.filterSelf(n,s)})})}}}},y.exports=q},function(b,c,a){b.exports=a(46).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}})},function(m,h,g){var d=g(47),j=g(1),c=g(56),b=g(205),p=j.bind,f=d.extend({type:"dataZoom.inside",init:function(a,i){this._range},render:function(l,o,a,q){f.superApply(this,"render",arguments),b.shouldRecordRange(q,l.id)&&(this._range=l.getPercentRange()),j.each(this.getTargetCoordInfo(),function(i,s){var r=j.map(i,function(e){return b.generateCoordId(e.model)});j.each(i,function(u){var t=u.model,n=l.option;b.register(a,{coordId:b.generateCoordId(t),allCoordIds:r,containsPoint:function(w,x,v){return t.coordinateSystem.containPoint([x,v])},dataZoomId:l.id,throttleRate:l.get("throttle",!0),panGetRange:p(this._onPan,this,u,s),zoomGetRange:p(this._onZoom,this,u,s),zoomLock:n.zoomLock,disabled:n.disabled,roamControllerOpt:{zoomOnMouseWheel:n.zoomOnMouseWheel,moveOnMouseMove:n.moveOnMouseMove,preventDefaultMouseMove:n.preventDefaultMouseMove}})},this)},this)},dispose:function(){b.unregister(this.api,this.dataZoomModel.id),f.superApply(this,"dispose",arguments),this._range=null},_onPan:function(D,z,w,u,C,o,E,v,B){var x=this._range.slice(),A=D.axisModels[0];if(A){var y=k[z]([o,E],[v,B],A,w,D),q=y.signal*(x[1]-x[0])*y.pixel/y.pixelLength;return c(q,x,[0,100],"all"),this._range=x}},_onZoom:function(B,x,v,q,A,o){var C=this._range.slice(),u=B.axisModels[0];if(u){var z=k[x](null,[A,o],u,v,B),w=(z.pixel-z.pixelStart)/z.pixelLength*(C[1]-C[0])+C[0];q=Math.max(1/q,0),C[0]=(C[0]-w)*q+w,C[1]=(C[1]-w)*q+w;var y=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return c(0,C,[0,100],0,y.minSpan,y.maxSpan),this._range=C}}}),k={grid:function(u,x,q,z,l){var y=q.axis,w={},v=l.model.coordinateSystem.getRect();return u=u||[0,0],"x"===y.dim?(w.pixel=x[0]-u[0],w.pixelLength=v.width,w.pixelStart=v.x,w.signal=y.inverse?1:-1):(w.pixel=x[1]-u[1],w.pixelLength=v.height,w.pixelStart=v.y,w.signal=y.inverse?-1:1),w},polar:function(C,z,y,w,A){var v=y.axis,q={},D=A.model.coordinateSystem,x=D.getRadiusAxis().getExtent(),B=D.getAngleAxis().getExtent();return C=C?D.pointToCoord(C):[0,0],z=D.pointToCoord(z),"radiusAxis"===y.mainType?(q.pixel=z[0]-C[0],q.pixelLength=x[1]-x[0],q.pixelStart=x[0],q.signal=v.inverse?1:-1):(q.pixel=z[1]-C[1],q.pixelLength=B[1]-B[0],q.pixelStart=B[0],q.signal=v.inverse?-1:1),q},singleAxis:function(u,x,q,z,l){var y=q.axis,w=l.model.coordinateSystem.getRect(),v={};return u=u||[0,0],"horizontal"===y.orient?(v.pixel=x[0]-u[0],v.pixelLength=w.width,v.pixelStart=w.x,v.signal=y.inverse?1:-1):(v.pixel=x[1]-u[1],v.pixelLength=w.height,v.pixelStart=w.y,v.signal=y.inverse?-1:1),v}};m.exports=f},function(b,c,a){var d=a(46);b.exports=d.extend({type:"dataZoom.select"})},function(b,c,a){b.exports=a(47).extend({type:"dataZoom.select"})},function(d,f,c){var g=c(46),b=g.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:0.5,opacity:0.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:0.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});d.exports=b},function(D,Q,L){function I(a){var b={x:"y",y:"x",radius:"angle",angle:"radius"};return b[a]}var V=L(1),H=L(3),F=L(37),E=L(47),K=H.Rect,C=L(4),T=C.linearMap,N=L(12),R=L(56),P=L(21),G=C.asc,O=V.bind,J=V.each,B=7,q=1,z=30,W="horizontal",U="vertical",A=5,j=["line","bar","candlestick","scatter"],k=E.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=b},render:function(b,c,a,d){return k.superApply(this,"render",arguments),F.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=b.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),void this._updateView())},remove:function(){k.superApply(this,"remove",arguments),F.clear(this,"_dispatchZoomAction")},dispose:function(){k.superApply(this,"dispose",arguments),F.clear(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll(),this._resetLocation(),this._resetInterval();var b=this._displayables.barGroup=new H.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},_resetLocation:function(){var b=this.dataZoomModel,f=this.api,a=this._findCoordRect(),h={width:f.getWidth(),height:f.getHeight()},g=this._orient===W?{right:h.width-a.x-a.width,top:h.height-z-B,width:a.width,height:z}:{right:B,top:a.y,width:z,height:a.height},d=N.getLayoutParams(b.option);V.each(["right","top","width","height"],function(e){"ph"===d[e]&&(d[e]=g[e])});var c=N.getLayoutRect(d,h,b.padding);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===U&&this._size.reverse()},_positionGroup:function(){var d=this.group,h=this._location,c=this._orient,m=this.dataZoomModel.getFirstTargetAxisModel(),b=m&&m.get("inverse"),l=this._displayables.barGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(c!==W||b?c===W&&b?{scale:g?[-1,1]:[-1,-1]}:c!==U||b?{scale:g?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:g?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:g?[1,1]:[1,-1]});var f=d.getBoundingRect([l]);d.attr("position",[h.x-f.x,h.y-f.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var b=this.dataZoomModel,c=this._size,a=this._displayables.barGroup;a.add(new K({silent:!0,shape:{x:0,y:0,width:c[0],height:c[1]},style:{fill:b.get("backgroundColor")},z2:-40})),a.add(new K({shape:{x:0,y:0,width:c[0],height:c[1]},style:{fill:"transparent"},z2:0,onclick:V.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var ad=this._dataShadowInfo=this._prepareDataShadowInfo();if(ad){var Y=this._size,x=ad.series,c=x.getRawData(),a=x.getShadowDim?x.getShadowDim():ad.otherDim;if(null!=a){var ae=c.getDataExtent(a),w=0.3*(ae[1]-ae[0]);ae=[ae[0]-w,ae[1]+w];var ac,M=[0,Y[1]],Z=[0,Y[0]],X=[[Y[0],0],[0,0]],b=[],S=Z[1]/(c.count()-1),o=0,ab=Math.round(c.count()/Y[0]);c.each([a],function(f,g){if(ab>0&&g%ab){return void (o+=S)}var d=null==f||isNaN(f)||""===f,h=d?0:T(f,ae,M,!0);d&&!ac&&g?(X.push([X[X.length-1][0],0]),b.push([b[b.length-1][0],0])):!d&&ac&&(X.push([o,0]),b.push([o,0])),X.push([o,h]),b.push([o,h]),o+=S,ac=d});var aa=this.dataZoomModel;this._displayables.barGroup.add(new H.Polygon({shape:{points:X},style:V.defaults({fill:aa.get("dataBackgroundColor")},aa.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new H.Polyline({shape:{points:b},style:aa.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var b=this.dataZoomModel,c=b.get("showDataShadow");if(c!==!1){var a,d=this.ecModel;return b.eachTargetAxis(function(g,f){var e=b.getAxisProxy(g.name,f).getTargetSeriesModels();V.each(e,function(n){if(!(a||c!==!0&&V.indexOf(j,n.get("type"))<0)){var i,m=d.getComponent(g.axis,f).axis,p=I(g.name),o=n.coordinateSystem;null!=p&&o.getOtherAxis&&(i=o.getOtherAxis(m).inverse),a={thisAxis:m,series:n,thisDim:g.name,otherDim:p,otherAxisInverse:i}}},this)},this),a}},_renderHandle:function(){var d=this._displayables,h=d.handles=[],c=d.handleLabels=[],l=this._displayables.barGroup,b=this._size,g=this.dataZoomModel;l.add(d.filler=new K({draggable:!0,cursor:"move",drift:O(this._onDragMove,this,"all"),onmousemove:function(a){P.stop(a.event)},ondragstart:O(this._showDataInfo,this,!0),ondragend:O(this._onDragEnd,this),onmouseover:O(this._showDataInfo,this,!0),onmouseout:O(this._showDataInfo,this,!1),style:{fill:g.get("fillerColor"),textPosition:"inside"}})),l.add(new K(H.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{stroke:g.get("dataBackgroundColor")||g.get("borderColor"),lineWidth:q,fill:"rgba(0,0,0,0)"}})));var f=g.get("handleIcon");J([0,1],function(m){var i={style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:O(this._onDragMove,this,m),onmousemove:function(a){P.stop(a.event)},ondragend:O(this._onDragEnd,this),onmouseover:O(this._showDataInfo,this,!0),onmouseout:O(this._showDataInfo,this,!1)},e={x:-1,y:0,width:2,height:2},s=0===f.indexOf("image://")?(e.image=f.slice(8),i.style=e,new H.Image(i)):H.makePath(f.replace("path://",""),i,e,"center"),n=s.getBoundingRect();this._handleHeight=C.parsePercent(g.get("handleSize"),this._size[1]),this._handleWidth=n.width/n.height*this._handleHeight,s.setStyle(g.getModel("handleStyle").getItemStyle());var r=g.get("handleColor");null!=r&&(s.style.fill=r),l.add(h[m]=s);var o=g.textStyleModel;this.group.add(c[m]=new H.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:o.getTextColor(),textFont:o.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[T(a[0],[0,100],b,!0),T(a[1],[0,100],b,!0)]},_updateInterval:function(d,g){var c=this.dataZoomModel,l=this._handleEnds,b=this._getViewExtent(),h=c.findRepresentativeAxisProxy().getMinMaxSpan(),f=[0,100];R(g,l,b,c.get("zoomLock")?"all":d,null!=h.minSpan?T(h.minSpan,f,b,!0):null,null!=h.maxSpan?T(h.maxSpan,f,b,!0):null),this._range=G([T(l[0],b,f,!0),T(l[1],b,f,!0)])},_updateView:function(d){var f=this._displayables,c=this._handleEnds,g=G(c.slice()),b=this._size;J([0,1],function(a){var h=f.handles[a],e=this._handleHeight;h.attr({scale:[e/2,e/2],position:[c[a],b[1]/2-e/2]})},this),f.filler.setShape({x:g[0],y:0,width:g[1]-g[0],height:b[1]}),this._updateDataInfo(d)},_updateDataInfo:function(M){function p(h){var n=H.getTransform(f.handles[h].parent,this.group),d=H.transformDirection(0===h?"right":"left",n),a=this._handleWidth/2+A,c=H.applyTransform([v[h]+(0===h?-a:a),this._size[1]/2],n);x[h].setStyle({x:c[0],y:c[1],textVerticalAlign:b===W?"middle":d,textAlign:b===W?d:"center",text:S[h]})}var m=this.dataZoomModel,f=this._displayables,x=f.handleLabels,b=this._orient,S=["",""];if(m.get("showDetail")){var g=m.findRepresentativeAxisProxy();if(g){var y=g.getAxisModel().axis,w=this._range,o=M?g.calculateDataWindow({start:w[0],end:w[1]}).valueWindow:g.getDataValueWindow();S=[this._formatLabel(o[0],y),this._formatLabel(o[1],y)]}}var v=G(this._handleEnds.slice());p.call(this,0),p.call(this,1)},_formatLabel:function(b,d){var a=this.dataZoomModel,g=a.get("labelFormatter"),f=a.get("labelPrecision");null!=f&&"auto"!==f||(f=d.getPixelPrecision());var c=null==b||isNaN(b)?"":"category"===d.type||"time"===d.type?d.scale.getLabel(Math.round(b)):b.toFixed(Math.min(f,20));return V.isFunction(g)?g(b,c):V.isString(g)?g.replace("{value}",c):c},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a),b[1].attr("invisible",!a)},_onDragMove:function(d,g,c){this._dragging=!0;var h=this._displayables.barGroup.getLocalTransform(),b=H.applyTransform([g,c],h,!0);this._updateInterval(d,b[0]);var f=this.dataZoomModel.get("realtime");this._updateView(!f),f&&f&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_onClickPanelClick:function(d){var f=this._size,c=this._displayables.barGroup.transformCoordToLocal(d.offsetX,d.offsetY);if(!(c[0]<0||c[0]>f[0]||c[1]<0||c[1]>f[1])){var g=this._handleEnds,b=(g[0]+g[1])/2;this._updateInterval("all",c[0]-b),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var b;if(J(this.getTargetCoordInfo(),function(f){if(!b&&f.length){var d=f[0].model.coordinateSystem;b=d.getRect&&d.getRect()}}),!b){var c=this.api.getWidth(),a=this.api.getHeight();b={x:0.2*c,y:0.2*a,width:0.6*c,height:0.6*a}}return b}});D.exports=k},function(E,z,v){function m(a){var c=a.getZr();return c[j]||(c[j]={})}function C(c,d){var a=new w(c.getZr());return a.on("pan",y(b,d)),a.on("zoom",y(F,d)),a}function k(a){B.each(a,function(d,c){d.count||(d.controller.dispose(),delete a[c])})}function b(f,h,d,p,c,l,g){q(f,function(a){return a.panGetRange(f.controller,h,d,p,c,l,g)})}function F(c,d,a,f){q(c,function(e){return e.zoomGetRange(c.controller,d,a,f)})}function q(c,d){var a=[];B.each(c.dataZoomInfos,function(e){var f=d(e);f&&a.push({dataZoomId:e.dataZoomId,start:f[0],end:f[1]})}),c.dispatchAction(a)}function D(a,c){a.dispatchAction({type:"dataZoom",batch:c})}var B=v(1),w=v(95),A=v(37),y=B.curry,j="\0_ec_dataZoom_roams",x={register:function(d,h){var c=m(d),g=h.dataZoomId,f=h.coordId;B.each(c,function(l,e){var o=l.dataZoomInfos;o[g]&&B.indexOf(h.allCoordIds,f)<0&&(delete o[g],l.count--)}),k(c);var a=c[f];a||(a=c[f]={coordId:f,dataZoomInfos:{},count:0},a.controller=C(d,a),a.dispatchAction=B.curry(D,d)),a.controller.enable(!h.disabled&&(!h.zoomLock||"move"),h.roamControllerOpt),a.controller.setPointerChecker(h.containsPoint),A.createOrUpdate(a,"dispatchAction",h.throttleRate,"fixRate"),!a.dataZoomInfos[g]&&a.count++,a.dataZoomInfos[g]=h},unregister:function(c,d){var a=m(c);B.each(a,function(f){f.controller.dispose();var e=f.dataZoomInfos;e[d]&&(delete e[d],f.count--)}),k(a)},shouldRecordRange:function(c,d){if(c&&"dataZoom"===c.type&&c.batch){for(var a=0,f=c.batch.length;a<f;a++){if(c.batch[a].dataZoomId===d){return !1}}}return !0},generateCoordId:function(a){return a.type+"\0_"+a.id}};E.exports=x},function(b,c,a){a(126),a(46),a(47),a(201),a(202),a(124),a(123)},function(E,z,v){function m(f,h,d,p){var c=d.type,l=y[c.charAt(0).toUpperCase()+c.slice(1)],g=new l(d);h.add(g),p.set(f,g),g.__ecGraphicId=f}function C(c,d){var a=c&&c.parent;a&&("group"===c.type&&c.traverse(function(e){C(e,d)}),d.removeKey(c.__ecGraphicId),a.remove(c))}function k(a){return a=w.extend({},a),w.each(["id","parentId","$action","hv","bounding"].concat(j.LOCATION_PARAMS),function(c){delete a[c]}),a}function b(c,d){var a;return w.each(d,function(f){null!=c[f]&&"auto"!==c[f]&&(a=!0)}),a}function F(c,d){var a=c.exist;if(d.id=c.keyInfo.id,!d.type&&a&&(d.type=a.type),null==d.parentId){var f=d.parentOption;f?d.parentId=f.id:a&&(d.parentId=a.parentId)}d.parentOption=null}function q(f,g,d){var l=w.extend({},d),c=f[g],h=d.$action||"merge";if("merge"===h){if(c){w.merge(c,l,!0),j.mergeLayoutParam(c,l,{ignoreSize:!0}),j.copyLayoutParams(d,c)}else{f[g]=l}}else{"replace"===h?f[g]=l:"remove"===h&&c&&(f[g]=null)}}function D(a,c){a&&(a.hv=c.hv=[b(c,["left","right"]),b(c,["top","bottom"])],"group"===a.type&&(null==a.width&&(a.width=c.width=0),null==a.height&&(a.height=c.height=0)))}var B=v(2),w=v(1),A=v(5),y=v(3),j=v(12);B.registerPreprocessor(function(a){var c=a.graphic;w.isArray(c)?c[0]&&c[0].elements?a.graphic=[a.graphic[0]]:a.graphic=[{elements:c}]:c&&!c.elements&&(a.graphic=[{elements:[c]}])});var x=B.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(a){var c=this.option.elements;this.option.elements=null,x.superApply(this,"mergeOption",arguments),this.option.elements=c},optionUpdated:function(H,s){var l=this.option,h=(s?l:H).elements,G=l.elements=s?[]:l.elements,g=[];this._flatten(h,g);var d=A.mappingToExists(G,g);A.makeIdAndName(d);var u=this._elOptionsToUpdate=[];w.each(d,function(c,f){var a=c.option;a&&(u.push(a),F(c,a),q(G,f,a),D(G[f],a))},this);for(var p=G.length-1;p>=0;p--){null==G[p]?G.splice(p,1):delete G[p].$action}},_flatten:function(c,d,a){w.each(c,function(e){if(e){a&&(e.parentOption=a),d.push(e);var f=e.children;"group"===e.type&&f&&this._flatten(f,d,e),delete e.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a}});B.extendComponentView({type:"graphic",init:function(a,c){this._elMap=w.createHashMap(),this._lastGraphicModel},render:function(c,d,a){c!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=c,this._updateElements(c,a),this._relocate(c,a)},_updateElements:function(c,g){var a=c.useElOptionsToUpdate();if(a){var f=this._elMap,d=this.group;w.each(a,function(p){var s=p.$action,o=p.id,h=f.get(o),n=p.parentId,H=null!=n?f.get(n):d;p.hv&&p.hv[1]&&"text"===p.type&&(p.style=w.defaults({textBaseline:"middle"},p.style),p.style.textVerticalAlign=null);var G=k(p);s&&"merge"!==s?"replace"===s?(C(h,f),m(o,H,G,f)):"remove"===s&&C(h,f):h?h.attr(G):m(o,H,G,f);var r=f.get(o);r&&(r.__ecGraphicWidth=p.width,r.__ecGraphicHeight=p.height)})}},_relocate:function(I,p){for(var h=I.option.elements,f=this.group,G=this._elMap,d=h.length-1;d>=0;d--){var c=h[d],J=G.get(c.id);if(J){var g=J.parent,H=g===f?{width:p.getWidth(),height:p.getHeight()}:{width:g.__ecGraphicWidth||0,height:g.__ecGraphicHeight||0};j.positionElement(J,c,H,null,{hv:c.hv,boundingMode:c.bounding})}}},_clear:function(){var a=this._elMap;a.each(function(c){C(c,a)}),this._elMap=w.createHashMap()},dispose:function(){this._clear()}})},function(b,c,a){a(32),a(120),a(55)},function(b,c,a){a(210),a(212),a(211);var d=a(2);d.registerProcessor(a(213))},function(d,f,c){var h=c(1),b=c(10),g=c(2).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(j,k,a){this.mergeDefaultAndTheme(j,a),j.selected=j.selected||{}},mergeOption:function(a){g.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var j=this._data;if(j[0]&&"single"===this.get("selectedMode")){for(var k=!1,a=0;a<j.length;a++){var l=j[a].get("name");if(this.isSelected(l)){this.select(l),k=!0;break}}!k&&this.select(j[0].get("name"))}},_updateData:function(j){var k=h.map(this.get("data")||[],function(e){return"string"!=typeof e&&"number"!=typeof e||(e={name:e}),new b(e,this,this.ecModel)},this);this._data=k;var a=h.map(j.getSeries(),function(e){return e.name});j.eachSeries(function(i){if(i.legendDataProvider){var l=i.legendDataProvider();a=a.concat(l.mapArray(l.getName))}}),this._availableNames=a},getData:function(){return this._data},select:function(l){var m=this.option.selected,k=this.get("selectedMode");if("single"===k){var j=this._data;h.each(j,function(a){m[a.get("name")]=!1})}m[l]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var i=this.option.selected;i.hasOwnProperty(a)||(i[a]=!0),this[i[a]?"unSelect":"select"](a)},isSelected:function(a){var i=this.option.selected;return !(i.hasOwnProperty(a)&&!i[a])&&h.indexOf(this._availableNames,a)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});d.exports=g},function(q,j,h){function f(a,c){c.dispatchAction({type:"legendToggleSelect",name:a})}function m(c,l,a){var o=a.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||c.get("legendHoverLink")&&a.dispatchAction({type:"highlight",seriesName:c.name,name:l})}function d(c,l,a){var o=a.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||c.get("legendHoverLink")&&a.dispatchAction({type:"downplay",seriesName:c.name,name:l})}var b=h(1),v=h(24),g=h(3),p=h(130),k=b.curry;q.exports=h(2).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(c,r,a){var n=this.group;if(n.removeAll(),c.get("show")){var l=c.get("selectedMode"),u=c.get("align");"auto"===u&&(u="right"===c.get("left")&&"vertical"===c.get("orient")?"right":"left");var o=b.createHashMap();b.each(c.getData(),function(z){var t=z.get("name");if(""===t||"\n"===t){return void n.add(new g.Group({newline:!0}))}var A=r.getSeriesByName(t)[0];if(!o.get(t)){if(A){var w=A.getData(),i=w.getVisual("color");"function"==typeof i&&(i=i(A.getDataParams(0)));var s=w.getVisual("legendSymbol")||"roundRect",B=w.getVisual("symbol"),e=this._createItem(t,z,c,s,B,u,i,l);e.on("click",k(f,t,a)).on("mouseover",k(m,A,null,a)).on("mouseout",k(d,A,null,a)),o.set(t,!0)}else{r.eachRawSeries(function(F){if(!o.get(t)&&F.legendDataProvider){var C=F.legendDataProvider(),y=C.indexOfName(t);if(y<0){return}var E=C.getItemVisual(y,"color"),D="roundRect",x=this._createItem(t,z,c,D,null,u,E,l);x.on("click",k(f,t,a)).on("mouseover",k(m,F,t,a)).on("mouseout",k(d,F,t,a)),o.set(t,!0)}},this)}}},this),p.layout(n,c,a),p.addBackground(n,c)}},_createItem:function(F,Q,L,J,W,H,E,U){var N=L.get("itemWidth"),R=L.get("itemHeight"),P=L.get("inactiveColor"),G=L.isSelected(F),O=new g.Group,K=Q.getModel("textStyle"),D=Q.get("icon"),z=Q.getModel("tooltip"),B=z.parentModel;if(J=D||J,O.add(v.createSymbol(J,0,0,N,R,G?E:P)),!D&&W&&(W!==J||"none"==W)){var X=0.8*R;"none"===W&&(W="circle"),O.add(v.createSymbol(W,(N-X)/2,(R-X)/2,X,X,G?E:P))}var V="left"===H?N+5:-5,C=H,r=L.get("formatter"),s=F;"string"==typeof r&&r?s=r.replace("{name}",null!=F?F:""):"function"==typeof r&&(s=r(F));var A=new g.Text({style:{text:s,x:V,y:R/2,fill:G?K.getTextColor():P,textFont:K.getFont(),textAlign:C,textVerticalAlign:"middle"}});O.add(A);var l=new g.Rect({shape:O.getBoundingRect(),invisible:!0,tooltip:z.get("show")?b.extend({content:F,formatter:B.get("formatter",!0)||function(){return F},formatterParams:{componentType:"legend",legendIndex:L.componentIndex,name:F,$vars:["name"]}},z.option):null});return O.add(l),O.eachChild(function(a){a.silent=!0}),l.silent=!U,this.group.add(O),g.setHoverStyle(O),O}})},function(d,f,c){function h(l,o,k){var p,j={},m="toggleSelected"===l;return k.eachComponent("legend",function(a){m&&null!=p?a[p?"select":"unSelect"](o.name):(a[l](o.name),p=a.isSelected(o.name));var e=a.getData();g.each(e,function(i){var q=i.get("name");if("\n"!==q&&""!==q){var r=a.isSelected(q);j.hasOwnProperty(q)?j[q]=j[q]&&r:j[q]=r}})}),{name:o.name,selected:j}}var b=c(2),g=c(1);b.registerAction("legendToggleSelect","legendselectchanged",g.curry(h,"toggleSelected")),b.registerAction("legendSelect","legendselected",g.curry(h,"select")),b.registerAction("legendUnSelect","legendunselected",g.curry(h,"unSelect"))},function(a,b){a.exports=function(c){var d=c.findComponents({mainType:"legend"});d&&d.length&&c.filterSeries(function(f){for(var e=0;e<d.length;e++){if(!d[e].isSelected(f.name)){return !1}}return !0})}},function(b,c,a){a(217),a(218),a(2).registerPreprocessor(function(d){d.markArea=d.markArea||{}})},function(b,c,a){a(219),a(220),a(2).registerPreprocessor(function(d){d.markLine=d.markLine||{}})},function(b,c,a){a(221),a(222),a(2).registerPreprocessor(function(d){d.markPoint=d.markPoint||{}})},function(b,c,a){b.exports=a(79).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(E,z,v){function m(a){return !isNaN(a)&&!isFinite(a)}function C(f,g,d,c){var h=1-f;return m(g[h])&&m(d[h])}function k(c,d){var a=d.coord[0],f=d.coord[1];return !("cartesian2d"!==c.type||!a||!f||!C(1,a,f,c)&&!C(0,a,f,c))||(y.dataFilter(c,{coord:a,x:d.x0,y:d.y0})||y.dataFilter(c,{coord:f,x:d.x1,y:d.y1}))}function b(Q,M,I,O,G){var c,R=O.coordinateSystem,H=Q.getItemModel(M),P=B.parsePercent(H.get(I[0]),G.getWidth()),J=B.parsePercent(H.get(I[1]),G.getHeight());if(isNaN(P)||isNaN(J)){if(O.getMarkerPosition){c=O.getMarkerPosition(Q.getValues(I,M))}else{var N=Q.get(I[0],M),L=Q.get(I[1],M);c=R.dataToPoint([N,L],!0)}if("cartesian2d"===R.type){var n=R.getAxis("x"),K=R.getAxis("y"),N=Q.get(I[0],M),L=Q.get(I[1],M);m(N)?c[0]=n.toGlobalCoord(n.getExtent()["x0"===I[0]?0:1]):m(L)&&(c[1]=K.toGlobalCoord(K.getExtent()["y0"===I[1]?0:1]))}isNaN(P)||(c[0]=P),isNaN(J)||(c[1]=J)}else{c=[P,J]}return c}function F(g,o,f){var u,d,l=["x0","y0","x1","y1"];g?(u=q.map(g&&g.dimensions,function(c){var a=o.getData().getDimensionInfo(o.coordDimToDataDim(c)[0])||{};return a.name=c,a}),d=new D(q.map(l,function(a,c){return{name:a,type:u[c%2].type}}),f)):(u=[{name:"value",type:"float"}],d=new D(u,f));var h=q.map(f.get("data"),q.curry(j,o,g,f));g&&(h=q.filter(h,q.curry(k,g)));var p=g?function(c,r,a,s){return c.coord[Math.floor(s/2)][s%2]}:function(a){return a.value};return d.initData(h,null,p),d.hasItemOption=!0,d}var q=v(1),D=v(14),B=v(4),w=v(3),A=v(22),y=v(81),j=function(I,l,h,g){var G=y.dataTransform(I,g[0]),f=y.dataTransform(I,g[1]),d=q.retrieve,J=G.coord,H=f.coord;J[0]=d(J[0],-(1/0)),J[1]=d(J[1],-(1/0)),H[0]=d(H[0],1/0),H[1]=d(H[1],1/0);var p=q.mergeAll([{},G,f]);return p.coord=[G.coord,f.coord],p.x0=G.x,p.y0=G.y,p.x1=f.x,p.y1=f.y,p},x=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];v(80).extend({type:"markArea",updateLayout:function(c,d,a){d.eachSeries(function(f){var g=f.markAreaModel;if(g){var h=g.getData();h.each(function(l){var i=q.map(x,function(e){return b(h,l,e,f,a)});h.setItemLayout(l,i);var n=h.getItemGraphicEl(l);n.setShape("points",i)})}},this)},renderSeries:function(J,s,l,h){var H=J.coordinateSystem,g=J.name,I=J.getData(),G=this.markerGroupMap,r=G.get(g)||G.set(g,{group:new w.Group});this.group.add(r.group),r.__keep=!0;var d=F(H,J,s);s.setData(d),d.each(function(a){d.setItemLayout(a,q.map(x,function(c){return b(d,a,c,J,h)})),d.setItemVisual(a,{color:I.getVisual("color")})}),d.diff(r.__data).add(function(a){var c=new w.Polygon({shape:{points:d.getItemLayout(a)}});d.setItemGraphicEl(a,c),r.group.add(c)}).update(function(c,a){var e=r.__data.getItemGraphicEl(a);w.updateProps(e,{shape:{points:d.getItemLayout(c)}},s,c),r.group.add(e),d.setItemGraphicEl(c,e)}).remove(function(a){var c=r.__data.getItemGraphicEl(a);r.group.remove(c)}).execute(),d.eachItemGraphicEl(function(p,f){var N=d.getItemModel(f),c=N.getModel("label.normal"),M=N.getModel("label.emphasis"),L=d.getItemVisual(f,"color");p.useStyle(q.defaults(N.getModel("itemStyle.normal").getItemStyle(),{fill:A.modifyAlpha(L,0.4),stroke:L})),p.hoverStyle=N.getModel("itemStyle.normal").getItemStyle();var K=d.getName(f)||"",e=L||p.style.fill;c.getShallow("show")?(w.setText(p.style,c,e),p.style.text=q.retrieve(s.getFormattedLabel(f,"normal"),K)):p.style.text="",M.getShallow("show")?(w.setText(p.hoverStyle,M,e),p.hoverStyle.text=q.retrieve(s.getFormattedLabel(f,"emphasis"),K)):p.hoverStyle.text="",w.setHoverStyle(p,{}),p.dataModel=s}),r.__data=d,r.group.silent=s.get("silent")||J.get("silent")}})},function(b,c,a){b.exports=a(79).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(A,v,m){function j(a){return !isNaN(a)&&!isFinite(a)}function y(f,l,d,c){var n=1-f,h=c.dimensions[f];return j(l[n])&&j(d[n])&&l[f]===d[f]&&c.getAxis(h).containData(l[f])}function g(c,d){if("cartesian2d"===c.type){var a=d[0].coord,f=d[1].coord;if(a&&f&&(y(1,a,f,c)||y(0,a,f,c))){return !0}}return p.dataFilter(c,d[0])&&p.dataFilter(c,d[1])}function b(N,J,F,L,C){var c,O=L.coordinateSystem,E=N.getItemModel(J),M=x.parsePercent(E.get("x"),C.getWidth()),G=x.parsePercent(E.get("y"),C.getHeight());if(isNaN(M)||isNaN(G)){if(L.getMarkerPosition){c=L.getMarkerPosition(N.getValues(N.dimensions,J))}else{var K=O.dimensions,I=N.get(K[0],J),n=N.get(K[1],J);c=O.dataToPoint([I,n])}if("cartesian2d"===O.type){var H=O.getAxis("x"),D=O.getAxis("y"),K=O.dimensions;j(N.get(K[0],J))?c[0]=H.toGlobalCoord(H.getExtent()[F?0:1]):j(N.get(K[1],J))&&(c[1]=D.toGlobalCoord(D.getExtent()[F?0:1]))}isNaN(M)||(c[0]=M),isNaN(G)||(c[1]=G)}else{c=[M,G]}N.setItemLayout(J,c)}function B(E,o,l){var h;h=E?k.map(E&&E.dimensions,function(c){var a=o.getData().getDimensionInfo(o.coordDimToDataDim(c)[0])||{};return a.name=c,a}):[{name:"value",type:"float"}];var D=new z(h,l),f=new z(h,l),F=new z([],l),C=k.map(l.get("data"),k.curry(q,o,E,l));E&&(C=k.filter(C,k.curry(g,E)));var u=E?p.dimValueGetter:function(a){return a.value};return D.initData(k.map(C,function(a){return a[0]}),null,u),f.initData(k.map(C,function(a){return a[1]}),null,u),F.initData(k.map(C,function(a){return a[2]})),F.hasItemOption=!0,{from:D,to:f,line:F}}var k=m(1),z=m(14),x=m(4),p=m(81),w=m(107),q=function(N,I,F,D){var L=N.getData(),C=D.type;if(!k.isArray(D)&&("min"===C||"max"===C||"average"===C||null!=D.xAxis||null!=D.yAxis)){var h,O,M;if(null!=D.yAxis||null!=D.xAxis){O=null!=D.yAxis?"y":"x",h=I.getAxis(O),M=k.retrieve(D.yAxis,D.xAxis)}else{var K=p.getAxisInfo(D,L,I,N);O=K.valueDataDim,h=K.valueAxis,M=p.numCalculate(L,O,C)}var J="x"===O?0:1,H=1-J,l=k.clone(D),G={};l.type=null,l.coord=[],G.coord=[],l.coord[H]=-(1/0),G.coord[H]=1/0;var E=F.get("precision");E>=0&&"number"==typeof M&&(M=+M.toFixed(E)),l.coord[J]=G.coord[J]=M,D=[l,G,{type:C,valueIndex:D.valueIndex,value:M}]}return D=[p.dataTransform(N,D[0]),p.dataTransform(N,D[1]),k.extend({},D[2])],D[2].type=D[2].type||"",k.merge(D[2],D[0]),k.merge(D[2],D[1]),D};m(80).extend({type:"markLine",updateLayout:function(c,d,a){d.eachSeries(function(h){var i=h.markLineModel;if(i){var r=i.getData(),f=i.__from,l=i.__to;f.each(function(n){b(f,n,!0,h,a),b(l,n,!1,h,a)}),r.each(function(e){r.setItemLayout(e,[f.getItemLayout(e),l.getItemLayout(e)])}),this.markerGroupMap.get(h.name).updateLayout()}},this)},renderSeries:function(N,G,C,r){function K(h,f,c){var n=h.getItemModel(f);b(h,f,c,N,r),h.setItemVisual(f,{symbolSize:n.get("symbolSize")||J[c?0:1],symbol:n.get("symbol",!0)||I[c?0:1],color:n.get("itemStyle.normal.color")||H.getVisual("color")})}var l=N.coordinateSystem,M=N.name,H=N.getData(),D=this.markerGroupMap,F=D.get(M)||D.set(M,new w);this.group.add(F.group);var d=B(l,N,G),E=d.from,s=d.to,L=d.line;G.__from=E,G.__to=s,G.setData(L);var I=G.get("symbol"),J=G.get("symbolSize");k.isArray(I)||(I=[I,I]),"number"==typeof J&&(J=[J,J]),d.from.each(function(a){K(E,a,!0),K(s,a,!1)}),L.each(function(a){var c=L.getItemModel(a).get("lineStyle.normal.color");L.setItemVisual(a,{color:c||E.getItemVisual(a,"color")}),L.setItemLayout(a,[E.getItemLayout(a),s.getItemLayout(a)]),L.setItemVisual(a,{fromSymbolSize:E.getItemVisual(a,"symbolSize"),fromSymbol:E.getItemVisual(a,"symbol"),toSymbolSize:s.getItemVisual(a,"symbolSize"),toSymbol:s.getItemVisual(a,"symbol")})}),F.updateData(L),d.line.eachItemGraphicEl(function(c,a){c.traverse(function(e){e.dataModel=G})}),F.__keep=!0,F.group.silent=G.get("silent")||N.get("silent")}})},function(b,c,a){b.exports=a(79).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(m,h,g){function d(l,o,a){var q=o.coordinateSystem;l.each(function(i){var v,t=l.getItemModel(i),e=p.parsePercent(t.get("x"),a.getWidth()),n=p.parsePercent(t.get("y"),a.getHeight());if(isNaN(e)||isNaN(n)){if(o.getMarkerPosition){v=o.getMarkerPosition(l.getValues(l.dimensions,i))}else{if(q){var w=l.get(q.dimensions[0],i),s=l.get(q.dimensions[1],i);v=q.dataToPoint([w,s])}}}else{v=[e,n]}isNaN(e)||(v[0]=e),isNaN(n)||(v[1]=n),l.setItemLayout(i,v)})}function j(r,s,q){var v;v=r?b.map(r&&r.dimensions,function(e){var a=s.getData().getDimensionInfo(s.coordDimToDataDim(e)[0])||{};return a.name=e,a}):[{name:"value",type:"float"}];var l=new f(v,q),u=b.map(q.get("data"),b.curry(k.dataTransform,s));return r&&(u=b.filter(u,b.curry(k.dataFilter,r))),l.initData(u,null,r?k.dimValueGetter:function(a){return a.value}),l}var c=g(44),b=g(1),p=g(4),f=g(14),k=g(81);g(80).extend({type:"markPoint",updateLayout:function(l,n,a){n.eachSeries(function(i){var o=i.markPointModel;o&&(d(o.getData(),i,a),this.markerGroupMap.get(i.name).updateLayout(o))},this)},renderSeries:function(z,v,o,a){var A=z.coordinateSystem,n=z.name,y=z.getData(),x=this.markerGroupMap,q=x.get(n)||x.set(n,new c),w=j(A,z,v);v.setData(w),d(v.getData(),z,a),w.each(function(l){var e=w.getItemModel(l),r=e.getShallow("symbolSize");"function"==typeof r&&(r=r(v.getRawValue(l),v.getDataParams(l))),w.setItemVisual(l,{symbolSize:r,color:e.get("itemStyle.normal.color")||y.getVisual("color"),symbol:e.getShallow("symbol")})}),q.updateData(w),this.group.add(q.group),w.eachItemGraphicEl(function(e){e.traverse(function(i){i.dataModel=v})}),q.__keep=!0,q.group.silent=v.get("silent")||z.get("silent")}})},function(d,f,c){var h=c(2),b=c(3),g=c(12);h.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),h.extendComponentView({type:"title",render:function(z,K,G){if(this.group.removeAll(),z.get("show")){var D=this.group,B=z.getModel("textStyle"),A=z.getModel("subtextStyle"),F=z.get("textAlign"),q=z.get("textBaseline"),M=new b.Text({style:{text:z.get("text"),textFont:B.getFont(),fill:B.getTextColor()},z2:10}),H=M.getBoundingRect(),L=z.get("subtext"),J=new b.Text({style:{text:L,textFont:A.getFont(),fill:A.getTextColor(),y:H.height+z.get("itemGap"),textBaseline:"top"},z2:10}),C=z.get("link"),I=z.get("sublink");M.silent=!C,J.silent=!I,C&&M.on("click",function(){window.open(C,"_"+z.get("target"))}),I&&J.on("click",function(){window.open(I,"_"+z.get("subtarget"))}),D.add(M),L&&D.add(J);var E=D.getBoundingRect(),o=z.getBoxLayoutParams();o.width=E.width,o.height=E.height;var a=g.getLayoutRect(o,{width:G.getWidth(),height:G.getHeight()},z.get("padding"));F||(F=z.get("left")||z.get("right"),"middle"===F&&(F="center"),"right"===F?a.x+=a.width:"center"===F&&(a.x+=a.width/2)),q||(q=z.get("top")||z.get("bottom"),"center"===q&&(q="middle"),"bottom"===q?a.y+=a.height:"middle"===q&&(a.y+=a.height/2),q=q||"top"),D.attr("position",[a.x,a.y]);var j={textAlign:F,textVerticalAlign:q};M.setStyle(j),J.setStyle(j),E=D.getBoundingRect();var O=a.margin,N=z.getItemStyle(["color","opacity"]);N.fill=z.get("backgroundColor");var k=new b.Rect({shape:{x:E.x-O[3],y:E.y-O[0],width:E.width+O[1]+O[3],height:E.height+O[0]+O[2]},style:N,silent:!0});b.subPixelOptimizeRect(k),D.add(k)}}})},function(b,c,a){a(225),a(226),a(231),a(229),a(227),a(228),a(230)},function(d,f,c){var h=c(29),b=c(1),g=c(2).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(a){g.superApply(this,"mergeDefaultAndTheme",arguments),b.each(this.option.feature,function(k,l){var j=h.get(l);j&&b.merge(k,j.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});d.exports=g},function(b,c,a){(function(i){function g(e){return 0===e.indexOf("my")}var k=a(29),f=a(1),d=a(3),p=a(10),h=a(48),m=a(130),j=a(16);b.exports=a(2).extendComponentView({type:"toolbox",render:function(A,u,o,q){function w(D,y){var e,t=x[D],E=x[y],C=n[t],B=new p(C,A,A.ecModel);if(t&&!E){if(g(t)){e={model:B,onclick:B.option.onclick,featureName:t}}else{var v=k.get(t);if(!v){return}e=new v(B,u,o)}z[t]=e}else{if(e=z[E],!e){return}e.model=B,e.ecModel=u,e.api=o}return !t&&E?void (e.dispose&&e.dispose(u,o)):!B.get("show")||e.unusable?void (e.remove&&e.remove(u,o)):(s(B,e,t),B.setIconStatus=function(G,H){var F=this.option,I=this.iconPaths;F.iconStatus=F.iconStatus||{},F.iconStatus[G]=H,I[G]&&I[G].trigger(H)},void (e.render&&e.render(B,u,o,q)))}function s(e,D,F){var t=e.getModel("iconStyle"),E=D.getIcons?D.getIcons():e.get("icon"),C=e.get("title")||{};if("string"==typeof E){var v=E,B=C;E={},C={},E[F]=v,C[F]=B}var y=e.iconPaths={};f.each(E,function(K,I){var J=t.getModel("normal").getItemStyle(),L=t.getModel("emphasis").getItemStyle(),G={x:-r/2,y:-r/2,width:r,height:r},H=0===K.indexOf("image://")?(G.image=K.slice(8),new d.Image({style:G})):d.makePath(K.replace("path://",""),{style:J,hoverStyle:L,rectHover:!0},G,"center");d.setHoverStyle(H),A.get("showTitle")&&(H.__title=C[I],H.on("mouseover",function(){var M=t.getModel("emphasis").getItemStyle();H.setStyle({text:C[I],textPosition:M.textPosition||"bottom",textFill:M.fill||M.stroke||"#000",textAlign:M.textAlign||"center"})}).on("mouseout",function(){H.setStyle({textFill:null})})),H.trigger(e.get("iconStatus."+I)||"normal"),l.add(H),H.on("click",f.bind(D.onclick,D,u,o,I)),y[I]=H})}var l=this.group;if(l.removeAll(),A.get("show")){var r=+A.get("itemSize"),n=A.get("feature")||{},z=this._features||(this._features={}),x=[];f.each(n,function(v,y){x.push(y)}),new h(this._featureNames||[],x).add(w).update(w).remove(f.curry(w,null)).execute(),this._featureNames=x,m.layout(l,A,o),m.addBackground(l,A),l.eachChild(function(B){var E=B.__title,G=B.hoverStyle;if(G&&E){var y=j.getBoundingRect(E,G.font),F=B.position[0]+l.position[0],D=B.position[1]+l.position[1]+r,C=!1;D+y.height>o.getHeight()&&(G.textPosition="top",C=!0);var v=C?-5-y.height:r+8;F+y.width/2>o.getWidth()?(G.textPosition=["100%",v],G.textAlign="right"):F-y.width/2<0&&(G.textPosition=[0,v],G.textAlign="left")}})}},updateView:function(o,q,l,r){f.each(this._features,function(e){e.updateView&&e.updateView(e.model,q,l,r)})},updateLayout:function(o,q,l,r){f.each(this._features,function(e){e.updateLayout&&e.updateLayout(e.model,q,l,r)})},remove:function(l,n){f.each(this._features,function(e){e.remove&&e.remove(l,n)}),this.group.removeAll()},dispose:function(l,n){f.each(this._features,function(e){e.dispose&&e.dispose(l,n)})}})}).call(c,a(188))},function(q,I,E){function B(c){var d={},a=[],f=[];return c.eachRawSeries(function(g){var e=g.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type){a.push(g)}else{var i=e.getBaseAxis();if("category"===i.type){var h=i.dim+"_"+i.index;d[h]||(d[h]={categoryAxis:i,valueAxis:e.getOtherAxis(i),series:[]},f.push({axisDim:i.dim,axisIndex:i.index})),d[h].series.push(g)}else{a.push(g)}}}),{seriesGroupByCategoryAxis:d,other:a,meta:f}}function L(a){var c=[];return z.each(a,function(N,m){var f=N.categoryAxis,y=N.valueAxis,e=y.dim,d=[" "].concat(z.map(N.series,function(h){return h.name})),O=[f.model.getCategories()];z.each(N.series,function(h){O.push(h.getRawData().mapArray(e,function(i){return i}))});for(var g=[d.join(j)],M=0;M<O[0].length;M++){for(var v=[],p=0;p<O.length;p++){v.push(O[p][M])}g.push(v.join(j))}c.push(g.join("\n"))}),c.join("\n\n"+C+"\n\n")}function A(a){return z.map(a,function(d){var f=d.getRawData(),c=[d.name],g=[];return f.each(f.dimensions,function(){for(var h=arguments.length,e=arguments[h-1],l=f.getName(e),i=0;i<h-1;i++){g[i]=arguments[i]}c.push((l?l+j:"")+g.join(j))}),c.join("\n")}).join("\n\n"+C+"\n\n")}function x(a){var c=B(a);return{value:z.filter([L(c.seriesGroupByCategoryAxis),A(c.other)],function(d){return d.replace(/[\n\t\s]/g,"")}).join("\n\n"+C+"\n\n"),meta:c.meta}}function w(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function D(a){var c=a.slice(0,a.indexOf("\n"));if(c.indexOf(j)>=0){return !0}}function k(g){for(var m=g.split(/\n+/g),f=w(m.shift()).split(b),s=[],d=z.map(f,function(a){return{name:a,data:[]}}),p=0;p<m.length;p++){var h=w(m[p]).split(b);s.push(h.shift());for(var c=0;c<h.length;c++){d[c]&&(d[c].data[p]=h[c])}}return{series:d,categories:s}}function K(M){for(var p=M.split(/\n+/g),m=w(p.shift()),g=[],v=0;v<p.length;v++){var f,d=w(p[v]).split(b),h="",y=!1;isNaN(d[0])?(y=!0,h=d[0],d=d.slice(1),g[v]={name:h,value:[]},f=g[v].value):f=g[v]=[];for(var s=0;s<d.length;s++){f.push(+d[s])}1===f.length&&(y?g[v].value=f[0]:g[v]=f[0])}return{name:m,data:g}}function F(c,d){var a=c.split(new RegExp("\n*"+C+"\n*","g")),f={series:[]};return z.each(a,function(h,g){if(D(h)){var e=k(h),m=d[g],l=m.axisDim+"Axis";m&&(f[l]=f[l]||[],f[l][m.axisIndex]={data:e.categories},f.series=f.series.concat(e.series))}else{var e=K(h);f.series.push(e)}}),f}function J(a){this._dom=null,this.model=a}function H(a,c){return z.map(a,function(e,d){var f=c&&c[d];return z.isObject(f)&&!z.isArray(f)?(z.isObject(e)&&!z.isArray(e)&&(e=e.value),z.defaults({value:e},f)):e})}var z=E(1),G=E(21),C=new Array(60).join("-"),j="\t",b=new RegExp("["+j+"]+","g");J.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"数据视图",lang:["数据视图","关闭","刷新"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},J.prototype.onclick=function(O,X){function V(){R.removeChild(Q),h._dom=null}var R=X.getDom(),ab=this.model;this._dom&&R.removeChild(this._dom);var Q=document.createElement("div");Q.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",Q.style.backgroundColor=ab.get("backgroundColor")||"#fff";var P=document.createElement("h4"),U=ab.get("lang")||[];P.innerHTML=U[0]||ab.get("title"),P.style.cssText="margin: 10px 20px;",P.style.color=ab.get("textColor");var N=document.createElement("div"),Z=document.createElement("textarea");N.style.cssText="display:block;width:100%;overflow:auto;";var Y=ab.get("optionToContent"),W=ab.get("contentToOption"),T=x(O);if("function"==typeof Y){var p=Y(X.getOption());"string"==typeof p?N.innerHTML=p:z.isDom(p)&&N.appendChild(p)}else{N.appendChild(Z),Z.readOnly=ab.get("readOnly"),Z.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",Z.style.color=ab.get("textColor"),Z.style.borderColor=ab.get("textareaBorderColor"),Z.style.backgroundColor=ab.get("textareaColor"),Z.value=T.value}var r=T.meta,ac=document.createElement("div");ac.style.cssText="position:absolute;bottom:0;left:0;right:0;";var aa="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),g=document.createElement("div");aa+=";background-color:"+ab.get("buttonColor"),aa+=";color:"+ab.get("buttonTextColor");var h=this;G.addEventListener(v,"click",V),G.addEventListener(g,"click",function(){var a;try{a="function"==typeof W?W(N,X.getOption()):F(Z.value,r)}catch(c){throw V(),new Error("Data view format error "+c)}a&&X.dispatchAction({type:"changeDataView",newOption:a}),V()}),v.innerHTML=U[1],g.innerHTML=U[2],g.style.cssText=aa,v.style.cssText=aa,!ab.get("readOnly")&&ac.appendChild(g),ac.appendChild(v),G.addEventListener(Z,"keydown",function(c){if(9===(c.keyCode||c.which)){var d=this.value,a=this.selectionStart,f=this.selectionEnd;this.value=d.substring(0,a)+j+d.substring(f),this.selectionStart=this.selectionEnd=a+1,G.stop(c)}}),Q.appendChild(P),Q.appendChild(N),Q.appendChild(ac),N.style.height=R.clientHeight-80+"px",R.appendChild(Q),this._dom=Q},J.prototype.remove=function(a,c){this._dom&&c.getDom().removeChild(this._dom)},J.prototype.dispose=function(a,c){this.remove(a,c)},E(29).register("dataView",J),E(2).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(c,d){var a=[];z.each(c.newOption.series,function(f){var g=d.getSeriesByName(f.name)[0];if(g){var e=g.get("data");a.push({name:f.name,data:H(f.data,e)})}else{a.push(z.extend({type:"scatter"},f))}}),d.mergeOption(z.defaults({series:a},c.newOption))}),q.exports=J},function(E,z,v){function m(c,d,a){(this._brushController=new q(a.getZr())).on("brush",F.bind(this._onBrush,this)).mount(),this._isZoomActive}function C(a){var c={};return F.each(["xAxisIndex","yAxisIndex"],function(d){c[d]=a[d],null==c[d]&&(c[d]="all"),(c[d]===!1||"none"===c[d])&&(c[d]=[])}),c}function k(a,c){a.setIconStatus("back",B.count(c)>1?"emphasis":"normal")}function b(c,g,a,l,h){var f=a._isZoomActive;l&&"takeGlobalCursor"===l.type&&(f="dataZoomSelect"===l.key&&l.dataZoomSelectActive),a._isZoomActive=f,c.setIconStatus("zoom",f?"emphasis":"normal");var d=new D(C(c.option),g,{include:["grid"]});a._brushController.setPanels(d.makePanelOpts(h,function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"})).enableBrush(!!f&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}var F=v(1),q=v(127),D=v(184),B=v(125),w=v(56),A=F.each;v(206);var y="\0_ec_\0toolbox-dataZoom_";m.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"区域缩放",back:"区域缩放还原"}};var j=m.prototype;j.render=function(c,d,a,f){this.model=c,this.ecModel=d,this.api=a,b(c,d,this,f,a),k(c,d)},j.onclick=function(c,d,a){x[a].call(this)},j.remove=function(a,c){this._brushController.unmount()},j.dispose=function(a,c){this._brushController.dispose()};var x={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(B.pop(this.ecModel))}};j._onBrush=function(c,g){function a(G,I,r){var o=I.getAxis(G),H=o.model,n=l(G,H,f),p=n.findRepresentativeAxisProxy(H).getMinMaxSpan();null==p.minValueSpan&&null==p.maxValueSpan||(r=w(0,r.slice(),o.scale.getExtent(),0,p.minValueSpan,p.maxValueSpan)),n&&(h[n.id]={dataZoomId:n.id,startValue:r[0],endValue:r[1]})}function l(p,r,o){var s;return o.eachComponent({mainType:"dataZoom",subType:"select"},function(n){var e=n.getAxisModel(p,r.componentIndex);e&&(s=n)}),s}if(g.isEnd&&c.length){var h={},f=this.ecModel;this._brushController.updateCovers([]);var d=new D(C(this.model.option),f,{include:["grid"]});d.matchOutputRanges(c,f,function(o,p,r){if("cartesian2d"===r.type){var i=o.brushType;"rect"===i?(a("x",r,p[0]),a("y",r,p[1])):a({lineX:"x",lineY:"y"}[i],r,p)}}),B.push(f,h),this._dispatchZoomAction(h)}},j._dispatchZoomAction=function(a){var c=[];A(a,function(e,d){c.push(F.clone(e))}),c.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:c})},v(29).register("dataZoom",m),v(2).registerPreprocessor(function(f){function g(n,p){if(p){var i=n+"Index",r=p[i];null==r||"all"==r||F.isArray(r)||(r=r===!1||"none"===r?[]:[r]),d(n,function(s,a){if(null==r||"all"==r||F.indexOf(r,a)!==-1){var o={type:"select",$fromToolbox:!0,id:y+n+a};o[i]=a,l.push(o)}})}}function d(o,a){var p=f[o];F.isArray(p)||(p=p?[p]:[]),A(p,a)}if(f){var l=f.dataZoom||(f.dataZoom=[]);F.isArray(l)||(f.dataZoom=l=[l]);var c=f.toolbox;if(c&&(F.isArray(c)&&(c=c[0]),c&&c.feature)){var h=c.feature.dataZoom;g("xAxis",h),g("yAxis",h)}}}),E.exports=m},function(k,h,g){function d(a){this.model=a}var j=g(1);d.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"},option:{},seriesIndex:{}};var c=d.prototype;c.getIcons=function(){var l=this.model,n=l.get("icon"),a={};return j.each(l.get("type"),function(e){n[e]&&(a[e]=n[e])}),a};var b={line:function(l,o,a,p){if("bar"===l){return j.merge({id:o,type:"line",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},p.get("option.line")||{},!0)}},bar:function(l,o,a,p){if("line"===l){return j.merge({id:o,type:"bar",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},p.get("option.bar")||{},!0)}},stack:function(l,o,a,p){if("line"===l||"bar"===l){return j.merge({id:o,stack:"__ec_magicType_stack__"},p.get("option.stack")||{},!0)}},tiled:function(l,o,a,p){if("line"===l||"bar"===l){return j.merge({id:o,stack:""},p.get("option.tiled")||{},!0)}}},m=[["line","bar"],["stack","tiled"]];c.onclick=function(r,s,q){var w=this.model,v=w.get("seriesIndex."+q);if(b[q]){var a={series:[]},p=function(z){var l=z.subType,D=z.id,C=b[q](l,D,z,w);C&&(j.defaults(C,z.option),a.series.push(C));var B=z.coordinateSystem;if(B&&"cartesian2d"===B.type&&("line"===q||"bar"===q)){var t=B.getAxesByScale("ordinal")[0];if(t){var A=t.dim,y=A+"Axis",i=r.queryComponents({mainType:y,index:z.get(name+"Index"),id:z.get(name+"Id")})[0],x=i.componentIndex;a[y]=a[y]||[];for(var n=0;n<=x;n++){a[y][x]=a[y][x]||{}}a[y][x].boundaryGap="bar"===q}}};j.each(m,function(e){j.indexOf(e,q)>=0&&j.each(e,function(i){w.setIconStatus(i,"normal")})}),w.setIconStatus(q,"emphasis"),r.eachComponent({mainType:"series",query:null==v?null:{seriesIndex:v}},p),s.dispatchAction({type:"changeMagicType",currentType:q,newOption:a})}};var f=g(2);f.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,i){i.mergeOption(a.newOption)}),g(29).register("magicType",d),k.exports=d},function(d,f,c){function h(a){this.model=a}var b=c(125);h.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"还原"};var g=h.prototype;g.onclick=function(j,k,a){b.clear(j),k.dispatchAction({type:"restore",from:this.uid})},c(29).register("restore",h),c(2).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,i){i.resetOption("recreate")}),d.exports=h},function(d,f,c){function h(a){this.model=a}var b=c(9);h.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"保存为图片",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["右键另存为图片"]},h.prototype.unusable=!b.canvasSupported;var g=h.prototype;g.onclick=function(y,v){var p=this.model,k=p.get("name")||y.get("title.0.text")||"echarts",j=document.createElement("a"),a=p.get("type",!0)||"png";j.download=k+"."+a,j.target="_blank";var z=v.getConnectedDataURL({type:a,backgroundColor:p.get("backgroundColor",!0)||y.get("backgroundColor")||"#fff",excludeComponents:p.get("excludeComponents"),pixelRatio:p.get("pixelRatio")});if(j.href=z,"function"!=typeof MouseEvent||b.browser.ie||b.browser.edge){var m=p.get("lang"),x='<body style="margin:0;"><img src="'+z+'" style="max-width:100%;" title="'+(m&&m[0]||"")+'" /></body>',w=window.open();w.document.write(x)}else{var q=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});j.dispatchEvent(q)}},c(29).register("saveAsImage",h),d.exports=h},function(b,c,a){a(55),a(234),a(235),a(2).registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),a(2).registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},function(E,z,v){function m(c){var d="cubic-bezier(0.23, 1, 0.32, 1)",a="left "+c+"s "+d+",top "+c+"s "+d;return F.map(j,function(e){return e+"transition:"+a}).join(";")}function C(c){var d=[],a=c.get("fontSize"),f=c.getTextColor();return f&&d.push("color:"+f),d.push("font:"+c.getFont()),a&&d.push("line-height:"+Math.round(3*a/2)+"px"),w(["decoration","align"],function(e){var g=c.get(e);g&&d.push("text-"+e+":"+g)}),d.join(";")}function k(c){var g=[],a=c.get("transitionDuration"),h=c.get("backgroundColor"),f=c.getModel("textStyle"),d=c.get("padding");return a&&g.push(m(a)),h&&(y.canvasSupported?g.push("background-Color:"+h):(g.push("background-Color:#"+q.toHex(h)),g.push("filter:alpha(opacity=70)"))),w(["width","color","radius"],function(l){var r="border-"+l,e=A(r),p=c.get(e);null!=p&&g.push(r+":"+p+("color"===l?"":"px"))}),g.push(C(f)),null!=d&&g.push("padding:"+B.normalizeCssArray(d).join("px ")+"px"),g.join(";")+";"}function b(f,g){var d=document.createElement("div"),h=this._zr=g.getZr();this.el=d,this._x=g.getWidth()/2,this._y=g.getHeight()/2,f.appendChild(d),this._container=f,this._show=!1,this._hideTimeout;var c=this;d.onmouseenter=function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0},d.onmousemove=function(l){if(l=l||window.event,!c._enterable){var a=h.handler;D.normalizeEvent(f,l,!0),a.dispatch("mousemove",l)}},d.onmouseleave=function(){c._enterable&&c._show&&c.hideLater(c._hideDelay),c._inContent=!1}}var F=v(1),q=v(22),D=v(21),B=v(7),w=F.each,A=B.toCamelCase,y=v(9),j=["","-webkit-","-moz-","-o-"],x="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";b.prototype={constructor:b,_enterable:!0,update:function(){var c=this._container,d=c.currentStyle||document.defaultView.getComputedStyle(c),a=c.style;"absolute"!==a.position&&"absolute"!==d.position&&(a.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var c=this.el;c.style.cssText=x+k(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||""),c.style.display=c.innerHTML?"block":"none",this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(f,g){var d,h=this._zr;h&&h.painter&&(d=h.painter.getViewportRoot())&&(f+=d.offsetLeft||0,g+=d.offsetTop||0);var c=this.el.style;c.left=f+"px",c.top=g+"px",this._x=f,this._y=g},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(F.bind(this.hide,this),a)):this.hide())},isShow:function(){return this._show}},E.exports=b},function(b,c,a){a(2).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:0.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}})},function(D,Q,L){function I(b){for(var c=b.pop();b.length;){var a=b.pop();a&&(a instanceof B&&(a=a.get("tooltip",!0)),"string"==typeof a&&(a={formatter:a}),c=new B(a,c,c.ecModel))}return c}function V(a,b){return a.dispatchAction||T.bind(b.dispatchAction,b)}function H(p,h,g,d,m,c,b){var u=g.clientWidth,f=g.clientHeight;return null!=c&&(p+u+c>d?p-=u+c:p+=c),null!=b&&(h+f+b>m?h-=f+b:h+=b),[p,h]}function F(d,g,c,l,b){var h=c.clientWidth,f=c.clientHeight;return d=Math.min(d+h,l)-h,g=Math.min(g+f,b)-f,d=Math.max(d,0),g=Math.max(g,0),[d,g]}function E(v,h,g){var d=g[0],m=g[1],c=5,b=0,w=0,f=h.width,p=h.height;switch(v){case"inside":b=h.x+f/2-d/2,w=h.y+p/2-m/2;break;case"top":b=h.x+f/2-d/2,w=h.y-m-c;break;case"bottom":b=h.x+f/2-d/2,w=h.y+p+c;break;case"left":b=h.x-d-c,w=h.y+p/2-m/2;break;case"right":b=h.x+f+c,w=h.y+p/2-m/2}return[b,w]}function K(a){return"center"===a||"middle"===a}var C=L(233),T=L(1),N=L(7),R=L(4),P=L(3),G=L(121),O=L(12),J=L(9),B=L(10),q=L(122),z=L(18),W=L(76),U=T.bind,A=T.each,j=R.parsePercent,k=new P.Rect({shape:{x:-1,y:-1,width:2,height:2}});L(2).extendComponentView({type:"tooltip",init:function(b,c){if(!J.node){var a=new C(c.getDom(),c);this._tooltipContent=a}},render:function(b,c,a){if(!J.node){this.group.removeAll(),this._tooltipModel=b,this._ecModel=c,this._api=a,this._lastDataByCoordSys=null,this._alwaysShowContent=b.get("alwaysShowContent");var d=this._tooltipContent;d.update(),d.setEnterable(b.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var a=this._tooltipModel,b=a.get("triggerOn");q.register("itemTooltip",this._api,U(function(d,c,e){"none"!==b&&(b.indexOf(d)>=0?this._tryShow(c,e):"leave"===d&&this._hide(e))},this))},_keepShow:function(){var b=this._tooltipModel,c=this._ecModel,a=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==b.get("triggerOn")){var d=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){d.manuallyShowTip(b,c,a,{x:d._lastX,y:d._lastY})})}},manuallyShowTip:function(v,h,g,d){if(d.from!==this.uid&&!J.node){var b=V(d,g);this._ticket="";var a=d.dataByCoordSys;if(d.tooltip&&null!=d.x&&null!=d.y){var w=k;w.position=[d.x,d.y],w.update(),w.tooltip=d.tooltip,this._tryShow({offsetX:d.x,offsetY:d.y,target:w},b)}else{if(a){this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,event:{},dataByCoordSys:d.dataByCoordSys,tooltipOption:d.tooltipOption},b)}else{if(null!=d.seriesIndex){if(this._manuallyAxisShowTip(v,h,g,d)){return}var f=G(d,h),p=f.point[0],m=f.point[1];null!=p&&null!=m&&this._tryShow({offsetX:p,offsetY:m,position:d.position,target:f.el,event:{}},b)}else{null!=d.x&&null!=d.y&&(g.dispatchAction({type:"updateAxisPointer",x:d.x,y:d.y}),this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,target:g.getZr().findHover(d.x,d.y).target,event:{}},b))}}}}},manuallyHideTip:function(b,c,a,f){var d=this._tooltipContent;this._alwaysShowContent||d.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,f.from!==this.uid&&this._hide(V(f,a))},_manuallyAxisShowTip:function(n,g,f,h){var c=h.seriesIndex,b=h.dataIndex,p=g.getComponent("axisPointer").coordSysAxesInfo;if(null!=c&&null!=b&&null!=p){var d=g.getSeriesByIndex(c);if(d){var m=d.getData(),n=I([m.getItemModel(b),d,(d.coordinateSystem||{}).model,n]);if("axis"===n.get("trigger")){return f.dispatchAction({type:"updateAxisPointer",seriesIndex:c,dataIndex:b}),!0}}}},_tryShow:function(d,f){var c=d.target,g=this._tooltipModel;if(g){this._lastX=d.offsetX,this._lastY=d.offsetY;var b=d.dataByCoordSys;b&&b.length?this._showAxisTooltip(b,d):c&&null!=c.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(d,c,f)):c&&c.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(d,c,f)):(this._lastDataByCoordSys=null,this._hide(f))}},_showOrMove:function(b,c){var a=b.get("showDelay");c=T.bind(c,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(c,a):c()},_showAxisTooltip:function(n,g){var f=this._ecModel,h=this._tooltipModel,c=[g.offsetX,g.offsetY],b=[],p=[],d=I([g.tooltipOption,h]);A(n,function(a){A(a.dataByAxis,function(s){var u=f.getComponent(s.axisDim+"Axis",s.axisIndex),w=s.value,r=[];if(u&&null!=w){var v=W.getValueLabel(w,u.axis,f,s.seriesDataIndices,s.valueLabelOpt);T.each(s.seriesDataIndices,function(t){var e=f.getSeriesByIndex(t.seriesIndex),o=t.dataIndexInside,x=e&&e.getDataParams(o);x.axisDim=s.axisDim,x.axisIndex=s.axisIndex,x.axisType=s.axisType,x.axisId=s.axisId,x.axisValue=z.getAxisRawValue(u.axis,w),x.axisValueLabel=v,x&&(p.push(x),r.push(e.formatTooltip(o,!0)))});var i=v;b.push((i?N.encodeHTML(i)+"<br />":"")+r.join("<br />"))}})},this),b.reverse(),b=b.join("<br /><br />");var m=g.position;this._showOrMove(d,function(){this._updateContentNotChangedOnAxis(n)?this._updatePosition(d,m,c[0],c[1],this._tooltipContent,p):this._showTooltipContent(d,b,p,Math.random(),c[0],c[1],m)})},_showSeriesItemTooltip:function(ab,S,w){var Z=this._ecModel,n=S.seriesIndex,b=Z.getSeriesByIndex(n),ac=S.dataModel||b,v=S.dataIndex,aa=S.dataType,Y=ac.getData(),x=I([Y.getItemModel(v),ac,b&&(b.coordinateSystem||{}).model,this._tooltipModel]),X=x.get("trigger");if(null==X||"item"===X){var M=ac.getDataParams(v,aa),m=ac.formatTooltip(v,!1,aa),y="item_"+ac.name+"_"+v;this._showOrMove(x,function(){this._showTooltipContent(x,m,M,y,ab.offsetX,ab.offsetY,ab.position,ab.target)}),w({type:"showTip",dataIndexInside:v,dataIndex:Y.getRawIndex(v),seriesIndex:n,from:this.uid})}},_showComponentItemTooltip:function(d,h,c){var m=h.tooltip;if("string"==typeof m){var b=m;m={content:b,formatter:b}}var l=new B(m,this._tooltipModel,this._ecModel),g=l.get("content"),f=Math.random();this._showOrMove(l,function(){this._showTooltipContent(l,g,l.get("formatterParams")||{},f,d.offsetX,d.offsetY,d.position,h)}),c({type:"showTip",from:this.uid})},_showTooltipContent:function(M,p,m,g,x,f,b,S){if(this._ticket="",M.get("showContent")&&M.get("show")){var h=this._tooltipContent,y=M.get("formatter");b=b||M.get("position");var w=p;if(y&&"string"==typeof y){w=N.formatTpl(y,m,!0)}else{if("function"==typeof y){var v=U(function(a,c){a===this._ticket&&(h.setContent(c),this._updatePosition(M,b,x,f,h,m,S))},this);this._ticket=g,w=y(m,g,v)}}h.setContent(w),h.show(M),this._updatePosition(M,b,x,f,h,m,S)}},_updatePosition:function(ab,s,l,c,X,aa,o){var w=this._api.getWidth(),r=this._api.getHeight();s=s||ab.get("position");var b=X.getSize(),g=ab.get("align"),Z=ab.get("verticalAlign"),M=o&&o.getBoundingRect().clone();if(o&&M.applyTransform(o.transform),"function"==typeof s&&(s=s([l,c],aa,X.el,M,{viewSize:[w,r],contentSize:b.slice()})),T.isArray(s)){l=j(s[0],w),c=j(s[1],r)}else{if(T.isObject(s)){s.width=b[0],s.height=b[1];var S=O.getLayoutRect(s,{width:w,height:r});l=S.x,c=S.y,g=null,Z=null}else{if("string"==typeof s&&o){var Y=E(s,M,b);l=Y[0],c=Y[1]}else{var Y=H(l,c,X.el,w,r,g?null:20,Z?null:20);l=Y[0],c=Y[1]}}}if(g&&(l-=K(g)?b[0]/2:"right"===g?b[0]:0),Z&&(c-=K(Z)?b[1]/2:"bottom"===Z?b[1]:0),ab.get("confine")){var Y=F(l,c,X.el,w,r);l=Y[0],c=Y[1]}X.moveTo(l,c)},_updateContentNotChangedOnAxis:function(b){var c=this._lastDataByCoordSys,a=!!c&&c.length===b.length;return a&&A(c,function(g,i){var d=g.dataByAxis||{},h=b[i]||{},f=h.dataByAxis||[];a&=d.length===f.length,a&&A(d,function(m,p){var s=f[p]||{},l=m.seriesDataIndices||[],r=s.seriesDataIndices||[];a&=m.value===s.value&&m.axisType===s.axisType&&m.axisId===s.axisId&&l.length===r.length,a&&A(l,function(o,u){var v=r[u];a&=o.seriesIndex===v.seriesIndex&&o.dataIndex===v.dataIndex})})}),this._lastDataByCoordSys=b,!!a},_hide:function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},dispose:function(a,b){J.node||(this._tooltipContent.hide(),q.unregister("itemTooltip",b))}})},function(q,j,h){function f(C,z){var y=C.get("center"),w=C.get("radius"),A=z.getWidth(),s=z.getHeight(),c=v.parsePercent;this.cx=c(y[0],A),this.cy=c(y[1],s);var x=this.getRadiusAxis(),B=Math.min(A,s)/2;x.setExtent(0,c(w,B))}function m(s,w){var l=this,y=l.getAngleAxis(),c=l.getRadiusAxis();if(y.scale.setExtent(1/0,-(1/0)),c.scale.setExtent(1/0,-(1/0)),s.eachSeries(function(a){if(a.coordinateSystem===l){var i=a.getData();c.scale.unionExtentFromData(i,"radius"),y.scale.unionExtentFromData(i,"angle")}}),p(y.scale,y.model),p(c.scale,c.model),"category"===y.type&&!y.onBand){var x=y.getExtent(),u=360/y.scale.count();y.inverse?x[1]+=u:x[1]-=u,y.setExtent(x[0],x[1])}}function d(c,l){if(c.type=l.get("type"),c.scale=g.createScaleByModel(l),c.onBand=l.get("boundaryGap")&&"category"===c.type,"angleAxis"===l.mainType){var a=l.get("startAngle");c.inverse=l.get("inverse")^l.get("clockwise"),c.setExtent(a,a+(c.inverse?-360:360))}l.axis=c,c.model=l}var b=h(411),v=h(4),g=(h(1),h(18)),p=g.niceScaleExtent;h(412);var k={dimensions:b.prototype.dimensions,create:function(c,l){var a=[];return c.eachComponent("polar",function(n,r){var e=new b(r);e.resize=f,e.update=m;var i=e.getRadiusAxis(),x=e.getAngleAxis(),o=n.findAxisModel("radiusAxis"),w=n.findAxisModel("angleAxis");d(i,o),d(x,w),e.resize(n,l),a.push(e),n.coordinateSystem=e,e.model=n}),c.eachSeries(function(o){if("polar"===o.get("coordinateSystem")){var n=c.queryComponents({mainType:"polar",index:o.get("polarIndex"),id:o.get("polarId")})[0];o.coordinateSystem=n.coordinateSystem}}),a}};h(26).register("polar",k)},function(q,j,h){function f(a){return parseInt(a,10)}function m(r,s){v.initVML(),this.root=r,this.storage=s;var l=document.createElement("div"),w=document.createElement("div");l.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",w.style.cssText="position:absolute;left:0;top:0;",r.appendChild(l),this._vmlRoot=w,this._vmlViewport=l,this.resize();var c=s.delFromStorage,u=s.addToStorage;s.delFromStorage=function(a){c.call(s,a),a&&a.onRemove&&a.onRemove(w)},s.addToStorage=function(a){a.onAdd&&a.onAdd(w),u.call(s,a)},this._firstPaint=!0}function d(a){return function(){b('In IE8.0 VML mode painter not support method "'+a+'"')}}var b=h(52),v=h(182);m.prototype={constructor:m,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(c){for(var l=this._vmlRoot,a=0;a<c.length;a++){var o=c[a];o.invisible||o.ignore?(o.__alreadyNotVisible||o.onRemove(l),o.__alreadyNotVisible=!0):(o.__alreadyNotVisible&&o.onAdd(l),o.__alreadyNotVisible=!1,o.__dirty&&(o.beforeBrush&&o.beforeBrush(),(o.brushVML||o.brush).call(o,l),o.afterBrush&&o.afterBrush())),o.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(l),this._firstPaint=!1)},resize:function(c,l){var c=null==c?this._getWidth():c,l=null==l?this._getHeight():l;if(this._width!=c||this._height!=l){this._width=c,this._height=l;var a=this._vmlViewport.style;a.width=c+"px",a.height=l+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var a=this.root,c=a.currentStyle;return(a.clientWidth||f(c.width))-f(c.paddingLeft)-f(c.paddingRight)|0},_getHeight:function(){var a=this.root,c=a.currentStyle;return(a.clientHeight||f(c.height))-f(c.paddingTop)-f(c.paddingBottom)|0}};for(var g=["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],p=0;p<g.length;p++){var k=g[p];m.prototype[k]=d(k)}q.exports=m},function(aJ,a1,aW){if(!aW(9).canvasSupported){var aQ=aW(6),a5=aW(11),aP=aW(27).CMD,aL=aW(22),aK=aW(16),aS=aW(87),aI=aW(38),a3=aW(53),aX=aW(86),a2=aW(8),a0=aW(27),aO=aW(39),aY=aW(182),aR=Math.round,aH=Math.sqrt,aE=Math.abs,aF=Math.cos,a6=Math.sin,a4=Math.max,aG=aQ.applyTransform,ah=",",an="progid:DXImageTransform.Microsoft",ar=21600,ag=ar/2,aA=100000,ay=1000,ao=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",a.coordsize=ar+","+ar,a.coordorigin="0,0"},ax=function(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},ak=function(b,c,a){return"rgb("+[b,c,a].join(",")+")"},aT=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},al=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},aD=function(b,c,a){return(parseFloat(b)||0)*aA+(parseFloat(c)||0)*ay+a},aw=function(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a},ai=function(b,c,a){var d=aL.parse(c);a=+a,isNaN(a)&&(a=1),d&&(b.color=ak(d[0],d[1],d[2]),b.opacity=a*d[3])},am=function(a){var b=aL.parse(a);return[ak(b[0],b[1],b[2]),b[3]]},ae=function(N,bd,a9){var Y=bd.fill;if(null!=Y){if(Y instanceof aO){var bg,X=0,V=[0,0],R=0,a7=1,J=a9.getBoundingRect(),bf=J.width,ba=J.height;if("linear"===Y.type){bg="gradient";var be=a9.transform,bc=[Y.x*bf,Y.y*ba],bb=[Y.x2*bf,Y.y2*ba];be&&(aG(bc,bc,be),aG(bb,bb,be));var Z=bb[0]-bc[0],I=bb[1]-bc[1];X=180*Math.atan2(Z,I)/Math.PI,X<0&&(X+=360),X<0.000001&&(X=0)}else{bg="gradientradial";var bc=[Y.x*bf,Y.y*ba],be=a9.transform,G=a9.scale,H=bf,bh=ba;V=[(bc[0]-J.x)/H,(bc[1]-J.y)/bh],be&&aG(bc,bc,be),H/=G[0]*ar,bh/=G[1]*ar;var j=a4(H,bh);R=0/j,a7=2*Y.r/j-R}var w=Y.colorStops.slice();w.sort(function(a,c){return a.offset-c.offset});for(var b=w.length,W=[],U=[],B=0;B<b;B++){var Q=w[B],p=am(Q.color);U.push(Q.offset*a7+R+" "+p[0]),0!==B&&B!==b-1||W.push(p)}if(b>=2){var a8=W[0][0],q=W[1][0],F=W[0][1]*bd.opacity,K=W[1][1]*bd.opacity;N.type=bg,N.method="none",N.focus="100%",N.angle=X,N.color=a8,N.color2=q,N.colors=U.join(","),N.opacity=K,N.opacity2=F}"radial"===bg&&(N.focusposition=V.join(","))}else{ai(N,Y,bd.opacity)}}},az=function(a,b){null!=b.lineDash&&(a.dashstyle=b.lineDash.join(" ")),null==b.stroke||b.stroke instanceof aO||ai(a,b.stroke,b.opacity)},au=function(d,f,c,h){var b="fill"==f,g=d.getElementsByTagName(f)[0];null!=c[f]&&"none"!==c[f]&&(b||!b&&c.lineWidth)?(d[b?"filled":"stroked"]="true",c[f] instanceof aO&&al(d,g),g||(g=aY.createNode(f)),b?ae(g,c,h):az(g,c),aT(d,g)):(d[b?"filled":"stroked"]="false",al(d,g))},at=[[],[],[]],av=function(bf,bs){var bo,bk,bw,bh,bg,bl,be=aP.M,bu=aP.C,bp=aP.L,bt=aP.A,br=aP.Q,bj=[];for(bh=0;bh<bf.length;){switch(bw=bf[bh++],bk="",bo=0,bw){case be:bk=" m ",bo=1,bg=bf[bh++],bl=bf[bh++],at[0][0]=bg,at[0][1]=bl;break;case bp:bk=" l ",bo=1,bg=bf[bh++],bl=bf[bh++],at[0][0]=bg,at[0][1]=bl;break;case br:case bu:bk=" c ",bo=3;var bq,bd,bv=bf[bh++],Q=bf[bh++],bb=bf[bh++],a9=bf[bh++];bw===br?(bq=bb,bd=a9,bb=(bb+2*bv)/3,a9=(a9+2*Q)/3,bv=(bg+2*bv)/3,Q=(bl+2*Q)/3):(bq=bf[bh++],bd=bf[bh++]),at[0][0]=bv,at[0][1]=Q,at[1][0]=bb,at[1][1]=a9,at[2][0]=bq,at[2][1]=bd,bg=bq,bl=bd;break;case bt:var S=0,a8=0,I=1,bm=1,J=0;bs&&(S=bs[4],a8=bs[5],I=aH(bs[0]*bs[0]+bs[1]*bs[1]),bm=aH(bs[2]*bs[2]+bs[3]*bs[3]),J=Math.atan2(-bs[1]/bm,bs[0]/I));var bc=bf[bh++],a7=bf[bh++],H=bf[bh++],K=bf[bh++],w=bf[bh++]+J,ba=bf[bh++]+w+J;bh++;var T=bf[bh++],Y=bc+aF(w)*H,v=a7+a6(w)*K,bv=bc+aF(ba)*H,Q=a7+a6(ba)*K,m=T?" wa ":" at ";Math.abs(Y-bv)<0.0001&&(Math.abs(ba-w)>0.01?T&&(Y+=270/ar):Math.abs(v-a7)<0.0001?T&&Y<bc||!T&&Y>bc?Q-=270/ar:Q+=270/ar:T&&v<a7||!T&&v>a7?bv+=270/ar:bv-=270/ar),bj.push(m,aR(((bc-H)*I+S)*ar-ag),ah,aR(((a7-K)*bm+a8)*ar-ag),ah,aR(((bc+H)*I+S)*ar-ag),ah,aR(((a7+K)*bm+a8)*ar-ag),ah,aR((Y*I+S)*ar-ag),ah,aR((v*bm+a8)*ar-ag),ah,aR((bv*I+S)*ar-ag),ah,aR((Q*bm+a8)*ar-ag)),bg=bv,bl=Q;break;case aP.R:var bi=at[0],bn=at[1];bi[0]=bf[bh++],bi[1]=bf[bh++],bn[0]=bi[0]+bf[bh++],bn[1]=bi[1]+bf[bh++],bs&&(aG(bi,bi,bs),aG(bn,bn,bs)),bi[0]=aR(bi[0]*ar-ag),bn[0]=aR(bn[0]*ar-ag),bi[1]=aR(bi[1]*ar-ag),bn[1]=aR(bn[1]*ar-ag),bj.push(" m ",bi[0],ah,bi[1]," l ",bn[0],ah,bi[1]," l ",bn[0],ah,bn[1]," l ",bi[0],ah,bn[1]);break;case aP.Z:bj.push(" x ")}if(bo>0){bj.push(bk);for(var x=0;x<bo;x++){var o=at[x];bs&&aG(o,o,bs),bj.push(aR(o[0]*ar-ag),ah,aR(o[1]*ar-ag),x<bo-1?ah:"")}}}return bj.join("")};a2.prototype.brushVML=function(k){var h=this.style,g=this._vmlEl;g||(g=aY.createNode("shape"),ao(g),this._vmlEl=g),au(g,"fill",h,this),au(g,"stroke",h,this);var d=this.transform,j=null!=d,c=g.getElementsByTagName("stroke")[0];if(c){var b=h.lineWidth;if(j&&!h.strokeNoScale){var m=d[0]*d[3]-d[1]*d[2];b*=aH(aE(m))}c.weight=b+"px"}var f=this.path||(this.path=new a0);this.__dirtyPath&&(f.beginPath(),this.buildPath(f,this.shape),f.toStatic(),this.__dirtyPath=!1),g.path=av(f.data,this.transform),g.style.zIndex=aD(this.zlevel,this.z,this.z2),aT(k,g),null!=h.text?this.drawRectText(k,this.getBoundingRect()):this.removeRectText(k)},a2.prototype.onRemove=function(a){al(a,this._vmlEl),this.removeRectText(a)},a2.prototype.onAdd=function(a){aT(a,this._vmlEl),this.appendRectText(a)};var ad=function(a){return"object"==typeof a&&a.tagName&&"IMG"===a.tagName.toUpperCase()};a3.prototype.brushVML=function(bf){var br,bo,bl=this.style,bu=bl.image;if(ad(bu)){var bk=bu.src;if(bk===this._imageSrc){br=this._imageWidth,bo=this._imageHeight}else{var bh=bu.runtimeStyle,bg=bh.width,bm=bh.height;bh.width="auto",bh.height="auto",br=bu.width,bo=bu.height,bh.width=bg,bh.height=bm,this._imageSrc=bk,this._imageWidth=br,this._imageHeight=bo}bu=bk}else{bu===this._imageSrc&&(br=this._imageWidth,bo=this._imageHeight)}if(bu){var be=bl.x||0,bt=bl.y||0,bp=bl.width,bs=bl.height,bq=bl.sWidth,bj=bl.sHeight,bc=bl.sx||0,bd=bl.sy||0,bv=bq&&bj,M=this._vmlEl;M||(M=aY.doc.createElement("div"),ao(M),this._vmlEl=M);var w,bb=M.style,a9=!1,a8=1,J=1;if(this.transform&&(w=this.transform,a8=aH(w[0]*w[0]+w[1]*w[1]),J=aH(w[2]*w[2]+w[3]*w[3]),a9=w[1]||w[2]),a9){var K=[be,bt],a7=[be+bp,bt],z=[be,bt+bs],L=[be+bp,bt+bs];aG(K,K,w),aG(a7,a7,w),aG(z,z,w),aG(L,L,w);var m=a4(K[0],a7[0],z[0],L[0]),ba=a4(K[1],a7[1],z[1],L[1]),S=[];S.push("M11=",w[0]/a8,ah,"M12=",w[2]/J,ah,"M21=",w[1]/a8,ah,"M22=",w[3]/J,ah,"Dx=",aR(be*a8+w[4]),ah,"Dy=",aR(bt*J+w[5])),bb.padding="0 "+aR(m)+"px "+aR(ba)+"px 0",bb.filter=an+".Matrix("+S.join("")+", SizingMethod=clip)"}else{w&&(be=be*a8+w[4],bt=bt*J+w[5]),bb.filter="",bb.left=aR(be)+"px",bb.top=aR(bt)+"px"}var Q=this._imageEl,W=this._cropEl;Q||(Q=aY.doc.createElement("div"),this._imageEl=Q);var b=Q.style;if(bv){if(br&&bo){b.width=aR(a8*br*bp/bq)+"px",b.height=aR(J*bo*bs/bj)+"px"}else{var bi=new Image,bn=this;bi.onload=function(){bi.onload=null,br=bi.width,bo=bi.height,b.width=aR(a8*br*bp/bq)+"px",b.height=aR(J*bo*bs/bj)+"px",bn._imageWidth=br,bn._imageHeight=bo,bn._imageSrc=bu},bi.src=bu}W||(W=aY.doc.createElement("div"),W.style.overflow="hidden",this._cropEl=W);var v=W.style;v.width=aR((bp+bc*bp/bq)*a8),v.height=aR((bs+bd*bs/bj)*J),v.filter=an+".Matrix(Dx="+-bc*bp/bq*a8+",Dy="+-bd*bs/bj*J+")",W.parentNode||M.appendChild(W),Q.parentNode!=W&&W.appendChild(Q)}else{b.width=aR(a8*bp)+"px",b.height=aR(J*bs)+"px",M.appendChild(Q),W&&W.parentNode&&(M.removeChild(W),this._cropEl=null)}var k="",g=bl.opacity;g<1&&(k+=".Alpha(opacity="+aR(100*g)+") "),k+=an+".AlphaImageLoader(src="+bu+", SizingMethod=scale)",b.filter=k,M.style.zIndex=aD(this.zlevel,this.z,this.z2),aT(bf,M),null!=bl.text&&this.drawRectText(bf,this.getBoundingRect())}},a3.prototype.onRemove=function(a){al(a,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(a)},a3.prototype.onAdd=function(a){aT(a,this._vmlEl),this.appendRectText(a)};var aa,aM="normal",aV={},af=0,ac=100,ab=document.createElement("div"),aC=function(d){var f=aV[d];if(!f){af>ac&&(af=0,aV={});var c,g=ab.style;try{g.font=d,c=g.fontFamily.split(",")[0]}catch(b){}f={style:g.fontStyle||aM,variant:g.fontVariant||aM,weight:g.fontWeight||aM,size:0|parseFloat(g.fontSize||12),family:c||"Microsoft YaHei"},aV[d]=f,af++}return f};aK.measureText=function(b,c){var a=aY.doc;aa||(aa=a.createElement("div"),aa.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",aY.doc.body.appendChild(aa));try{aa.style.font=c}catch(d){}return aa.innerHTML="",aa.appendChild(a.createTextNode(b)),{width:aa.offsetWidth}};for(var ap=new a5,aq=function(D,S,N,K){var X=this.style,J=X.text;if(null!=J&&(J+=""),J){var F,L,B=X.textAlign,V=aC(X.textFont),Q=V.style+" "+V.variant+" "+V.weight+" "+V.size+'px "'+V.family+'"',U=X.textBaseline,R=X.textVerticalAlign;N=N||aK.getBoundingRect(J,Q,B,U);var H=this.transform;if(H&&!K&&(ap.copy(S),ap.applyTransform(H),S=ap),K){F=S.x,L=S.y}else{var z=X.textPosition,q=X.textDistance;if(z instanceof Array){F=S.x+aw(z[0],S.width),L=S.y+aw(z[1],S.height),B=B||"left",U=U||"top"}else{var w=aK.adjustTextPositionOnRect(z,S,N,q);F=w.x,L=w.y,B=B||w.textAlign,U=U||w.textBaseline}}if(R){switch(R){case"middle":L-=N.height/2;break;case"bottom":L-=N.height}U="top"}var Y=V.size;switch(U){case"hanging":case"top":L+=Y/1.75;break;case"middle":break;default:L-=Y/2.25}switch(B){case"left":break;case"center":F-=N.width/2;break;case"right":F-=N.width}var W,m,s,g=aY.createNode,G=this._textVmlEl;G?(s=G.firstChild,W=s.nextSibling,m=W.nextSibling):(G=g("line"),W=g("path"),m=g("textpath"),s=g("skew"),m.style["v-text-align"]="left",ao(G),W.textpathok=!0,m.on=!0,G.from="0 0",G.to="1000 0.05",aT(G,s),aT(G,W),aT(G,m),this._textVmlEl=G);var E=[F,L],j=G.style;H&&K?(aG(E,E,H),s.on=!0,s.matrix=H[0].toFixed(3)+ah+H[2].toFixed(3)+ah+H[1].toFixed(3)+ah+H[3].toFixed(3)+",0,0",s.offset=(aR(E[0])||0)+","+(aR(E[1])||0),s.origin="0 0",j.left="0px",j.top="0px"):(s.on=!1,j.left=aR(F)+"px",j.top=aR(L)+"px"),m.string=ax(J);try{m.style.font=Q}catch(k){}au(G,"fill",{fill:K?X.fill:X.textFill,opacity:X.opacity},this),au(G,"stroke",{stroke:K?X.stroke:X.textStroke,opacity:X.opacity,lineDash:X.lineDash},this),G.style.zIndex=aD(this.zlevel,this.z,this.z2),aT(D,G)}},aj=function(a){al(a,this._textVmlEl),this._textVmlEl=null},aZ=function(a){aT(a,this._textVmlEl)},aN=[aS,aI,a3,a2,aX],aB=0;aB<aN.length;aB++){var aU=aN[aB].prototype;aU.drawRectText=aq,aU.removeRectText=aj,aU.appendRectText=aZ}aX.prototype.brushVML=function(a){var b=this.style;null!=b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)},aX.prototype.onRemove=function(a){this.removeRectText(a)},aX.prototype.onAdd=function(a){this.appendRectText(a)}}},function(b,c,a){a(238),a(88).registerPainter("vml",a(237))},function(d,f,c){var h=c(1),b=c(241),g=c(2);g.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(j,k){var a=j.componentType||"series";k.eachComponent({mainType:a,query:j},function(l){var m=l.coordinateSystem;if("geo"===m.type){var i=b.updateCenterAndZoom(m,j,l.get("scaleLimit"));l.setCenter&&l.setCenter(i.center),l.setZoom&&l.setZoom(i.zoom),"series"===a&&h.each(l.seriesGroup,function(e){e.setCenter(i.center),e.setZoom(i.zoom)})}})})},function(b,c){var a={};a.updateCenterAndZoom=function(x,p,k){var g=x.getZoom(),v=x.getCenter(),f=p.zoom,d=x.dataToPoint(v);if(null!=p.dx&&null!=p.dy){d[0]-=p.dx,d[1]-=p.dy;var v=x.pointToData(d);x.setCenter(v)}if(null!=f){if(k){var y=k.min||0,j=k.max||1/0;f=Math.max(Math.min(g*f,j),y)/g}x.scale[0]*=f,x.scale[1]*=f;var w=x.position,q=(p.originX-w[0])*(f-1),m=(p.originY-w[1])*(f-1);w[0]-=q,w[1]-=m,x.updateTransform();var v=x.pointToData(d);x.setCenter(v),x.setZoom(f*g)}return{center:x.getCenter(),zoom:x.getZoom()}},b.exports=a},function(b,c,a){var d=a(6);b.exports=function(w){var n=w.coordinateSystem;if(!n||"view"===n.type){var k=n.getBoundingRect(),q=w.getData(),g=q.graph,f=0,x=q.getSum("value"),j=2*Math.PI/(x||q.count()),v=k.width/2+k.x,p=k.height/2+k.y,m=Math.min(k.width,k.height)/2;g.eachNode(function(h){var i=h.getValue("value");f+=j*(x?i:1)/2,h.setLayout([m*Math.cos(f)+v,m*Math.sin(f)+p]),f+=j*(x?i:1)/2}),q.setLayout({cx:v,cy:p}),g.eachEdge(function(u){var A,l=u.getModel().get("lineStyle.normal.curveness")||0,h=d.clone(u.node1.getLayout()),B=d.clone(u.node2.getLayout()),z=(h[0]+B[0])/2,y=(h[1]+B[1])/2;+l&&(l*=3,A=[v*l+z*(1-l),p*l+y*(1-l)]),u.setLayout([h,B,A])})}}},function(b,c,a){var d=a(6);b.exports=function(e){e.eachEdge(function(h){var j=h.getModel().get("lineStyle.normal.curveness")||0,g=d.clone(h.node1.getLayout()),f=d.clone(h.node2.getLayout()),k=[g,f];+j&&k.push([(g[0]+f[0])/2-(g[1]-f[1])*j,(g[1]+f[1])/2-(f[0]-g[0])*j]),h.setLayout(k)})}},function(b,c,a){var d=a(243);b.exports=function(g){var h=g.coordinateSystem;if(!h||"view"===h.type){var f=g.getGraph();f.eachNode(function(i){var j=i.getModel();i.setLayout([+j.get("x"),+j.get("y")])}),d(f)}}},function(q,j,h){function f(c,l,a){m.Group.call(this),this.add(this.createLine(c,l,a)),this._updateEffectSymbol(c,l)}var m=h(3),d=h(106),b=h(1),v=h(24),g=h(6),p=h(20),k=f.prototype;k.createLine=function(c,l,a){return new d(c,l,a)},k._updateEffectSymbol=function(x,y){var w=x.getItemModel(y),A=w.getModel("effect"),r=A.get("symbolSize"),z=A.get("symbol");b.isArray(r)||(r=[r,r]);var c=A.get("color")||x.getItemVisual(y,"color"),s=this.childAt(1);this._symbolType!==z&&(this.remove(s),s=v.createSymbol(z,-0.5,-0.5,1,1,c),s.z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",c),s.setStyle(A.getItemStyle(["color"])),s.attr("scale",r),s.setColor(c),s.attr("scale",r),this._symbolType=z,this._updateEffectAnimation(x,A,y))},k._updateEffectAnimation=function(G,B,y){var w=this.childAt(1);if(w){var E=this,r=G.getItemLayout(y),H=1000*B.get("period"),x=B.get("loop"),F=B.get("constantSpeed"),D=b.retrieve(B.get("delay"),function(a){return a/G.count()*H/3}),z="function"==typeof D;if(w.ignore=!0,this.updateAnimationPoints(w,r),F>0&&(H=this.getLineLength(w)/F*1000),H!==this._period||x!==this._loop){w.stopAnimation();var C=D;z&&(C=D(y)),w.__t>0&&(C=-H*w.__t),w.__t=0;var A=w.animate("",x).when(H,{__t:1}).delay(C).during(function(){E.updateSymbolPosition(w)});x||A.done(function(){E.remove(w)}),A.start()}this._period=H,this._loop=x}},k.getLineLength=function(a){return g.dist(a.__p1,a.__cp1)+g.dist(a.__cp1,a.__p2)},k.updateAnimationPoints=function(a,c){a.__p1=c[0],a.__p2=c[1],a.__cp1=c[2]||[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]},k.updateData=function(c,l,a){this.childAt(0).updateData(c,l,a),this._updateEffectSymbol(c,l)},k.updateSymbolPosition=function(D){var A=D.__p1,z=D.__p2,x=D.__cp1,C=D.__t,w=D.position,u=p.quadraticAt,E=p.quadraticDerivativeAt;w[0]=u(A[0],x[0],z[0],C),w[1]=u(A[1],x[1],z[1],C);var y=E(A[0],x[0],z[0],C),B=E(A[1],x[1],z[1],C);D.rotation=-Math.atan2(B,y)-Math.PI/2,D.ignore=!1},k.updateLayout=function(c,l){this.childAt(0).updateLayout(c,l);var a=c.getItemModel(l).getModel("effect");this._updateEffectAnimation(c,a,l)},b.inherits(f,m.Group),q.exports=f},function(d,g,c){function j(k,l,a){b.Group.call(this),this._createPolyline(k,l,a)}var b=c(3),h=c(1),f=j.prototype;f._createPolyline=function(k,l,a){var p=k.getItemLayout(l),m=new b.Polyline({shape:{points:p}});this.add(m),this._updateCommonStl(k,l,a)},f.updateData=function(k,m,a){var q=k.hostModel,p=this.childAt(0),l={shape:{points:k.getItemLayout(m)}};b.updateProps(p,l,q,m),this._updateCommonStl(k,m,a)},f._updateCommonStl=function(o,v,m){var w=this.childAt(0),q=o.getItemModel(v),p=o.getItemVisual(v,"color"),a=m&&m.lineStyle,k=m&&m.hoverLineStyle;m&&!o.hasItemOption||(a=q.getModel("lineStyle.normal").getLineStyle(),k=q.getModel("lineStyle.emphasis").getLineStyle()),w.useStyle(h.defaults({strokeNoScale:!0,fill:"none",stroke:p},a)),w.hoverStyle=k,b.setHoverStyle(this)},f.updateLayout=function(k,l){var a=this.childAt(0);a.setShape("points",k.getItemLayout(l))},h.inherits(j,b.Group),d.exports=j},function(m,h,g){var d=g(14),j=g(423),c=g(264),b=g(25),p=g(26),f=g(1),k=g(28);m.exports=function(s,E,A,G,B){for(var F=new j(G),D=0;D<s.length;D++){F.addNode(f.retrieve(s[D].id,s[D].name,D),D)}for(var u=[],C=[],z=0,D=0;D<E.length;D++){var r=E[D],n=r.source,o=r.target;F.addEdge(n,o,z)&&(C.push(r),u.push(f.retrieve(r.id,n+" > "+o)),z++)}var I,H=A.get("coordinateSystem");if("cartesian2d"===H||"polar"===H){I=k(s,A,A.ecModel)}else{var q=p.get(H),a=b((q&&"view"!==q.type?q.dimensions||[]:[]).concat(["value"]),s);I=new d(a,A),I.initData(s)}var l=new d(["value"],A);return l.initData(C,u),B&&B(I,l),c({mainData:I,struct:F,structAttr:"graph",datas:{node:I,edge:l},datasAttr:{node:"data",edge:"edgeData"}}),F.update(),F}},function(d,f,c){var g=c(1),b={};b.layout=function(A,v){v=v||{};var n=A.coordinateSystem,y=A.axis,k={},j=y.position,B=y.orient,m=n.getRect(),z=[m.x,m.x+m.width,m.y,m.y+m.height],x={horizontal:{top:z[2],bottom:z[3]},vertical:{left:z[0],right:z[1]}};k.position=["vertical"===B?x.vertical[j]:z[0],"horizontal"===B?x.horizontal[j]:z[3]];var p={horizontal:0,vertical:1};k.rotation=Math.PI/2*p[B];var w={top:-1,bottom:1,right:1,left:-1};k.labelDirection=k.tickDirection=k.nameDirection=w[j],A.get("axisTick.inside")&&(k.tickDirection=-k.tickDirection),g.retrieve(v.labelInside,A.get("axisLabel.inside"))&&(k.labelDirection=-k.labelDirection);var q=v.rotate;return null==q&&(q=A.get("axisLabel.rotate")),k.labelRotation="top"===j?-q:q,k.labelInterval=y.getLabelInterval(),k.z2=1,k},d.exports=b},function(w,m,j){function f(c,h){var a=c.getItemStyle(),l=c.get("areaColor");return null!=l&&(a.fill=l),a}function q(l,o,h,r,c){h.off("click"),h.off("mousedown"),o.get("selectedMode")&&(h.on("mousedown",function(){l._mouseDownFlag=!0}),h.on("click",function(i){if(l._mouseDownFlag){l._mouseDownFlag=!1;for(var e=i.target;!e.__regions;){e=e.parent}if(e){var a={type:("geo"===o.mainType?"geo":"map")+"ToggleSelect",batch:k.map(e.__regions,function(n){return{name:n.name,from:c.uid}})};a[o.mainType+"Id"]=o.id,r.dispatchAction(a),d(o,h)}}}))}function d(a,c){c.eachChild(function(h){k.each(h.__regions,function(e){h.trigger(a.isSelected(e.name)?"emphasis":"normal")})})}function b(c,h){var a=new p.Group;this._controller=new x(c.getZr()),this._controllerHost={target:h?a:null},this.group=a,this._updateGroup=h,this._mouseDownFlag}var x=j(95),g=j(250),v=j(128),p=j(3),k=j(1);b.prototype={constructor:b,draw:function(I,B,o,a,J){var n="geo"===I.mainType,H=I.getData&&I.getData();n&&B.eachComponent({mainType:"series",subType:"map"},function(i){H||i.getHostGeoModel()!==I||(H=i.getData())});var C=I.coordinateSystem,A=this.group,c=C.scale,z={position:C.position,scale:c};!A.childAt(0)||J?A.attr(z):p.updateProps(A,z,I),A.removeAll();var h=["itemStyle","normal"],G=["itemStyle","emphasis"],D=["label","normal"],E=["label","emphasis"],F=k.createHashMap();k.each(C.regions,function(af){var ad=F.get(af.name)||F.set(af.name,new p.Group),ai=new p.CompoundPath({shape:{paths:[]}});ad.add(ai);var ab,Z=I.getRegionModel(af.name)||I,X=Z.getModel(h),ag=Z.getModel(G),ae=f(X,c),ah=f(ag,c),U=Z.getModel(D),t=Z.getModel(E);if(H){ab=H.indexOfName(af.name);var K=H.getItemVisual(ab,"color",!0);K&&(ae.fill=K)}var R=U.getModel("textStyle"),l=t.getModel("textStyle");k.each(af.geometries,function(i){if("polygon"===i.type){ai.shape.paths.push(new p.Polygon({shape:{points:i.exterior}}));for(var r=0;r<(i.interiors?i.interiors.length:0);r++){ai.shape.paths.push(new p.Polygon({shape:{points:i.interiors[r]}}))}}}),ai.setStyle(ae),ai.style.strokeNoScale=!0,ai.culling=!0;var aa=U.get("show"),Y=t.get("show"),N=H&&isNaN(H.get("value",ab)),W=H&&H.getItemLayout(ab);if(n||N&&(aa||Y)||W&&W.showLabel){var u=H?ab:af.name,ac=I.getFormattedLabel(u,"normal"),y=I.getFormattedLabel(u,"emphasis"),Q=new p.Text({style:{text:aa?ac||af.name:"",fill:R.getTextColor(),textFont:R.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:Y?y||af.name:"",fill:l.getTextColor(),textFont:l.getFont()},position:af.center.slice(),scale:[1/c[0],1/c[1]],z2:10,silent:!0});ad.add(Q)}if(H){H.setItemGraphicEl(ab,ad)}else{var Z=I.getRegionModel(af.name);ai.eventData={componentType:"geo",geoIndex:I.componentIndex,name:af.name,region:Z&&Z.option||{}}}var V=ad.__regions||(ad.__regions=[]);V.push(af),p.setHoverStyle(ad,ah,{hoverSilentOnTouch:!!I.get("selectedMode")}),A.add(ad)}),this._updateController(I,B,o),q(this,I,A,o,a),d(I,A)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(l,z,h){function B(){var a={type:"geoRoam",componentType:u};return a[u+"Id"]=l.id,a}var c=l.coordinateSystem,A=this._controller,y=this._controllerHost;y.zoomLimit=l.get("scaleLimit"),y.zoom=c.getZoom(),A.enable(l.get("roam")||!1);var u=l.mainType;A.off("pan").on("pan",function(a,i){this._mouseDownFlag=!1,g.updateViewOnPan(y,a,i),h.dispatchAction(k.extend(B(),{dx:a,dy:i}))},this),A.off("zoom").on("zoom",function(n,C,i){if(this._mouseDownFlag=!1,g.updateViewOnZoom(y,n,C,i),h.dispatchAction(k.extend(B(),{zoom:n,originX:C,originY:i})),this._updateGroup){var D=this.group,r=D.scale;D.traverse(function(a){"text"===a.type&&a.attr("scale",[1/r[0],1/r[1]])})}},this),A.setPointerChecker(function(a,r,i){return c.getViewRectAfterRoam().contain(r,i)&&!v.onIrrelevantElement(a,h,l)})}},w.exports=b},function(b,c){var a={};a.updateViewOnPan=function(g,h,f){var j=g.target,d=j.position;d[0]+=h,d[1]+=f,j.dirty()},a.updateViewOnZoom=function(x,p,k,g){var v=x.target,f=x.zoomLimit,d=v.position,y=v.scale,j=x.zoom=x.zoom||1;if(j*=p,f){var w=f.min||0,q=f.max||1/0;j=Math.max(Math.min(q,j),w)}var m=j/x.zoom;x.zoom=j,d[0]-=(k-d[0])*(m-1),d[1]-=(g-d[1])*(m-1),y[0]*=m,y[1]*=m,v.dirty()},b.exports=a},function(k,h,g){function d(l,n){var a=l._model;return a.get("axisExpandable")&&a.get("axisExpandTriggerOn")===n}g(263),g(407),g(372);var j=g(2),c=g(1),b=g(37),m=5;j.extendComponentView({type:"parallel",render:function(l,n,a){this._model=l,this._api=a,this._handlers||(this._handlers={},c.each(f,function(i,o){a.getZr().on(o,this._handlers[o]=c.bind(i,this))},this)),b.createOrUpdate(this,"_throttledDispatchExpand",l.get("axisExpandRate"),"fixRate")},dispose:function(a,i){c.each(this._handlers,function(l,e){i.getZr().off(e,l)}),this._handlers=null},_throttledDispatchExpand:function(a){this._dispatchExpand(a)},_dispatchExpand:function(a){a&&this._api.dispatchAction(c.extend({type:"parallelAxisExpand"},a))}});var f={mousedown:function(a){d(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(p){var q=this._mouseDownPoint;if(d(this,"click")&&q){var n=[p.offsetX,p.offsetY],l=Math.pow(q[0]-n[0],2)+Math.pow(q[1]-n[1],2);if(l>m){return}var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([p.offsetX,p.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(o){if(!this._mouseDownPoint&&d(this,"mousemove")){var p=this._model,n=p.coordinateSystem.getSlidedAxisExpandWindow([o.offsetX,o.offsetY]),l=n.behavior;"jump"===l&&this._throttledDispatchExpand.debounceNextCall(p.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===l?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===l&&null})}}};j.registerPreprocessor(g(408))},function(b,c,a){a(422),a(357),a(418),a(55),a(360);var d=a(2);d.extendComponentView({type:"single"})},function(w,K,G){var D=G(2),N=G(1),C=G(9),A=G(266),z=G(83),F=G(187),q=z.mapVisual,M=G(5),H=z.eachVisual,L=G(4),J=N.isArray,B=N.each,I=L.asc,E=L.linearMap,k=N.noop,b=["#f6efa6","#d88273","#bf444c"],j=D.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-(1/0),1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(c,d,a){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(c,a)},optionUpdated:function(c,d){var a=this.option;C.canvasSupported||(a.realtime=!1),!d&&F.replaceVisualOption(a,c,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(a){var c=this.stateList;a=N.bind(a,this),this.controllerVisuals=F.createVisualMappings(this.option.controller,c,a),this.targetVisuals=F.createVisualMappings(this.option.target,c,a)},resetTargetSeries:function(){var a=this.option,c=null==a.seriesIndex;a.seriesIndex=c?[]:M.normalizeToArray(a.seriesIndex),c&&this.ecModel.eachSeries(function(f,d){a.seriesIndex.push(d)})},eachTargetSeries:function(a,c){N.each(this.option.seriesIndex,function(d){a.call(c,this.ecModel.getSeriesByIndex(d))},this)},isTargetSeries:function(a){var c=!1;return this.eachTargetSeries(function(d){d===a&&(c=!0)}),c},formatValueText:function(x,m,h){function f(c){return c===v[0]?"min":c===v[1]?"max":(+c).toFixed(g)}var d,a,y=this.option,g=y.precision,v=this.dataBound,p=y.formatter;return h=h||["<",">"],N.isArray(x)&&(x=x.slice(),d=!0),a=m?x:d?[f(x[0]),f(x[1])]:f(x),N.isString(p)?p.replace("{value}",d?a[0]:a).replace("{value2}",d?a[1]:a):N.isFunction(p)?d?p(x[0],x[1]):p(x):d?x[0]===v[0]?h[0]+" "+a[1]:x[1]===v[1]?h[1]+" "+a[0]:a[0]+" - "+a[1]:a},resetExtent:function(){var a=this.option,c=I([a.min,a.max]);this._dataExtent=c},getDataDimension:function(a){var c=this.option.dimension;return null!=c?c:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function g(c){J(s.color)&&!c.inRange&&(c.inRange={color:s.color.slice().reverse()}),c.inRange=c.inRange||{color:b},B(this.stateList,function(l){var d=c[l];if(N.isString(d)){var o=A.get(d,"active",m);o?(c[l]={},c[l][d]=o):delete c[l]}},this)}function h(l,o,d){var u=l[o],c=l[d];u&&!c&&(c=l[d]={},B(u,function(v,x){if(z.isValidType(x)){var n=A.get(x,"inactive",m);null!=n&&(c[x]=n,"color"!==x||c.hasOwnProperty("opacity")||c.hasOwnProperty("colorAlpha")||(c.opacity=[0,0]))}}))}function f(d){var l=(d.inRange||{}).symbol||(d.outOfRange||{}).symbol,c=(d.inRange||{}).symbolSize||(d.outOfRange||{}).symbolSize,o=this.get("inactiveColor");B(this.stateList,function(t){var n=this.itemSize,i=d[t];i||(i=d[t]={color:m?o:[o]}),null==i.symbol&&(i.symbol=l&&N.clone(l)||(m?"roundRect":["roundRect"])),null==i.symbolSize&&(i.symbolSize=c&&N.clone(c)||(m?n[0]:[n[0],n[0]])),i.symbol=q(i.symbol,function(v){return"none"===v||"square"===v?"roundRect":v});var e=i.symbolSize;if(null!=e){var u=-(1/0);H(e,function(v){v>u&&(u=v)}),i.symbolSize=q(e,function(v){return E(v,[0,u],[0,n[0]],!0)})}},this)}var s=this.option,p={inRange:s.inRange,outOfRange:s.outOfRange},a=s.target||(s.target={}),r=s.controller||(s.controller={});N.merge(a,p),N.merge(r,p);var m=this.isCategory();g.call(this,a),g.call(this,r),h.call(this,a,"inRange","outOfRange"),f.call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return !!this.option.categories},setSelected:k,getValueState:k,getVisualMeta:k});w.exports=j},function(k,h,g){var d=g(1),j=g(3),c=g(7),b=g(12),m=g(2),f=g(83);k.exports=m.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,i){this.ecModel=a,this.api=i,this.visualMapModel},render:function(l,o,a,p){return this.visualMapModel=l,l.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(l){var o=this.visualMapModel,a=c.normalizeCssArray(o.get("padding")||0),p=l.getBoundingRect();l.add(new j.Rect({z2:-1,silent:!0,shape:{x:p.x-a[3],y:p.y-a[0],width:p.width+a[3]+a[1],height:p.height+a[0]+a[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},getControllerVisual:function(A,v,p){function y(a){return z[a]}function n(a,i){z[a]=i}p=p||{};var l=p.forceState,B=this.visualMapModel,z={};if("symbol"===v&&(z.symbol=B.get("itemSymbol")),"color"===v){var x=B.get("contentColor");z.color=x}var q=B.controllerVisuals[l||B.getValueState(A)],w=f.prepareVisualTypes(q);return d.each(w,function(e){var a=q[e];p.convertOpacityToAlpha&&"opacity"===e&&(e="colorAlpha",a=q.__alphaForOpacity),f.dependsOn(e,v)&&a&&a.applyVisual(A,y,n)}),z[v]},positionGroup:function(l){var n=this.visualMapModel,a=this.api;b.positionElement(l,n.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},doRender:d.noop})},function(d,f,c){var h=c(1),b=c(12),g={getItemAlign:function(C,y,v){var m=C.option,k=m.align;if(null!=k&&"auto"!==k){return k}for(var a={width:y.getWidth(),height:y.getHeight()},D="horizontal"===m.orient?1:0,q=[["left","right","width"],["top","bottom","height"]],B=q[D],A=[0,null,10],w={},z=0;z<3;z++){w[q[1-D][z]]=A[z],w[B[z]]=2===z?v[0]:m[B[z]]}var x=[["x","width",3],["y","height",0]][D],j=b.getLayoutRect(w,a,m.padding);return B[(j.margin[x[2]]||0)+j[x[0]]+0.5*j[x[1]]<0.5*a[x[1]]?0:1]},convertDataIndex:function(a){return h.each(a||[],function(i){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null)}),a}};d.exports=g},function(d,f,c){function h(a,i){return a&&a.hasOwnProperty&&a.hasOwnProperty(i)}var b=c(1),g=b.each;d.exports=function(a){var i=a&&a.visualMap;b.isArray(i)||(i=i?[i]:[]),g(i,function(j){if(j){h(j,"splitList")&&!h(j,"pieces")&&(j.pieces=j.splitList,delete j.splitList);var k=j.pieces;k&&b.isArray(k)&&g(k,function(e){b.isObject(e)&&(h(e,"start")&&!h(e,"min")&&(e.min=e.start),h(e,"end")&&!h(e,"max")&&(e.max=e.end))})}})}},function(b,c,a){a(13).registerSubTypeDefaulter("visualMap",function(d){return d.categories||(d.pieces?d.pieces.length>0:d.splitNumber>0)&&!d.calculable?"piecewise":"continuous"})},function(m,h,g){function d(a,i){a.eachTargetSeries(function(n){var l=n.getData();p.applyVisual(a.stateList,a.targetVisuals,l,a.getValueState,a,a.getDataDimension(l))})}function j(a){a.eachSeries(function(o){var l=o.getData(),q=[];a.eachComponent("visualMap",function(i){if(i.isTargetSeries(o)){var e=i.getVisualMeta(k.bind(c,null,o,i))||{stops:[],outerColors:[]};e.dimension=i.getDataDimension(l),q.push(e)}}),o.getData().setVisual("visualMeta",q)})}function c(E,z,w,v){function C(a){return D[a]}function q(a,i){D[a]=i}for(var l=z.targetVisuals[v],F=f.prepareVisualTypes(l),D={color:E.getData().getVisual("color")},B=0,x=F.length;B<x;B++){var A=F[B],y=l["opacity"===A?"__alphaForOpacity":A];y&&y.applyVisual(w,C,q)}return D.color}var b=g(2),p=g(187),f=g(83),k=g(1);b.registerVisual(b.PRIORITY.VISUAL.COMPONENT,function(a){a.eachComponent("visualMap",function(i){d(i,a)}),j(a)})},function(d,f,c){var g=c(2),b={type:"selectDataRange",event:"dataRangeSelected",update:"update"};g.registerAction(b,function(a,h){h.eachComponent({mainType:"visualMap",query:a},function(i){i.setSelected(a.selected)})})},function(w,m,j){function f(){g.call(this)}function q(a){this.name=a,this.zoomLimit,g.call(this),this._roamTransform=new f,this._viewTransform=new f,this._center,this._zoom}function d(l,r,h,u){var c=h.seriesModel,s=c?c.coordinateSystem:null;return s===this?s[l](u):null}var b=j(6),x=j(19),g=j(58),v=j(1),p=j(11),k=b.applyTransform;v.mixin(f,g),q.prototype={constructor:q,type:"view",dimensions:["x","y"],setBoundingRect:function(c,h,a,l){return this._rect=new p(c,h,a,l),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(c,h,a,l){this.transformTo(c,h,a,l),this._viewRect=new p(c,h,a,l)},transformTo:function(l,r,h,u){var c=this.getBoundingRect(),s=this._viewTransform;s.transform=c.calculateTransform(new p(l,r,h,u)),s.decomposeTransform(),this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var c=this.zoomLimit;c&&(null!=c.max&&(a=Math.min(c.max,a)),null!=c.min&&(a=Math.max(c.min,a))),this._zoom=a,this._updateCenterAndZoom()},getDefaultCenter:function(){var c=this.getBoundingRect(),h=c.x+c.width/2,a=c.y+c.height/2;return[h,a]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var l=this._viewTransform.getLocalTransform(),o=this._roamTransform,h=this.getDefaultCenter(),r=this.getCenter(),c=this.getZoom();r=b.applyTransform([],r,l),h=b.applyTransform([],h,l),o.origin=r,o.position=[h[0]-r[0],h[1]-r[1]],o.scale=[c,c],this._updateTransform()},_updateTransform:function(){var a=this._roamTransform,c=this._viewTransform;c.parent=a,a.updateTransform(),c.updateTransform(),c.transform&&x.copy(this.transform||(this.transform=[]),c.transform),this.transform?(this.invTransform=this.invTransform||[],x.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},dataToPoint:function(a){var c=this.transform;return c?k([],a,c):[a[0],a[1]]},pointToData:function(a){var c=this.invTransform;return c?k([],a,c):[a[0],a[1]]},convertToPixel:v.curry(d,"dataToPoint"),convertFromPixel:v.curry(d,"pointToData"),containPoint:function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])}},v.mixin(q,g),w.exports=q},function(d,h,c){function k(l,m,a){if(this.name=l,this.geometries=m,a){a=[a[0],a[1]]}else{var o=this.getBoundingRect();a=[o.x+o.width/2,o.y+o.height/2]}this.center=a}var b=c(267),j=c(11),g=c(85),f=c(6);k.prototype={constructor:k,properties:null,getBoundingRect:function(){var x=this._rect;if(x){return x}for(var r=Number.MAX_VALUE,p=[r,r],m=[-r,-r],v=[],o=[],w=this.geometries,s=0;s<w.length;s++){if("polygon"===w[s].type){var q=w[s].exterior;g.fromPoints(q,v,o),f.min(p,p,v),f.max(m,m,o)}}return 0===s&&(p[0]=p[1]=m[0]=m[1]=0),this._rect=new j(p[0],p[1],m[0]-p[0],m[1]-p[1])},contain:function(p){var v=this.getBoundingRect(),m=this.geometries;if(!v.contain(p[0],p[1])){return !1}p:for(var x=0,w=m.length;x<w;x++){if("polygon"===m[x].type){var u=m[x].exterior,q=m[x].interiors;if(b.contain(u,p[0],p[1])){for(var a=0;a<(q?q.length:0);a++){if(b.contain(q[a])){continue p}}return !0}}}return !1},transformTo:function(E,z,v,q){var C=this.getBoundingRect(),m=C.width/C.height;v?q||(q=v/m):v=m*q;for(var s=new j(E,z,v,q),D=C.calculateTransform(s),B=this.geometries,w=0;w<B.length;w++){if("polygon"===B[w].type){for(var A=B[w].exterior,y=B[w].interiors,o=0;o<A.length;o++){f.applyTransform(A[o],A[o],D)}for(var x=0;x<(y?y.length:0);x++){for(var o=0;o<y[x].length;o++){f.applyTransform(y[x][o],y[x][o],D)}}}}C=this._rect,C.copy(s),this.center=[C.x+C.width/2,C.y+C.height/2]}},d.exports=k},function(d,g,c){function j(A){if(!A.UTF8Encoding){return A}var w=A.UTF8Scale;null==w&&(w=1024);for(var q=A.features,m=0;m<q.length;m++){for(var k=q[m],a=k.geometry,B=a.coordinates,p=a.encodeOffsets,z=0;z<B.length;z++){var y=B[z];if("Polygon"===a.type){B[z]=b(y,p[z],w)}else{if("MultiPolygon"===a.type){for(var v=0;v<y.length;v++){var x=y[v];y[v]=b(x,p[z][v],w)}}}}}return A.UTF8Encoding=!1,A}function b(x,v,u){for(var p=[],w=v[0],m=v[1],k=0;k<x.length;k+=2){var y=x.charCodeAt(k)-64,q=x.charCodeAt(k+1)-64;y=y>>1^-(1&y),q=q>>1^-(1&q),y+=w,q+=m,w=y,m=q,p.push([y/u,q/u])}return p}var h=c(1),f=c(261);d.exports=function(a){return j(a),h.map(h.filter(a.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(m){var p=m.properties,l=m.geometry,q=l.coordinates,k=[];"Polygon"===l.type&&k.push({type:"polygon",exterior:q[0],interiors:q.slice(1)}),"MultiPolygon"===l.type&&h.each(q,function(e){e[0]&&k.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})});var o=new f(p.name,k,p.cp);return o.properties=p,o})}},function(d,f,c){function g(h,j){var a=[];return h.eachComponent("parallel",function(k,i){var e=new b(k,h,j);e.name="parallel_"+i,e.resize(k,j),k.coordinateSystem=e,e.model=k,a.push(e)}),h.eachSeries(function(l){if("parallel"===l.get("coordinateSystem")){var k=h.queryComponents({mainType:"parallel",index:l.get("parallelIndex"),id:l.get("parallelId")})[0];l.coordinateSystem=k.coordinateSystem}}),a}var b=c(405);c(26).register("parallel",{create:g})},function(C,x,q){function k(c){var d=c.mainData,a=c.datas;a||(a={main:d},c.datasAttr={main:"data"}),c.datas=c.mainData=null,B(d,a,c),y(a,function(e){y(d.TRANSFERABLE_METHODS,function(f){e.wrapMethod(f,v.curry(A,c))})}),d.wrapMethod("cloneShallow",v.curry(b,c)),y(d.CHANGABLE_METHODS,function(e){d.wrapMethod(e,v.curry(j,c))}),v.assert(a[d.dataType]===d)}function A(c,d){if(m(this)){var a=v.extend({},this[w]);a[this.dataType]=d,B(d,a,c)}else{z(d,this.dataType,this[g],c)}return d}function j(a,c){return a.struct&&a.struct.update(this),c}function b(a,c){return y(c[w],function(d,e){d!==c&&z(d.cloneShallow(),e,c,a)}),c}function D(a){var c=this[g];return null==a||null==c?c:c[w][a]}function m(a){return a[g]===a}function B(c,d,a){c[w]={},y(d,function(f,h){z(f,h,c,a)})}function z(c,d,a,f){a[w][d]=c,c[g]=a,c.dataType=d,f.struct&&(c[f.structAttr]=f.struct,f.struct[f.datasAttr[d]]=c),c.getLinkedData=D}var v=q(1),y=v.each,w="\0__link_datas",g="\0__link_mainData";C.exports=k},function(d,f,c){function g(){function h(v,p){if(p>=a.length){return v}for(var m=-1,i=v.length,y=a[p++],q={},x={};++m<i;){var w=y(v[m]),t=x[w];t?t.push(v[m]):x[w]=[v[m]]}return b.each(x,function(n,l){q[l]=h(n,p)}),q}function j(e,m){if(m>=a.length){return e}var l=[],i=k[m++];return b.each(e,function(o,n){l.push({key:n,values:j(o,m)})}),i?l.sort(function(n,o){return i(n.key,o.key)}):l}var a=[],k=[];return{key:function(e){return a.push(e),this},sortKeys:function(e){return k[a.length-1]=e,this},entries:function(e){return j(h(e,0),0)}}}var b=c(1);d.exports=g},function(d,f,c){var h=c(1),b={get:function(l,m,k){var j=h.clone((g[l]||{})[m]);return k&&h.isArray(j)?j[j.length-1]:j}},g={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};d.exports=b},function(d,g,c){function j(a,i){return Math.abs(a-i)<f}function b(p,w,o){var m=0,v=p[0];if(!v){return !1}for(var q=1;q<p.length;q++){var k=p[q];m+=h(v[0],v[1],k[0],k[1],w,o),v=k}var n=p[0];return j(v[0],n[0])&&j(v[1],n[1])||(m+=h(v[0],v[1],n[0],n[1],w,o)),0!==m}var h=c(99),f=1e-8;d.exports={contain:b}},function(b,c,a){var d=a(90).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,d.superApply(this,"getInitialData",arguments)}});b.exports=d},function(V,al,ah){function ad(M,z,r,b){var o=M.getItemLayout(z),L=r.get("symbolRepeat"),C=r.get("symbolClip"),s=r.get("symbolPosition")||"start",A=r.get("symbolRotate"),x=(A||0)*Math.PI/180||0,a=r.get("symbolPatternSize")||2,w=r.isAnimationEnabled(),k={dataIndex:z,layout:o,itemModel:r,symbolType:M.getItemVisual(z,"symbol")||"circle",color:M.getItemVisual(z,"color"),symbolClip:C,symbolRepeat:L,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:a,rotation:x,animationModel:w?r:null,hoverAnimation:w&&r.get("hoverAnimation"),z2:r.getShallow("z",!0)||0};ap(r,L,o,b,k),ac(M,z,o,L,C,k.boundingLength,k.pxSign,a,b,k),Z(r,k.symbolScale,x,b,k);var I=k.symbolSize,D=r.get("symbolOffset");return K.isArray(D)&&(D=[W(D[0],I[0]),W(D[1],I[1])]),X(r,I,o,L,C,D,s,k.valueLineWidth,k.boundingLength,k.repeatCutLength,b,k),k}function ap(p,h,g,d,k){var c=d.valueDim,b=p.get("symbolBoundingData"),v=d.coordSys.getOtherAxis(d.coordSys.getBaseAxis()),f=v.toGlobalCoord(v.dataToCoord(0)),m=k.boundingLength=null!=b?v.toGlobalCoord(v.dataToCoord(v.scale.parse(b)))-f:h?d.coordSysExtent[c.index][1-+(g[c.wh]<=0)]-f:g[c.wh];h&&(k.repeatCutLength=g[c.wh]),k.pxSign=m>0?1:m<0?-1:0}function ac(L,z,w,m,D,k,b,M,v,I){var C=v.valueDim,x=v.categoryDim,A=Math.abs(w[x.wh]),y=L.getItemVisual(z,"symbolSize");K.isArray(y)?y=y.slice():(null==y&&(y="100%"),y=[y,y]),y[x.index]=W(y[x.index],A),y[C.index]=W(y[C.index],m?A:Math.abs(k)),I.symbolSize=y;var g=I.symbolScale=[y[0]/M,y[1]/M];g[C.index]*=(v.isHorizontal?-1:1)*b}function Z(d,f,c,h,b){var g=d.get(B)||0;g&&(E.attr({scale:f.slice(),rotation:c}),E.updateTransform(),g/=E.getLineScale(),g*=f[h.valueDim.index]),b.valueLineWidth=g}function X(ax,aL,aH,aD,aP,aC,az,ay,aF,aw,aN,aI){var aM=aN.categoryDim,aK=aN.valueDim,aB=aI.pxSign,aJ=Math.max(aL[aK.index]+ay,0),aE=aJ;if(aD){var av=Math.abs(aF),ar=K.retrieve(ax.get("symbolMargin"),"15%")+"",at=!1;ar.lastIndexOf("!")===ar.length-1&&(at=!0,ar=ar.slice(0,ar.length-1)),ar=W(ar,aL[aK.index]);var aQ=Math.max(aJ+2*ar,0),aO=at?0:2*ar,au=Y.isNumeric(aD),C=au?aD:F((av+aO)/aQ),z=av-C*aJ;ar=z/2/(at?C:C-1),aQ=aJ+2*ar,aO=at?0:2*ar,au||"fixed"===aD||(C=aw?F((Math.abs(aw)+aO)/aQ):0),aE=C*aQ-aO,aI.repeatTimes=C,aI.symbolMargin=ar}var aA=aB*(aE/2),M=aI.pathPosition=[];M[aM.index]=aH[aM.wh]/2,M[aK.index]="start"===az?aA:"end"===az?aF-aA:aF/2,aC&&(M[0]+=aC[0],M[1]+=aC[1]);var D=aI.bundlePosition=[];D[aM.index]=aH[aM.xy],D[aK.index]=aH[aK.xy];var aG=aI.barRectShape=K.extend({},aH);aG[aK.wh]=aB*Math.max(Math.abs(aH[aK.wh]),Math.abs(M[aK.index]+aA)),aG[aM.wh]=aH[aM.wh];var I=aI.clipShape={};I[aM.xy]=-aH[aM.xy],I[aM.wh]=aN.ecSize[aM.wh],I[aK.xy]=0,I[aK.wh]=aH[aK.wh]}function af(b){var c=b.symbolPatternSize,a=aa.createSymbol(b.symbolType,-c/2,-c/2,c,c,b.color);return a.attr({culling:!0}),"image"!==a.type&&a.setStyle({strokeNoScale:!0}),a}function U(S,C,w,m){function M(d){var f=x.slice(),g=w.pxSign,c=d;return("start"===w.symbolRepeatDirection?g>0:g<0)&&(c=A-1-d),f[D.index]=z*(c-A/2+0.5)+x[D.index],{position:f,scale:w.symbolScale.slice(),rotation:w.rotation}}function l(){ao(S,function(a){a.trigger("emphasis")})}function b(){ao(S,function(a){a.trigger("normal")})}var T=S.__pictorialBundle,P=w.symbolSize,I=w.valueLineWidth,x=w.pathPosition,D=C.valueDim,A=w.repeatTimes||0,k=0,z=P[C.valueDim.index]+I+2*w.symbolMargin;for(ao(S,function(a){a.__pictorialAnimationIndex=k,a.__pictorialRepeatTimes=A,k<A?Q(a,null,M(k),w,m):Q(a,null,{scale:[0,0]},w,m,function(){T.remove(a)}),ae(a,w),k++});k<A;k++){var O=af(w);O.__pictorialAnimationIndex=k,O.__pictorialRepeatTimes=A,T.add(O);var L=M(k,!0);Q(O,{position:L.position,scale:[0,0]},{scale:L.scale,rotation:L.rotation},w,m),O.on("mouseover",l).on("mouseout",b),ae(O,w)}}function an(d,h,c,l){function b(){this.trigger("emphasis")}function k(){this.trigger("normal")}var g=d.__pictorialBundle,f=d.__pictorialMainPath;f?Q(f,null,{position:c.pathPosition.slice(),scale:c.symbolScale.slice(),rotation:c.rotation},c,l):(f=d.__pictorialMainPath=af(c),g.add(f),Q(f,{position:c.pathPosition.slice(),scale:[0,0],rotation:c.rotation},{scale:c.symbolScale.slice()},c,l),f.on("mouseover",b).on("mouseout",k)),ae(f,c)}function ai(d,f,c){var g=K.extend({},f.barRectShape),b=d.__pictorialBarRect;b?Q(b,null,{shape:g},f,c):(b=d.__pictorialBarRect=new j.Rect({z2:2,shape:g,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),d.add(b))}function am(p,h,g,d){if(g.symbolClip){var k=p.__pictorialClipPath,c=K.extend({},g.clipShape),b=h.valueDim,v=g.animationModel,f=g.dataIndex;if(k){j.updateProps(k,{shape:c},v,f)}else{c[b.wh]=0,k=new j.Rect({shape:c}),p.__pictorialBundle.setClipPath(k),p.__pictorialClipPath=k;var m={};m[b.wh]=g.clipShape[b.wh],j[d?"updateProps":"initProps"](k,{shape:m},v,f)}}}function ak(b,c){var a=b.getItemModel(c);return a.getAnimationDelayParams=ab,a.isAnimationEnabled=aj,a}function ab(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function aj(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function ae(b,c){b.off("emphasis").off("normal");var a=c.symbolScale.slice();c.hoverAnimation&&b.on("emphasis",function(){this.animateTo({scale:[1.1*a[0],1.1*a[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:a.slice()},400,"elasticOut")})}function R(d,f,c,h){var b=new j.Group,g=new j.Group;return b.add(g),b.__pictorialBundle=g,g.attr("position",c.bundlePosition.slice()),c.symbolRepeat?U(b,f,c):an(b,f,c),ai(b,c,h),am(b,f,c,h),b.__pictorialShapeStr=aq(d,c),b.__pictorialSymbolMeta=c,b}function J(d,f,c){var h=c.animationModel,b=c.dataIndex,g=d.__pictorialBundle;j.updateProps(g,{position:c.bundlePosition.slice()},h,b),c.symbolRepeat?U(d,f,c,!0):an(d,f,c,!0),ai(d,c,!0),am(d,f,c,!0)}function N(d,f,c,h){var b=h.__pictorialBarRect;b&&(b.style.text="");var g=[];ao(h,function(a){g.push(a)}),h.__pictorialMainPath&&g.push(h.__pictorialMainPath),h.__pictorialClipPath&&(c=null),K.each(g,function(a){j.updateProps(a,{scale:[0,0]},c,f,function(){h.parent&&h.parent.remove(h)})}),d.setItemGraphicEl(f,null)}function aq(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function ao(b,c,a){K.each(b.__pictorialBundle.children(),function(d){d!==b.__pictorialBarRect&&c.call(a,d)})}function Q(d,f,c,h,b,g){f&&d.attr(f),h.symbolClip&&!b?c&&d.attr(c):c&&j[b?"updateProps":"initProps"](d,c,h.animationModel,h.dataIndex,g)}function q(w,k,h){var f=h.color,p=h.dataIndex,d=h.itemModel,b=d.getModel("itemStyle.normal").getItemStyle(["color"]),x=d.getModel("itemStyle.emphasis").getItemStyle();ao(w,function(a){a.setColor(f),a.setStyle(K.defaults({fill:f,opacity:h.opacity},b)),j.setHoverStyle(a,x),a.z2=h.z2});var g={},v=k.valueDim.posDesc[+(h.boundingLength>0)],m=w.__pictorialBarRect;G.setLabel(m.style,g,d,f,k.seriesModel,p,v),j.setHoverStyle(m,g)}function F(a){var b=Math.round(a);return Math.abs(a-b)<0.0001?b:Math.ceil(a)}var K=ah(1),j=ah(3),aa=ah(24),Y=ah(4),G=ah(91),W=Y.parsePercent,B=["itemStyle","normal","borderWidth"],ag=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],E=new j.Circle,H=ah(2).extendChartView({type:"pictorialBar",render:function(w,m,g){var p=this.group,d=w.getData(),b=this._data,x=w.coordinateSystem,f=x.getBaseAxis(),v=!!f.isHorizontal(),n=x.grid.getRect(),k={ecSize:{width:g.getWidth(),height:g.getHeight()},seriesModel:w,coordSys:x,coordSysExtent:[[n.x,n.x+n.width],[n.y,n.y+n.height]],isHorizontal:v,valueDim:ag[+v],categoryDim:ag[1-v]};return d.diff(b).add(function(c){if(d.hasValue(c)){var l=ak(d,c),a=ad(d,c,l,k),h=R(d,k,a);d.setItemGraphicEl(c,h),p.add(h),q(h,k,a)}}).update(function(o,y){var h=b.getItemGraphicEl(y);if(!d.hasValue(o)){return void p.remove(h)}var r=ak(d,o),a=ad(d,o,r,k),c=aq(d,a);h&&c!==h.__pictorialShapeStr&&(p.remove(h),d.setItemGraphicEl(o,null),h=null),h?J(h,k,a):h=R(d,k,a,!0),d.setItemGraphicEl(o,h),h.__pictorialSymbolMeta=a,p.add(h),q(h,k,a)}).remove(function(a){var c=b.getItemGraphicEl(a);c&&N(b,a,c.__pictorialSymbolMeta.animationModel,c)}).execute(),this._data=d,this.group},dispose:K.noop,remove:function(b,c){var a=this.group,d=this._data;b.get("animation")?d&&d.eachItemGraphicEl(function(f){N(d,f.dataIndex,b,f)}):a.removeAll()}});V.exports=H},function(b,c,a){var d=a(2);a(271),a(272),d.registerVisual(a(274)),d.registerLayout(a(273))},function(d,g,c){var j=c(1),b=c(17),h=c(183),f=b.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});j.mixin(f,h.seriesModelMixin,!0),d.exports=f},function(q,j,h){function f(B,y,w){var r=y.getItemModel(w),A=r.getModel(p),c=y.getItemVisual(w,"color"),C=A.getItemStyle(["borderColor"]),u=B.childAt(B.whiskerIndex);u.style.set(C),u.style.stroke=c,u.dirty();var x=B.childAt(B.bodyIndex);x.style.set(C),x.style.stroke=c,x.dirty();var z=r.getModel(k).getItemStyle();b.setHoverStyle(B,z)}var m=h(1),d=h(30),b=h(3),v=h(183),g=d.extend({type:"boxplot",getStyleUpdater:function(){return f},dispose:m.noop});m.mixin(g,v.viewMixin,!0);var p=["itemStyle","normal"],k=["itemStyle","emphasis"];q.exports=g},function(m,h,g){function d(l){var n=[],a=[];return l.eachSeriesByType("boxplot",function(i){var o=i.getBaseAxis(),e=b.indexOf(a,o);e<0&&(e=a.length,a[e]=o,n[e]={axis:o,seriesModels:[]}),n[e].seriesModels.push(i)}),n}function j(D){var z,v,r=D.axis,C=D.seriesModels,q=C.length,E=D.boxWidthList=[],B=D.boxOffsetList=[],w=[];if("category"===r.type){v=r.getBandWidth()}else{var A=0;k(C,function(a){A=Math.max(A,a.getData().count())}),z=r.getExtent(),Math.abs(z[1]-z[0])/A}k(C,function(a){var i=a.get("boxWidth");b.isArray(i)||(i=[i,i]),w.push([f(i[0],v)||0,f(i[1],v)||0])});var y=0.8*v-2,l=y/q*0.3,x=(y-l*(q-1))/q,u=x/2-y/2;k(C,function(a,i){B.push(u),u+=l+x,E.push(Math.min(Math.max(x,w[i][0]),w[i][1]))})}function c(D,y,w){var r,B=D.coordinateSystem,q=D.getData(),E=w/2,v=D.get("layout"),C="horizontal"===v?0:1,A=1-C,x=["x","y"],z=[];b.each(q.dimensions,function(l){var n=q.getDimensionInfo(l),a=n.coordDim;a===x[A]?z.push(l):a===x[C]&&(r=l)}),null==r||z.length<5||q.each([r].concat(z),function(){function J(L){var K=[];K[C]=u,K[A]=L;var M;return isNaN(u)||isNaN(L)?M=[NaN,NaN]:(M=B.dataToPoint(K),M[C]+=y),M}function s(L,M){var K=L.slice(),N=L.slice();K[C]+=E,N[C]-=E,M?H.push(K,N):H.push(N,K)}function l(i){var n=[i.slice(),i.slice()];n[0][C]-=E,n[1][C]+=E,I.push(n)}var a=arguments,u=a[0],G=a[z.length+1],e=J(a[3]),F=J(a[1]),o=J(a[5]),I=[[F,J(a[2])],[o,J(a[4])]];l(F),l(o),l(e);var H=[];s(I[0][1],0),s(I[1][1],1),q.setItemLayout(G,{chartLayout:v,initBaseline:e[A],median:e,bodyEnds:H,whiskerEnds:I})})}var b=g(1),p=g(4),f=p.parsePercent,k=b.each;m.exports=function(a){var i=d(a);k(i,function(l){var n=l.seriesModels;n.length&&(j(l),k(n,function(q,o){c(q,l.boxOffsetList[o],l.boxWidthList[o])}))})}},function(b,c){var a=["itemStyle","normal","borderColor"];b.exports=function(d,f){var g=d.get("color");d.eachRawSeriesByType("boxplot",function(i){var h=g[i.seriesIndex%g.length],j=i.getData();j.setVisual({legendSymbol:"roundRect",color:i.get(a)||h}),d.isSeriesFiltered(i)||j.each(function(k){var l=j.getItemModel(k);j.setItemVisual(k,{color:l.get(a,!0)})})})}},function(b,c,a){var d=a(2);a(276),a(277),d.registerPreprocessor(a(280)),d.registerVisual(a(279)),d.registerLayout(a(278))},function(d,g,c){var j=c(1),b=c(17),h=c(183),f=b.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(k,l,a){var m=l.getItemLayout(k);return a.rect(m.brushRect)}});j.mixin(f,h.seriesModelMixin,!0),d.exports=f},function(q,j,h){function f(C,z,w){var r=z.getItemModel(w),B=r.getModel(p),c=z.getItemVisual(w,"color"),D=z.getItemVisual(w,"borderColor")||c,u=B.getItemStyle(["color","color0","borderColor","borderColor0"]),x=C.childAt(C.whiskerIndex);x.useStyle(u),x.style.stroke=D;var A=C.childAt(C.bodyIndex);A.useStyle(u),A.style.fill=c,A.style.stroke=D;var y=r.getModel(k).getItemStyle();b.setHoverStyle(C,y)}var m=h(1),d=h(30),b=h(3),v=h(183),g=d.extend({type:"candlestick",getStyleUpdater:function(){return f},dispose:m.noop});m.mixin(g,v.viewMixin,!0);var p=["itemStyle","normal"],k=["itemStyle","emphasis"];q.exports=g},function(d,g,c){function j(q,v){var p,w=q.getBaseAxis(),m="category"===w.type?w.getBandWidth():(p=w.getExtent(),Math.abs(p[1]-p[0])/v.count()),r=f(h(q.get("barMaxWidth"),m),m),k=f(h(q.get("barMinWidth"),1),m),o=q.get("barWidth");return null!=o?f(o,m):Math.max(Math.min(m/2,r),k)}var b=c(1),h=c(1).retrieve,f=c(4).parsePercent;d.exports=function(a){a.eachSeriesByType("candlestick",function(y){var v,p=y.coordinateSystem,m=y.getData(),k=j(y,m),z=y.get("layout"),n="horizontal"===z?0:1,x=1-n,w=["x","y"],q=[];b.each(m.dimensions,function(l){var e=m.getDimensionInfo(l),o=e.coordDim;o===w[x]?q.push(l):o===w[n]&&(v=l)}),null==v||q.length<4||m.each([v].concat(q),function(){function A(M){var N=[];return N[n]=I,N[x]=M,isNaN(I)||isNaN(M)?[NaN,NaN]:p.dataToPoint(N)}function G(N,O){var M=N.slice(),P=N.slice();M[n]+=k/2,P[n]-=k/2,O?l.push(M,P):l.push(P,M)}function C(){var M=A(Math.min(F,B,E,D)),t=A(Math.max(F,B,E,D));return M[n]-=k/2,t[n]-=k/2,{x:M[0],y:M[1],width:x?k:t[0]-M[0],height:x?t[1]-M[1]:k}}var K=arguments,I=K[0],H=K[q.length+1],F=K[1],B=K[2],E=K[3],D=K[4],u=Math.min(F,B),o=Math.max(F,B),r=A(u),L=A(o),J=A(E),s=A(D),i=[[s,L],[J,r]],l=[];G(L,0),G(r,1),m.setItemLayout(H,{chartLayout:z,sign:F>B?-1:F<B?1:0,initBaseline:F>B?L[x]:r[x],bodyEnds:l,whiskerEnds:i,brushRect:C()})},!0)})}},function(d,f){var c=["itemStyle","normal","borderColor"],h=["itemStyle","normal","borderColor0"],b=["itemStyle","normal","color"],g=["itemStyle","normal","color0"];d.exports=function(a,i){a.eachRawSeriesByType("candlestick",function(k){var j=k.getData();j.setVisual({legendSymbol:"roundRect"}),a.isSeriesFiltered(k)||j.each(function(l){var n=j.getItemModel(l),m=j.getItemLayout(l).sign;j.setItemVisual(l,{color:n.get(m>0?b:g),borderColor:n.get(m>0?c:h)})})})}},function(b,c,a){var d=a(1);b.exports=function(e){e&&d.isArray(e.series)&&d.each(e.series,function(f){d.isObject(f)&&"k"===f.type&&(f.type="candlestick")})}},function(w,K,G){function D(f){var g,d=f.type;if("path"===d){var h=f.shape;g=L.makePath(h.pathData,null,{x:h.x||0,y:h.y||0,width:h.width||0,height:h.height||0},"center"),g.__customPathData=f.pathData}else{if("image"===d){g=new L.Image({}),g.__customImagePath=f.style.image}else{if("text"===d){g=new L.Text({}),g.__customText=f.style.text}else{var c=L[d.charAt(0).toUpperCase()+d.slice(1)];g=new c}}}return g.__customGraphicType=d,g}function N(x,m,h,f,p,d){var y={},g=h.style||{};if(h.shape&&(y.shape=H.clone(h.shape)),h.position&&(y.position=h.position.slice()),h.scale&&(y.scale=h.scale.slice()),h.origin&&(y.origin=h.origin.slice()),h.rotation&&(y.rotation=h.rotation),"image"===x.type&&h.style){var v=y.style={};H.each(["x","y","width","height"],function(a){C(a,v,g,x.style,d)})}if("text"===x.type&&h.style){var v=y.style={};H.each(["x","y"],function(a){C(a,v,g,x.style,d)})}if("group"!==x.type&&(x.useStyle(g),d)){x.style.opacity=0;var o=g.opacity;null==o&&(o=1),L.initProps(x,{style:{opacity:o}},f,m)}d?x.attr(y):L.updateProps(x,y,f,m),x.attr({z2:h.z2||0,silent:h.silent}),x.styleEmphasis!==!1&&L.setHoverStyle(x,x.styleEmphasis)}function C(f,g,d,h,c){null==d[f]||c||(g[f]=d[f],d[f]=h[f])}function A(Q,ad,ac,Z){function ag(a){null==a&&(a=x),h&&(f=ad.getItemModel(a),m=f.getModel(b),v=f.getModel(j),d=J.findLabelValueDim(ad),W=ad.getItemVisual(a,"color"),h=!1)}function Y(c,a){return null==a&&(a=x),ad.get(ad.getDimension(c||0),a)}function V(a,l){null==l&&(l=x),ag(l);var e=f.getModel(E).getItemStyle();null!=W&&(e.fill=W);var c=ad.getItemVisual(l,"opacity");return null!=c&&(e.opacity=c),J.setTextToStyle(ad,l,d,e,Q,m,W),a&&H.extend(e,a),e}function aa(a,e){null==e&&(e=x),ag(e);var c=f.getModel(k).getItemStyle();return J.setTextToStyle(ad,e,d,c,Q,v,W),a&&H.extend(c,a),c}function y(c,a){return null==a&&(a=x),ad.getItemVisual(a,c)}function ae(a){if(s.getBaseAxis){var c=s.getBaseAxis();return I.getLayoutOnAxis(H.defaults({axis:c},a),Z)}}function X(){return ac.getCurrentSeriesIndices()}function af(a){return L.getFont(a,ac)}var x,f,m,v,d,W,U=Q.get("renderItem"),s=Q.coordinateSystem,R=O[s.type](s),g=H.defaults({getWidth:Z.getWidth,getHeight:Z.getHeight,getZr:Z.getZr,getDevicePixelRatio:Z.getDevicePixelRatio,value:Y,style:V,styleEmphasis:aa,visual:y,barLayout:ae,currentSeriesIndices:X,font:af},R.api),ab={context:{},seriesId:Q.id,seriesName:Q.name,seriesIndex:Q.seriesIndex,coordSys:R.coordSys,dataInsideLength:ad.count(),encode:z(Q.getData())},h=!0;return function(a){return x=a,h=!0,U&&U(H.defaults({dataIndexInside:a,dataIndex:ad.getRawIndex(a)},ab),g)||{}}}function z(a){var c={};return H.each(a.dimensions,function(e,h){var d=a.getDimensionInfo(e);if(!d.isExtraCoord){var g=d.coordDim,f=c[g]=c[g]||[];f[d.coordDimIndex]=h}}),c}function F(f,g,d,l,c,h){f=q(f,g,d,l,c,h),f&&h.setItemGraphicEl(g,f)}function q(f,m,d,n,h,g){var a=d.type;if(!f||a===f.__customGraphicType||"path"===a&&d.pathData===f.__customPathData||"image"===a&&d.style.image===f.__customImagePath||"text"===a&&d.style.text===f.__customText||(h.remove(f),f=null),null!=a){var p=!f;return !f&&(f=D(d)),N(f,m,d,n,g,p),"group"===a&&H.each(d.children,function(c,e){q(f.childAt(e),m,c,n,f,g)}),h.add(f),f}}var M=G(2),H=G(1),L=G(3),J=G(92),B=G(28),I=G(82),E=["itemStyle","normal"],k=["itemStyle","emphasis"],b=["label","normal"],j=["label","emphasis"],O={cartesian2d:G(397),geo:G(403),singleAxis:G(421),polar:G(414),calendar:G(396)};M.extendSeriesModel({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(a,c){return B(a.data,this,c)}}),M.extendChartView({type:"custom",_data:null,render:function(f,h,d){var m=this._data,c=f.getData(),l=this.group,g=A(f,c,h,d);c.diff(m).add(function(a){c.hasValue(a)&&F(null,a,g(a),f,l,c)}).update(function(o,a){var n=m.getItemGraphicEl(a);c.hasValue(o)?F(n,o,g(o),f,l,c):n&&l.remove(n)}).remove(function(a){var i=m.getItemGraphicEl(a);i&&l.remove(i)}).execute(),this._data=c}})},function(d,f,c){var g=c(1),b=c(2);c(283),c(284),b.registerVisual(g.curry(c(50),"effectScatter","circle",null)),b.registerLayout(g.curry(c(61),"effectScatter"))},function(d,f,c){var g=c(28),b=c(17);d.exports=b.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(h,j){var a=g(h.data,this,j);return a},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}})},function(d,f,c){var g=c(44),b=c(311);c(2).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new g(b)},render:function(k,l,j){var m=k.getData(),h=this._symbolDraw;h.updateData(m),this.group.add(h.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(a,h){this._symbolDraw&&this._symbolDraw.remove(h)},dispose:function(){}})},function(d,f,c){var g=c(1),b=c(2);c(286),c(287),b.registerVisual(g.curry(c(84),"funnel")),b.registerLayout(c(288)),b.registerProcessor(g.curry(c(63),"funnel"))},function(d,g,c){var j=c(14),b=c(5),h=c(25),f=c(2).extendSeriesModel({type:"series.funnel",init:function(a){f.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(a)},getInitialData:function(m,n){var l=h(["value"],m.data),k=new j(l,this);return k.initData(m.data),k},_defaultLabelLine:function(k){b.defaultEmphasis(k.labelLine,["show"]);var l=k.labelLine.normal,a=k.labelLine.emphasis;l.show=l.show&&k.label.normal.show,a.show=a.show&&k.label.emphasis.show},getDataParams:function(k){var l=this.getData(),a=f.superCall(this,"getDataParams",k),m=l.getSum("value");return a.percent=m?+(l.get("value",k)/m*100).toFixed(2):0,a.$vars.push("percent"),a},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});d.exports=f},function(m,h,g){function d(q,w){function o(){v.ignore=v.hoverIgnore,u.ignore=u.hoverIgnore}function x(){v.ignore=v.normalIgnore,u.ignore=u.normalIgnore}c.Group.call(this);var l=new c.Polygon,v=new c.Polyline,u=new c.Text;this.add(l),this.add(v),this.add(u),this.updateData(q,w,!0),this.on("emphasis",o).on("normal",x).on("mouseover",o).on("mouseout",x)}function j(r,v,q,x){var l=x.getModel("textStyle"),w=x.get("position"),u="inside"===w||"inner"===w||"center"===w;return{fill:l.getTextColor()||(u?"#fff":r.getItemVisual(v,"color")),textFont:l.getFont(),text:b.retrieve(r.hostModel.getFormattedLabel(v,q),r.getName(v))}}var c=g(3),b=g(1),p=d.prototype,f=["itemStyle","normal","opacity"];p.updateData=function(z,r,o){var l=this.childAt(0),x=z.hostModel,A=z.getItemModel(r),y=z.getItemLayout(r),w=z.getItemModel(r).get(f);w=null==w?1:w,l.useStyle({}),o?(l.setShape({points:y.points}),l.setStyle({opacity:0}),c.initProps(l,{style:{opacity:w}},x,r)):c.updateProps(l,{style:{opacity:w},shape:{points:y.points}},x,r);var q=A.getModel("itemStyle"),v=z.getItemVisual(r,"color");l.setStyle(b.defaults({lineJoin:"round",fill:v},q.getModel("normal").getItemStyle(["opacity"]))),l.hoverStyle=q.getModel("emphasis").getItemStyle(),this._updateLabel(z,r),c.setHoverStyle(this)},p._updateLabel=function(D,z){var w=this.childAt(1),q=this.childAt(2),a=D.hostModel,E=D.getItemModel(z),v=D.getItemLayout(z),C=v.label,B=D.getItemVisual(z,"color");c.updateProps(w,{shape:{points:C.linePoints||C.linePoints}},a,z),c.updateProps(q,{style:{x:C.x,y:C.y}},a,z),q.attr({style:{textAlign:C.textAlign,textVerticalAlign:C.verticalAlign,textFont:C.font},rotation:C.rotation,origin:[C.x,C.y],z2:10});var x=E.getModel("label.normal"),A=E.getModel("label.emphasis"),y=E.getModel("labelLine.normal"),o=E.getModel("labelLine.emphasis");q.setStyle(j(D,z,"normal",x)),q.ignore=q.normalIgnore=!x.get("show"),q.hoverIgnore=!A.get("show"),w.ignore=w.normalIgnore=!y.get("show"),w.hoverIgnore=!o.get("show"),w.setStyle({stroke:B}),w.setStyle(y.getModel("lineStyle").getLineStyle()),q.hoverStyle=j(D,z,"emphasis",A),w.hoverStyle=o.getModel("lineStyle").getLineStyle()},b.inherits(d,c.Group);var k=g(30).extend({type:"funnel",render:function(q,u,n){var l=q.getData(),v=this._data,s=this.group;l.diff(v).add(function(a){var i=new d(l,a);l.setItemGraphicEl(a,i),s.add(i)}).update(function(o,r){var a=v.getItemGraphicEl(r);a.updateData(l,o),s.add(a),l.setItemGraphicEl(o,a)}).remove(function(a){var i=v.getItemGraphicEl(a);s.remove(i)}).execute(),this._data=l},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});m.exports=k},function(k,h,g){function d(a,i){return b.getLayoutRect(a.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function j(q,u){for(var p=q.mapArray("value",function(a){return a}),w=[],l="ascending"===u,v=0,s=q.count();v<s;v++){w[v]=v}return"function"==typeof u?w.sort(u):"none"!==u&&w.sort(function(a,i){return l?p[a]-p[i]:p[i]-p[a]}),w}function c(a){a.each(function(E){var A,x,H,w,q=a.getItemModel(E),K=q.getModel("label.normal"),z=K.get("position"),J=q.getModel("labelLine.normal"),G=a.getItemLayout(E),B=G.points,F="inner"===z||"inside"===z||"center"===z;if(F){x=(B[0][0]+B[1][0]+B[2][0]+B[3][0])/4,H=(B[0][1]+B[1][1]+B[2][1]+B[3][1])/4,A="center",w=[[x,H],[x,H]]}else{var D,t,C,y=J.get("length");"left"===z?(D=(B[3][0]+B[0][0])/2,t=(B[3][1]+B[0][1])/2,C=D-y,x=C-5,A="right"):(D=(B[1][0]+B[2][0])/2,t=(B[1][1]+B[2][1])/2,C=D+y,x=C+5,A="left");var I=t;w=[[D,t],[C,I]],H=I}G.label={linePoints:w,x:x,y:H,verticalAlign:"middle",textAlign:A,inside:F}})}var b=g(12),m=g(4),f=m.parsePercent;k.exports=function(l,n,a){l.eachSeriesByType("funnel",function(C){var G=C.getData(),D=C.get("sort"),B=d(C,n),L=j(G,D),H=[f(C.get("minSize"),B.width),f(C.get("maxSize"),B.width)],K=G.getDataExtent("value"),J=C.get("min"),E=C.get("max");null==J&&(J=Math.min(K[0],0)),null==E&&(E=K[1]);var I=C.get("funnelAlign"),F=C.get("gap"),A=(B.height-F*(G.count()-1))/G.count(),q=B.y,s=function(p,r){var v,i=G.get("value",p)||0,u=m.linearMap(i,[J,E],H,!0);switch(I){case"left":v=B.x;break;case"center":v=B.x+(B.width-u)/2;break;case"right":v=B.x+B.width-u}return[[v,r],[v+u,r]]};"ascending"===D&&(A=-A,F=-F,q+=B.height,L=L.reverse());for(var O=0;O<L.length;O++){var N=L[O],z=L[O+1],e=s(N,q),o=s(z,q+A);q+=A+F,G.setItemLayout(N,{points:e.concat(o.slice().reverse())})}c(G)})}},function(b,c,a){a(290),a(291)},function(d,g,c){var j=c(14),b=c(17),h=c(1),f=b.extend({type:"series.gauge",getInitialData:function(m,n){var l=new j(["value"],this),k=m.data||[];return h.isArray(k)||(k=[k]),l.initData(k),l},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[0.2,"#91c7ae"],[0.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});d.exports=f},function(q,j,h){function f(B,y){var x=B.get("center"),w=y.getWidth(),z=y.getHeight(),l=Math.min(w,z),c=g(x[0],y.getWidth()),C=g(x[1],y.getHeight()),A=g(B.get("radius"),l/2);return{cx:c,cy:C,r:A}}function m(a,c){return c&&("string"==typeof c?a=c.replace("{value}",null!=a?a:""):"function"==typeof c&&(a=c(a))),a}var d=h(292),b=h(3),v=h(4),g=v.parsePercent,p=2*Math.PI,k=h(30).extend({type:"gauge",render:function(n,r,l){this.group.removeAll();var c=n.get("axisLine.lineStyle.color"),s=f(n,l);this._renderMain(n,r,l,c,s)},dispose:function(){},_renderMain:function(z,K,G,D,N){for(var C=this.group,A=z.getModel("axisLine"),F=A.getModel("lineStyle"),M=z.get("clockwise"),H=-z.get("startAngle")/180*Math.PI,L=-z.get("endAngle")/180*Math.PI,J=(L-H)%p,B=H,I=F.get("width"),E=0;E<D.length;E++){var w=Math.min(Math.max(D[E][0],0),1),L=H+J*w,r=new b.Sector({shape:{startAngle:B,endAngle:L,cx:N.cx,cy:N.cy,clockwise:M,r0:N.r-I,r:N.r},silent:!0});r.setStyle({fill:D[E][1]}),r.setStyle(F.getLineStyle(["color","borderWidth","borderColor"])),C.add(r),B=L}var u=function(a){if(a<=0){return D[0][1]}for(var c=0;c<D.length;c++){if(D[c][0]>=a&&(0===c?0:D[c-1][0])<a){return D[c][1]}}return D[c-1][1]};if(!M){var O=H;H=L,L=O}this._renderTicks(z,K,G,u,N,H,L,M),this._renderPointer(z,K,G,u,N,H,L,M),this._renderTitle(z,K,G,u,N),this._renderDetail(z,K,G,u,N)},_renderTicks:function(ag,aq,am,aj,ai,af,at,an){for(var ar=this.group,ap=ai.cx,ah=ai.cy,ao=ai.r,ak=+ag.get("min"),ae=+ag.get("max"),ab=ag.getModel("splitLine"),ac=ag.getModel("axisTick"),av=ag.getModel("axisLabel"),au=ag.get("splitNumber"),ad=ac.get("splitNumber"),r=g(ab.get("length"),ao),J=g(ac.get("length"),ao),Q=af,l=(at-af)/au,Z=l/ad,X=ab.getModel("lineStyle").getLineStyle(),K=ac.getModel("lineStyle").getLineStyle(),W=av.getModel("textStyle"),F=0;F<=au;F++){var al=Math.cos(Q),G=Math.sin(Q);if(ab.get("show")){var aa=new b.Line({shape:{x1:al*ao+ap,y1:G*ao+ah,x2:al*(ao-r)+ap,y2:G*(ao-r)+ah},style:X,silent:!0});"auto"===X.stroke&&aa.setStyle({stroke:aj(F/au)}),ar.add(aa)}if(av.get("show")){var U=m(v.round(F/au*(ae-ak)+ak),av.get("formatter")),s=av.get("distance"),H=new b.Text({style:{text:U,x:al*(ao-r-s)+ap,y:G*(ao-r-s)+ah,fill:W.getTextColor(),textFont:W.getFont(),textVerticalAlign:G<-0.4?"top":G>0.4?"bottom":"middle",textAlign:al<-0.4?"left":al>0.4?"right":"center"},silent:!0});"auto"===H.style.fill&&H.setStyle({fill:aj(F/au)}),ar.add(H)}if(ac.get("show")&&F!==au){for(var a=0;a<=ad;a++){var al=Math.cos(Q),G=Math.sin(Q),Y=new b.Line({shape:{x1:al*ao+ap,y1:G*ao+ah,x2:al*(ao-J)+ap,y2:G*(ao-J)+ah},silent:!0,style:K});"auto"===K.stroke&&Y.setStyle({stroke:aj((F+a/ad)/au)}),ar.add(Y),Q+=Z}Q-=Z}else{Q+=l}}},_renderPointer:function(E,z,s,o,C,D,B,w){var A=this.group,y=this._data;if(!E.get("pointer.show")){return void (y&&y.eachItemGraphicEl(function(a){A.remove(a)}))}var l=[+E.get("min"),+E.get("max")],x=[D,B],r=E.getData();r.diff(y).add(function(c){var a=new d({shape:{angle:D}});b.initProps(a,{shape:{angle:v.linearMap(r.get("value",c),l,x,!0)}},E),A.add(a),r.setItemGraphicEl(c,a)}).update(function(c,a){var t=y.getItemGraphicEl(a);b.updateProps(t,{shape:{angle:v.linearMap(r.get("value",c),l,x,!0)}},E),A.add(t),r.setItemGraphicEl(c,t)}).remove(function(a){var c=y.getItemGraphicEl(a);A.remove(c)}).execute(),r.eachItemGraphicEl(function(c,n){var a=r.getItemModel(n),u=a.getModel("pointer");c.setShape({x:C.cx,y:C.cy,width:g(u.get("width"),C.r),r:g(u.get("length"),C.r)}),c.useStyle(a.getModel("itemStyle.normal").getItemStyle()),"auto"===c.style.fill&&c.setStyle("fill",o(v.linearMap(r.get("value",n),l,[0,1],!0))),b.setHoverStyle(c,a.getModel("itemStyle.emphasis").getItemStyle())}),this._data=r},_renderTitle:function(G,B,x,s,E){var r=G.getModel("title");if(r.get("show")){var F=r.getModel("textStyle"),D=r.get("offsetCenter"),y=E.cx+g(D[0],E.r),C=E.cy+g(D[1],E.r),A=new b.Text({style:{x:y,y:C,text:G.getData().getName(0),fill:F.getTextColor(),textFont:F.getFont(),textAlign:"center",textVerticalAlign:"middle"}});if("auto"===A.style.fill){var l=+G.get("min"),z=+G.get("max"),w=G.getData().get("value",0);A.setStyle("fill",s(v.linearMap(w,[l,z],[0,1],!0)))}this.group.add(A)}},_renderDetail:function(J,C,w,r,l){var I=J.getModel("detail"),E=+J.get("min"),z=+J.get("max");if(I.get("show")){var D=I.getModel("textStyle"),B=I.get("offsetCenter"),a=l.cx+g(B[0],l.r),A=l.cy+g(B[1],l.r),s=g(I.get("width"),l.r),H=g(I.get("height"),l.r),F=J.getData().get("value",0),G=new b.Rect({shape:{x:a-s/2,y:A-H/2,width:s,height:H},style:{text:m(F,I.get("formatter")),fill:I.get("backgroundColor"),textFill:D.getTextColor(),textFont:D.getFont()}});"auto"===G.style.textFill&&G.setStyle("textFill",r(v.linearMap(F,[E,z],[0,1],!0))),G.setStyle(I.getItemStyle(["color"])),this.group.add(G)}}});q.exports=k},function(b,c,a){b.exports=a(8).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(p,k){var j=Math.cos,g=Math.sin,m=k.r,f=k.width,d=k.angle,q=k.x-j(d)*f*(f>=m/3?1:2),h=k.y-g(d)*f*(f>=m/3?1:2);d=k.angle-Math.PI/2,p.moveTo(q,h),p.lineTo(k.x+j(d)*f,k.y+g(d)*f),p.lineTo(k.x+j(k.angle)*m,k.y+g(k.angle)*m),p.lineTo(k.x-j(d)*f,k.y-g(d)*f),p.lineTo(q,h)}})},function(d,f,c){var g=c(2),b=c(1);c(294),c(295),c(304),g.registerProcessor(c(297)),g.registerVisual(b.curry(c(50),"graph","circle",null)),g.registerVisual(c(298)),g.registerVisual(c(301)),g.registerLayout(c(305)),g.registerLayout(c(299)),g.registerLayout(c(303)),g.registerCoordinateSystem("graphView",{create:c(300)})},function(m,h,g){var d=g(14),j=g(1),c=g(5),b=g(10),p=g(7),f=g(247),k=g(2).extendSeriesModel({type:"series.graph",init:function(a){k.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeOption:function(a){k.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(a){k.superApply(this,"mergeDefaultAndTheme",arguments),c.defaultEmphasis(a.edgeLabel,c.LABEL_OPTIONS)},getInitialData:function(r,s){function q(w,o){function y(a){return a=this.parsePath(a),a&&"label"===a[0]?x:this.parentModel}w.wrapMethod("getItemModel",function(z){var A=u._categoriesModels,a=z.getShallow("category"),B=A[a];return B&&(B.parentModel=z.parentModel,z.parentModel=B),z});var e=u.getModel("edgeLabel"),x=new b({label:e.option},e.parentModel,s);o.wrapMethod("getItemModel",function(a){return a.customizeGetParent(y),a})}var v=r.edges||r.links||[],l=r.data||r.nodes||[],u=this;if(l&&v){return f(l,v,this,!0,q).data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(A,x,w){if("edge"===w){var u=this.getData(),z=this.getDataParams(A,w),s=u.graph.getEdgeByIndex(A),q=u.getName(s.node1.dataIndex),v=u.getName(s.node2.dataIndex),y=[];return null!=q&&y.push(q),null!=v&&y.push(v),y=p.encodeHTML(y.join(" > ")),z.value&&(y+=" : "+p.encodeHTML(z.value)),y}return k.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var a=j.map(this.option.categories||[],function(e){return null!=e.value?e:j.extend({value:0},e)}),i=new d(["value"],this);i.initData(a),this._categoriesData=i,this._categoriesModels=i.mapArray(function(e){return i.getItemModel(e,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},isAnimationEnabled:function(){return k.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:0.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:0.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:0.5},emphasis:{}}}});m.exports=k},function(A,v,m){function j(a,c){return a.getVisual("opacity")||a.getModel().get(c)}var y=m(44),g=m(107),b=m(95),B=m(250),k=m(128),z=m(3),x=m(296),p=m(1),w=["itemStyle","normal","opacity"],q=["lineStyle","normal","opacity"];m(2).extendChartView({type:"graph",init:function(c,f){var a=new y,h=new g,d=this.group;this._controller=new b(f.getZr()),this._controllerHost={target:d},d.add(a.group),d.add(h.group),this._symbolDraw=a,this._lineDraw=h,this._firstRender=!0},render:function(N,K,G){var D=N.coordinateSystem;this._model=N,this._nodeScaleRatio=N.get("nodeScaleRatio");var M=this._symbolDraw,C=this._lineDraw,c=this.group;if("view"===D.type){var O={position:D.position,scale:D.scale};this._firstRender?c.attr(O):z.updateProps(c,O,N)}x(N.getGraph(),this._getNodeGlobalScale(N));var F=N.getData();M.updateData(F);var H=N.getEdgeData();C.updateData(H),this._updateNodeAndLinkScale(),this._updateController(N,K,G),clearTimeout(this._layoutTimeout);var L=N.forceLayout,J=N.get("force.layoutAnimation");L&&this._startForceLayoutIteration(L,J),F.eachItemGraphicEl(function(f,i){var d=F.getItemModel(i);f.off("drag").off("dragend");var h=F.getItemModel(i).get("draggable");h&&f.on("drag",function(){L&&(L.warmUp(),!this._layouting&&this._startForceLayoutIteration(L,J),L.setFixed(i),F.setItemLayout(i,f.position))},this).on("dragend",function(){L&&L.setUnfixed(i)},this),f.setDraggable(h&&L),f.off("mouseover",f.__focusNodeAdjacency),f.off("mouseout",f.__unfocusNodeAdjacency),d.get("focusNodeAdjacency")&&(f.on("mouseover",f.__focusNodeAdjacency=function(){G.dispatchAction({type:"focusNodeAdjacency",seriesId:N.id,dataIndex:f.dataIndex})}),f.on("mouseout",f.__unfocusNodeAdjacency=function(){G.dispatchAction({type:"unfocusNodeAdjacency",seriesId:N.id})}))},this);var u="circular"===N.get("layout")&&N.get("circular.rotateLabel"),I=F.getLayout("cx"),E=F.getLayout("cy");F.eachItemGraphicEl(function(h,s){var f=h.getSymbolPath();if(u){var Q=F.getItemLayout(s),d=Math.atan2(Q[1]-E,Q[0]-I);d<0&&(d=2*Math.PI+d);var P=Q[0]<I;P&&(d-=Math.PI);var l=P?"left":"right";f.setStyle({textRotation:d,textPosition:l}),f.hoverStyle&&(f.hoverStyle.textPosition=l)}else{f.setStyle({textRotation:0})}}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(I,E,C,G){function h(o,r){var l=j(o,r),c=o.getGraphicEl();null==l&&(l=1),c.traverse(function(a){a.trigger("normal"),"group"!==a.type&&a.setStyle("opacity",0.1*l)})}function d(o,r){var l=j(o,r),c=o.getGraphicEl();c.traverse(function(a){a.trigger("emphasis"),"group"!==a.type&&a.setStyle("opacity",l)})}var J=this._model.getData(),n=G.dataIndex,H=J.getItemGraphicEl(n);if(H){var F=J.graph,f=H.dataType;if(null!==n&&"edge"!==f){F.eachNode(function(a){h(a,w)}),F.eachEdge(function(a){h(a,q)});var D=F.getNodeByIndex(n);d(D,w),p.each(D.edges,function(a){a.dataIndex<0||(d(a,q),d(a.node1,w),d(a.node2,w))})}}},unfocusNodeAdjacency:function(f,h,d,c){var l=this._model.getData().graph;l.eachNode(function(a){var i=j(a,w);a.getGraphicEl().traverse(function(e){e.trigger("normal"),"group"!==e.type&&e.setStyle("opacity",i)})}),l.eachEdge(function(a){var i=j(a,q);a.getGraphicEl().traverse(function(e){e.trigger("normal"),"group"!==e.type&&e.setStyle("opacity",i)})})},_startForceLayoutIteration:function(c,d){var a=this;!function f(){c.step(function(e){a.updateLayout(a._model),(a._layouting=!e)&&(d?a._layoutTimeout=setTimeout(f,16):f())})}()},_updateController:function(f,h,d){var r=this._controller,c=this._controllerHost,l=this.group;return r.setPointerChecker(function(s,t,i){var o=l.getBoundingRect();return o.applyTransform(l.transform),o.contain(t,i)&&!k.onIrrelevantElement(s,d,f)}),"view"!==f.coordinateSystem.type?void r.disable():(r.enable(f.get("roam")),c.zoomLimit=f.get("scaleLimit"),c.zoom=f.coordinateSystem.getZoom(),void r.off("pan").off("zoom").on("pan",function(a,i){B.updateViewOnPan(c,a,i),d.dispatchAction({seriesId:f.id,type:"graphRoam",dx:a,dy:i})}).on("zoom",function(a,s,i){B.updateViewOnZoom(c,a,s,i),d.dispatchAction({seriesId:f.id,type:"graphRoam",zoom:a,originX:s,originY:i}),this._updateNodeAndLinkScale(),x(f.getGraph(),this._getNodeGlobalScale(f)),this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var c=this._model,d=c.getData(),a=this._getNodeGlobalScale(c),f=[a,a];d.eachItemGraphicEl(function(h,i){h.attr("scale",f)})},_getNodeGlobalScale:function(f){var l=f.coordinateSystem;if("view"!==l.type){return 1}var d=this._nodeScaleRatio,u=l.scale,c=u&&u[0]||1,s=l.getZoom(),h=(s-1)*d+1;return h/c},updateLayout:function(a){x(a.getGraph(),this._getNodeGlobalScale(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(a,c){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}})},function(w,m,j){function f(H,A,s){for(var l,E=H[0],h=H[1],B=H[2],z=1/0,c=s*s,u=0.1,r=0.1;r<=0.9;r+=0.1){b[0]=v(E[0],h[0],B[0],r),b[1]=v(E[1],h[1],B[1],r);var G=k(p(b,A)-c);G<z&&(z=G,l=r)}for(var C=0;C<32;C++){var D=l+u;x[0]=v(E[0],h[0],B[0],l),x[1]=v(E[1],h[1],B[1],l),g[0]=v(E[0],h[0],B[0],D),g[1]=v(E[1],h[1],B[1],D);var G=p(x,A)-c;if(k(G)<0.01){break}var F=p(g,A)-c;u/=2,G<0?F>=0?l+=u:l-=u:F>=0?l-=u:l+=u}return l}var q=j(20),d=j(6),b=[],x=[],g=[],v=q.quadraticAt,p=d.distSquare,k=Math.abs;w.exports=function(o,A){function n(c){var i=c.getVisual("symbolSize");return i instanceof Array&&(i=(i[0]+i[1])/2),i}var z=[],y=q.quadraticSubdivide,a=[[],[],[]],h=[[],[]],B=[];A/=2,o.eachEdge(function(i,e){var l=i.getLayout(),C=i.getVisual("fromSymbol"),s=i.getVisual("toSymbol");l.__original||(l.__original=[d.clone(l[0]),d.clone(l[1])],l[2]&&l.__original.push(d.clone(l[2])));var u=l.__original;if(null!=l[2]){if(d.copy(a[0],u[0]),d.copy(a[1],u[2]),d.copy(a[2],u[1]),C&&"none"!=C){var r=n(i.node1),c=f(a,u[0],r*A);y(a[0][0],a[1][0],a[2][0],c,z),a[0][0]=z[3],a[1][0]=z[4],y(a[0][1],a[1][1],a[2][1],c,z),a[0][1]=z[3],a[1][1]=z[4]}if(s&&"none"!=s){var r=n(i.node2),c=f(a,u[1],r*A);y(a[0][0],a[1][0],a[2][0],c,z),a[1][0]=z[1],a[2][0]=z[2],y(a[0][1],a[1][1],a[2][1],c,z),a[1][1]=z[1],a[2][1]=z[2]}d.copy(l[0],a[0]),d.copy(l[1],a[2]),d.copy(l[2],a[1])}else{if(d.copy(h[0],u[0]),d.copy(h[1],u[1]),d.sub(B,h[1],h[0]),d.normalize(B,B),C&&"none"!=C){var r=n(i.node1);d.scaleAndAdd(h[0],h[0],B,r*A)}if(s&&"none"!=s){var r=n(i.node2);d.scaleAndAdd(h[1],h[1],B,-r*A)}d.copy(l[0],h[0]),d.copy(l[1],h[1])}})}},function(a,b){a.exports=function(c){var d=c.findComponents({mainType:"legend"});d&&d.length&&c.eachSeriesByType("graph",function(g){var f=g.getCategoriesData(),j=g.getGraph(),e=j.data,h=f.mapArray(f.getName);e.filterSelf(function(l){var k=e.getItemModel(l),o=k.getShallow("category");if(null!=o){"number"==typeof o&&(o=h[o]);for(var m=0;m<d.length;m++){if(!d[m].isSelected(o)){return !1}}}return !0})},this)}},function(a,b){a.exports=function(c){var d={};c.eachSeriesByType("graph",function(g){var f=g.getCategoriesData(),h=g.getData(),e={};f.each(function(l){var k=f.getName(l);e["ec-"+k]=l;var j=f.getItemModel(l),i=j.get("itemStyle.normal.color")||g.getColorFromPalette(k,d);f.setItemVisual(l,"color",i)}),f.count()&&h.each(function(i){var j=h.getItemModel(i),k=j.getShallow("category");null!=k&&("string"==typeof k&&(k=e["ec-"+k]),h.getItemVisual(i,"color",!0)||h.setItemVisual(i,"color",f.getItemVisual(k,"color")))})})}},function(b,c,a){var d=a(242);b.exports=function(e){e.eachSeriesByType("graph",function(f){"circular"===f.get("layout")&&d(f)})}},function(d,g,c){function j(k,l,a){var m=k.getBoxLayoutParams();return m.aspect=a,h.getLayoutRect(m,{width:l.getWidth(),height:l.getHeight()})}var b=c(260),h=c(12),f=c(85);d.exports=function(k,l){var a=[];return k.eachSeriesByType("graph",function(C){var i=C.get("coordinateSystem");if(!i||"view"===i){var D=C.getData(),q=D.mapArray(function(m){var o=D.getItemModel(m);return[+o.get("x"),+o.get("y")]}),B=[],z=[];f.fromPoints(q,B,z),z[0]-B[0]===0&&(z[0]+=1,B[0]-=1),z[1]-B[1]===0&&(z[1]+=1,B[1]-=1);var r=(z[0]-B[0])/(z[1]-B[1]),y=j(C,l,r);isNaN(r)&&(B=[y.x,y.y],z=[y.x+y.width,y.y+y.height]);var x=z[0]-B[0],e=z[1]-B[1],w=y.width,n=y.height,A=C.coordinateSystem=new b;A.zoomLimit=C.get("scaleLimit"),A.setBoundingRect(B[0],B[1],x,e),A.setViewRect(y.x,y.y,w,n),A.setCenter(C.get("center")),A.setZoom(C.get("zoom")),a.push(A)}}),a}},function(b,c){function a(d){return d instanceof Array||(d=[d,d]),d}b.exports=function(d){d.eachSeriesByType("graph",function(g){var j=g.getGraph(),l=g.getEdgeData(),f=a(g.get("edgeSymbol")),k=a(g.get("edgeSymbolSize")),i="lineStyle.normal.color".split("."),h="lineStyle.normal.opacity".split(".");l.setVisual("fromSymbol",f&&f[0]),l.setVisual("toSymbol",f&&f[1]),l.setVisual("fromSymbolSize",k&&k[0]),l.setVisual("toSymbolSize",k&&k[1]),l.setVisual("color",g.get(i)),l.setVisual("opacity",g.get(h)),l.each(function(p){var m=l.getItemModel(p),r=j.getEdgeByIndex(p),e=a(m.getShallow("symbol",!0)),n=a(m.getShallow("symbolSize",!0)),s=m.get(i),q=m.get(h);switch(s){case"source":s=r.node1.getVisual("color");break;case"target":s=r.node2.getVisual("color")}e[0]&&r.setVisual("fromSymbol",e[0]),e[1]&&r.setVisual("toSymbol",e[1]),n[0]&&r.setVisual("fromSymbolSize",n[0]),n[1]&&r.setVisual("toSymbolSize",n[1]),r.setVisual("color",s),r.setVisual("opacity",q)})})}},function(d,f,c){var g=c(6),b=g.scaleAndAdd;d.exports=function(x,p,m){for(var j=m.rect,a=j.width,y=j.height,k=[j.x+a/2,j.y+y/2],w=null==m.gravity?0.1:m.gravity,v=0;v<x.length;v++){var n=x[v];n.p||(n.p=g.create(a*(Math.random()-0.5)+k[0],y*(Math.random()-0.5)+k[1])),n.pp=g.clone(n.p),n.edges=null}var q=0.6;return{warmUp:function(){q=0.5},setFixed:function(h){x[h].fixed=!0},setUnfixed:function(h){x[h].fixed=!1},step:function(z){for(var t=[],e=x.length,H=0;H<p.length;H++){var D=p[H],A=D.n1,C=D.n2;g.sub(t,C.p,A.p);var l=g.len(t)-D.d,B=C.w/(A.w+C.w);g.normalize(t,t),!A.fixed&&b(A.p,A.p,t,B*l*q),!C.fixed&&b(C.p,C.p,t,-(1-B)*l*q)}for(var H=0;H<e;H++){var u=x[H];u.fixed||(g.sub(t,k,u.p),g.scaleAndAdd(u.p,u.p,t,w*q))}for(var H=0;H<e;H++){for(var A=x[H],G=H+1;G<e;G++){var C=x[G];g.sub(t,C.p,A.p);var l=g.len(t);0===l&&(g.set(t,Math.random()-0.5,Math.random()-0.5),l=1);var E=(A.rep+C.rep)/l/l;!A.fixed&&b(A.pp,A.pp,t,E),!C.fixed&&b(C.pp,C.pp,t,-E)}}for(var F=[],H=0;H<e;H++){var u=x[H];u.fixed||(g.sub(F,u.p,u.pp),g.scaleAndAdd(u.p,u.p,F,q),g.copy(u.pp,u.p))}q=0.992*q,z&&z(x,p,q<0.01)}}}},function(k,h,g){var d=g(302),j=g(4),c=g(244),b=g(242),m=g(6),f=g(1);k.exports=function(a){a.eachSeriesByType("graph",function(J){var z=J.coordinateSystem;if(!z||"view"===z.type){if("force"===J.get("layout")){var o=J.preservedPoints||{},I=J.getGraph(),B=I.data,q=I.edgeData,A=J.getModel("force"),s=A.get("initLayout");J.preservedPoints?B.each(function(i){var p=B.getId(i);B.setItemLayout(i,o[p]||[NaN,NaN])}):s&&"none"!==s?"circular"===s&&b(J):c(J);var l=B.getDataExtent("value"),r=q.getDataExtent("value"),n=A.get("repulsion"),H=A.get("edgeLength");f.isArray(n)||(n=[n,n]),f.isArray(H)||(H=[H,H]),H=[H[1],H[0]];var D=B.mapArray("value",function(u,v){var p=B.getItemLayout(v),w=j.linearMap(u,l,n);return isNaN(w)&&(w=(n[0]+n[1])/2),{w:w,rep:w,p:!p||isNaN(p[0])||isNaN(p[1])?null:p}}),E=q.mapArray("value",function(u,v){var p=I.getEdgeByIndex(v),w=j.linearMap(u,r,H);return isNaN(w)&&(w=(H[0]+H[1])/2),{n1:D[p.node1.dataIndex],n2:D[p.node2.dataIndex],d:w,curveness:p.getModel().get("lineStyle.normal.curveness")||0}}),z=J.coordinateSystem,G=z.getBoundingRect(),C=d(D,E,{rect:G,gravity:A.get("gravity")}),F=C.step;C.step=function(i){for(var p=0,u=D.length;p<u;p++){D[p].fixed&&m.copy(D[p].p,I.getNodeByIndex(p).getLayout())}F(function(M,x,O){for(var w=0,t=M.length;w<t;w++){M[w].fixed||I.getNodeByIndex(w).setLayout(M[w].p),o[B.getId(w)]=M[w].p}for(var w=0,t=x.length;w<t;w++){var y=x[w],K=I.getEdgeByIndex(w),N=y.n1.p,L=y.n2.p,v=K.getLayout();v=v?v.slice():[],v[0]=v[0]||[],v[1]=v[1]||[],m.copy(v[0],N),m.copy(v[1],L),+y.curveness&&(v[2]=[(N[0]+L[0])/2-(N[1]-L[1])*y.curveness,(N[1]+L[1])/2-(L[0]-N[0])*y.curveness]),K.setLayout(v)}i&&i(O)})},J.forceLayout=C,J.preservedPoints=o,C.step()}else{J.forceLayout=null}}})}},function(d,f,c){var h=c(2),b=c(241),g={type:"graphRoam",event:"graphRoam",update:"none"};h.registerAction(g,function(a,i){i.eachComponent({mainType:"series",query:a},function(k){var j=k.coordinateSystem,l=b.updateCenterAndZoom(j,a);k.setCenter&&k.setCenter(l.center),k.setZoom&&k.setZoom(l.zoom)})}),h.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),h.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){})},function(d,f,c){var g=c(244),b=c(243);d.exports=function(a,h){a.eachSeriesByType("graph",function(k){var m=k.get("layout"),j=k.coordinateSystem;if(j&&"view"!==j.type){var n=k.getData(),l=j.dimensions;n.each(l,function(){for(var o,q=arguments,r=[],i=0;i<l.length;i++){isNaN(q[i])||(o=!0),r.push(q[i])}var p=q[q.length-1];o?n.setItemLayout(p,j.dataToPoint(r)):n.setItemLayout(p,[NaN,NaN])}),b(n.graph)}else{m&&"none"!==m||g(k)}})}},function(b,c,a){a(308),a(309)},function(d,f,c){function h(){var a=g.createCanvas();this.canvas=a,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var b=256,g=c(1);h.prototype={update:function(G,Y,U,P,O,K){var H=this._getBrush(),R=this._getGradient(G,O,"inRange"),F=this._getGradient(G,O,"outOfRange"),aa=this.pointSize+this.blurSize,V=this.canvas,Z=V.getContext("2d"),X=G.length;V.width=Y,V.height=U;for(var N=0;N<X;++N){var W=G[N],Q=W[0],E=W[1],q=W[2],B=P(q);Z.globalAlpha=B,Z.drawImage(H,Q-aa,E-aa)}for(var ac=Z.getImageData(0,0,V.width,V.height),ab=ac.data,D=0,j=ab.length,k=this.minOpacity,z=this.maxOpacity,a=z-k;D<j;){var B=ab[D+3]/256,L=4*Math.floor(B*(b-1));if(B>0){var J=K(B)?R:F;B>0&&(B=B*a+k),ab[D++]=J[L],ab[D++]=J[L+1],ab[D++]=J[L+2],ab[D++]=J[L+3]*B*256}else{D+=4}}return Z.putImageData(ac,0,0),V},_getBrush:function(){var j=this._brushCanvas||(this._brushCanvas=g.createCanvas()),k=this.pointSize+this.blurSize,a=2*k;j.width=a,j.height=a;var l=j.getContext("2d");return l.clearRect(0,0,a,a),l.shadowOffsetX=a,l.shadowBlur=this.blurSize,l.shadowColor="#000",l.beginPath(),l.arc(-k,k,this.pointSize,0,2*Math.PI,!0),l.closePath(),l.fill(),j},_getGradient:function(l,q,k){for(var v=this._gradientPixels,j=v[k]||(v[k]=new Uint8ClampedArray(1024)),u=[0,0,0,0],p=0,m=0;m<256;m++){q[k](m/255,!0,u),j[p++]=u[0],j[p++]=u[1],j[p++]=u[2],j[p++]=u[3]}return j}},d.exports=h},function(d,f,c){var g=c(17),b=c(28);d.exports=g.extend({type:"series.heatmap",getInitialData:function(a,h){return b(a.data,this,h)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(k,h,g){function d(q,r,p){var u=q[1]-q[0];r=f.map(r,function(a){return{interval:[(a.interval[0]-q[0])/u,(a.interval[1]-q[0])/u]}});var l=r.length,s=0;return function(a){for(var i=s;i<l;i++){var e=r[i].interval;if(e[0]<=a&&a<=e[1]){s=i;break}}if(i===l){for(var i=s-1;i>=0;i--){var e=r[i].interval;if(e[0]<=a&&a<=e[1]){s=i;break}}}return i>=0&&i<l&&p[i]}}function j(l,n){var a=l[1]-l[0];return n=[(n[0]-l[0])/a,(n[1]-l[0])/a],function(e){return e>=n[0]&&e<=n[1]}}function c(a){var i=a.dimensions;return"lng"===i[0]&&"lat"===i[1]}var b=g(3),m=g(307),f=g(1);k.exports=g(2).extendChartView({type:"heatmap",render:function(p,q,o){var r;q.eachComponent("visualMap",function(a){a.eachTargetSeries(function(e){e===p&&(r=a)})}),this.group.removeAll();var l=p.coordinateSystem;"cartesian2d"===l.type||"calendar"===l.type?this._renderOnCartesianAndCalendar(l,p,o):c(l)&&this._renderOnGeo(l,p,r,o)},dispose:function(){},_renderOnCartesianAndCalendar:function(z,J,F){if("cartesian2d"===z.type){var D=z.getAxis("x"),M=z.getAxis("y"),C=D.getBandWidth(),A=M.getBandWidth()}var w=this.group,L=J.getData(),G="itemStyle.normal",K="itemStyle.emphasis",I="label.normal",B="label.emphasis",H=J.getModel(G).getItemStyle(["color"]),E=J.getModel(K).getItemStyle(),r=J.getModel("label.normal"),l=J.getModel("label.emphasis"),q=z.type,N="cartesian2d"===q?[J.coordDimToDataDim("x")[0],J.coordDimToDataDim("y")[0],J.coordDimToDataDim("value")[0]]:[J.coordDimToDataDim("time")[0],J.coordDimToDataDim("value")[0]];L.each(function(t){var u;if("cartesian2d"===q){if(isNaN(L.get(N[2],t))){return}var p=z.dataToPoint([L.get(N[0],t),L.get(N[1],t)]);u=new b.Rect({shape:{x:p[0]-C/2,y:p[1]-A/2,width:C,height:A},style:{fill:L.getItemVisual(t,"color"),opacity:L.getItemVisual(t,"opacity")}})}else{if(isNaN(L.get(N[1],t))){return}u=new b.Rect({z2:1,shape:z.dataToRect([L.get(N[0],t)]).contentShape,style:{fill:L.getItemVisual(t,"color"),opacity:L.getItemVisual(t,"opacity")}})}var e=L.getItemModel(t);L.hasItemOption&&(H=e.getModel(G).getItemStyle(["color"]),E=e.getModel(K).getItemStyle(),r=e.getModel(I),l=e.getModel(B));var o=J.getRawValue(t),s="-";o&&null!=o[2]&&(s=o[2]),r.getShallow("show")&&(b.setText(H,r),H.text=J.getFormattedLabel(t,"normal")||s),l.getShallow("show")&&(b.setText(E,l),E.text=J.getFormattedLabel(t,"emphasis")||s),u.setStyle(H),b.setHoverStyle(u,L.hasItemOption?E:f.extend({},E)),w.add(u),L.setItemGraphicEl(t,u)})},_renderOnGeo:function(A,J,F,C){var E=F.targetVisuals.inRange,z=F.targetVisuals.outOfRange,L=J.getData(),G=this._hmLayer||this._hmLayer||new m;G.blurSize=J.get("blurSize"),G.pointSize=J.get("pointSize"),G.minOpacity=J.get("minOpacity"),G.maxOpacity=J.get("maxOpacity");var K=A.getViewRect().clone(),I=A.getRoamTransform().transform;K.applyTransform(I);var B=Math.max(K.x,0),H=Math.max(K.y,0),D=Math.min(K.width+K.x,C.getWidth()),s=Math.min(K.height+K.y,C.getHeight()),n=D-B,q=s-H,N=L.mapArray(["lng","lat","value"],function(p,o,t){var l=A.dataToPoint([p,o]);return l[0]-=B,l[1]-=H,l.push(t),l}),M=F.getExtent(),r="visualMap.continuous"===F.type?j(M,F.option.range):d(M,F.getPieceList(),F.option.selected);G.update(N,n,q,E.color.getNormalizer(),{inRange:E.color.getColorMapper(),outOfRange:z.color.getColorMapper()},r);var a=new b.Image({style:{width:n,height:q,x:B,y:H,image:G.canvas},silent:!0});this.group.add(a)}})},function(k,h,g){function d(l,n,a){b.call(this,l,n,a),this._lastFrame=0,this._lastFramePercent=0}var j=g(246),c=g(1),b=g(245),m=g(6),f=d.prototype;f.createLine=function(l,n,a){return new j(l,n,a)},f.updateAnimationPoints=function(q,u){this._points=u;for(var p=[0],w=0,l=1;l<u.length;l++){var v=u[l-1],s=u[l];w+=m.dist(v,s),p.push(w)}if(0!==w){for(var l=0;l<p.length;l++){p[l]/=w}this._offsets=p,this._length=w}},f.getLineLength=function(a){return this._length},f.updateSymbolPosition=function(B){var x=B.__t,w=this._points,s=this._offsets,z=w.length;if(s){var q,p=this._lastFrame;if(x<this._lastFramePercent){var v=Math.min(p+1,z-1);for(q=v;q>=0&&!(s[q]<=x);q--){}q=Math.min(q,z-2)}else{for(var q=p;q<z&&!(s[q]>x);q++){}q=Math.min(q-1,z-2)}m.lerp(B.position,w[q],w[q+1],(x-s[q])/(s[q+1]-s[q]));var A=w[q+1][0]-w[q][0],y=w[q+1][1]-w[q][1];B.rotation=-Math.atan2(y,A)-Math.PI/2,this._lastFrame=q,this._lastFramePercent=x,B.ignore=!1}},c.inherits(d,b),k.exports=d},function(A,v,m){function j(a){return b.isArray(a)||(a=[+a,+a]),a}function y(a,c){a.eachChild(function(d){d.attr({z:c.z,zlevel:c.zlevel,style:{stroke:"stroke"===c.brushType?c.color:null,fill:"fill"===c.brushType?c.color:null}})})}function g(c,d){p.call(this);var a=new x(c,d),f=new p;this.add(a),this.add(f),f.beforeUpdate=function(){this.attr(a.getScale())},this.updateData(c,d)}var b=m(1),B=m(24),k=m(3),z=m(4),x=m(54),p=k.Group,w=3,q=g.prototype;q.stopEffectAnimation=function(){this.childAt(1).removeAll()},q.startEffectAnimation=function(d){for(var h=d.symbolType,c=d.color,u=this.childAt(1),s=0;s<w;s++){var f=B.createSymbol(h,-1,-1,2,2,c);f.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[0.5,0.5]});var a=-s/w*d.period+d.effectOffset;f.animate("",!0).when(d.period,{scale:[d.rippleScale/2,d.rippleScale/2]}).delay(a).start(),f.animateStyle(!0).when(d.period,{opacity:0}).delay(a).start(),u.add(f)}y(u,d)},q.updateEffectAnimation=function(c){for(var f=this._effectCfg,a=this.childAt(1),l=["symbolType","period","rippleScale"],h=0;h<l;h++){var d=l[h];if(f[d]!==c[d]){return this.stopEffectAnimation(),void this.startEffectAnimation(c)}}y(a,c)},q.highlight=function(){this.trigger("emphasis")},q.downplay=function(){this.trigger("normal")},q.updateData=function(M,I){var E=M.hostModel;this.childAt(0).updateData(M,I);var L=this.childAt(1),C=M.getItemModel(I),n=M.getItemVisual(I,"symbol"),N=j(M.getItemVisual(I,"symbolSize")),D=M.getItemVisual(I,"color");L.attr("scale",N),L.traverse(function(a){a.attr({fill:D})});var K=C.getShallow("symbolOffset");if(K){var F=L.position;F[0]=z.parsePercent(K[0],N[0]),F[1]=z.parsePercent(K[1],N[1])}L.rotation=(C.getShallow("symbolRotate")||0)*Math.PI/180||0;var J={};if(J.showEffectOn=E.get("showEffectOn"),J.rippleScale=C.get("rippleEffect.scale"),J.brushType=C.get("rippleEffect.brushType"),J.period=1000*C.get("rippleEffect.period"),J.effectOffset=I/M.count(),J.z=C.getShallow("z")||0,J.zlevel=C.getShallow("zlevel")||0,J.symbolType=n,J.color=D,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===J.showEffectOn){this._effectCfg?this.updateEffectAnimation(J):this.startEffectAnimation(J),this._effectCfg=J}else{this._effectCfg=null,this.stopEffectAnimation();var H=this.childAt(0),u=function(){H.trigger("emphasis"),"render"!==J.showEffectOn&&this.startEffectAnimation(J)},G=function(){H.trigger("normal"),"render"!==J.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",u,this).on("mouseout",G,this).on("emphasis",u,this).on("normal",G,this)}this._effectCfg=J},q.fadeOut=function(a){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),a&&a()},b.inherits(g,p),A.exports=g},function(k,h,g){function d(){this.group=new j.Group,this._lineEl=new m}var j=g(3),c=g(98),b=g(97),m=j.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(q,u){for(var p=u.segs,w=u.polyline,l=0;l<p.length;l++){var v=p[l];if(w){q.moveTo(v[0][0],v[0][1]);for(var s=1;s<v.length;s++){q.lineTo(v[s][0],v[s][1])}}else{q.moveTo(v[0][0],v[0][1]),v.length>2?q.quadraticCurveTo(v[2][0],v[2][1],v[1][0],v[1][1]):q.lineTo(v[1][0],v[1][1])}}},findDataIndex:function(y,r){for(var q=this.shape,o=q.segs,w=q.polyline,z=Math.max(this.style.lineWidth,1),p=0;p<o.length;p++){var x=o[p];if(w){for(var v=1;v<x.length;v++){if(b.containStroke(x[v-1][0],x[v-1][1],x[v][0],x[v][1],z,y,r)){return p}}}else{if(x.length>2){if(c.containStroke(x[0][0],x[0][1],x[2][0],x[2][1],x[1][0],x[1][1],z,y,r)){return p}}else{if(b.containStroke(x[0][0],x[0][1],x[1][0],x[1][1],z,y,r)){return p}}}}return -1}}),f=d.prototype;f.updateData=function(l){this.group.removeAll();var o=this._lineEl,a=l.hostModel;o.setShape({segs:l.mapArray(l.getItemLayout),polyline:a.get("polyline")}),o.useStyle(a.getModel("lineStyle.normal").getLineStyle());var p=l.getVisual("color");p&&o.setStyle("stroke",p),o.setStyle("fill"),o.seriesIndex=a.seriesIndex,o.on("mousemove",function(n){o.dataIndex=null;var e=o.findDataIndex(n.offsetX,n.offsetY);e>0&&(o.dataIndex=e)}),this.group.add(o)},f.updateLayout=function(a){var i=a.getData();this._lineEl.setShape({segs:i.mapArray(i.getItemLayout)})},f.remove=function(){this.group.removeAll()},k.exports=d},function(y,p,k){function g(c,d,a,h){j.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=a,this._createContent(c,d,h),this.updateData(c,d,h),this._seriesModel}function w(c,d,a){return z.map(c,function(e){return e=e.slice(),e[d]=a.initBaseline,e})}function f(a){var c={};return z.each(a,function(e,d){c["ends"+d]=e}),c}function b(a){this.group=new j.Group,this.styleUpdater=a}var z=k(1),j=k(3),x=k(8),v=x.extend({type:"whiskerInBox",shape:{},buildPath:function(c,d){for(var a in d){if(d.hasOwnProperty(a)&&0===a.indexOf("ends")){var h=d[a];c.moveTo(h[0][0],h[0][1]),c.lineTo(h[1][0],h[1][1])}}}}),m=g.prototype;m._createContent=function(d,s,c){var A=d.getItemLayout(s),o="horizontal"===A.chartLayout?1:0,a=0;this.add(new j.Polygon({shape:{points:c?w(A.bodyEnds,o,A):A.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=a++;var l=z.map(A.whiskerEnds,function(e){return c?w(e,o,A):e});this.add(new v({shape:f(l),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=a++},m.updateData=function(h,o,d){var s=this._seriesModel=h.hostModel,c=h.getItemLayout(o),l=j[d?"initProps":"updateProps"];l(this.childAt(this.bodyIndex),{shape:{points:c.bodyEnds}},s,o),l(this.childAt(this.whiskerIndex),{shape:f(c.whiskerEnds)},s,o),this.styleUpdater.call(null,this,h,o)},z.inherits(g,j.Group);var q=b.prototype;q.updateData=function(h){var l=this.group,d=this._data,c=this.styleUpdater;h.diff(d).add(function(a){if(h.hasValue(a)){var e=new g(h,a,c,(!0));h.setItemGraphicEl(a,e),l.add(e)}}).update(function(i,e){var a=d.getItemGraphicEl(e);return h.hasValue(i)?(a?a.updateData(h,i):a=new g(h,i,c),l.add(a),void h.setItemGraphicEl(i,a)):void l.remove(a)}).remove(function(a){var e=d.getItemGraphicEl(a);e&&l.remove(e)}).execute(),this._data=h},q.remove=function(){var a=this.group,c=this._data;this._data=null,c&&c.eachItemGraphicEl(function(d){d&&a.remove(d)})},y.exports=b},function(b,c,a){a(315),a(316);var d=a(2);d.registerLayout(a(317)),d.registerVisual(a(318))},function(k,h,g){function d(a){var i=a.data;i&&i[0]&&i[0][0]&&i[0][0].coord&&(a.data=b.map(i,function(n){var o=[n[0].coord,n[1].coord],l={coords:o};return n[0].name&&(l.fromName=n[0].name),n[1].name&&(l.toName=n[1].name),b.mergeAll([l,n[0],n[1]])}))}var j=g(17),c=g(14),b=g(1),m=g(7),f=(g(26),j.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(a){d(a),f.superApply(this,"init",arguments)},mergeOption:function(a){d(a),f.superApply(this,"mergeOption",arguments)},getInitialData:function(l,n){var a=new c(["value"],this);return a.hasItemOption=!1,a.initData(l.data,[],function(p,q,s,i){if(p instanceof Array){return NaN}a.hasItemOption=!0;var r=p.value;return null!=r?r instanceof Array?r[i]:r:void 0}),a},formatTooltip:function(q){var u=this.getData(),p=u.getItemModel(q),w=p.get("name");if(w){return w}var l=p.get("fromName"),v=p.get("toName"),s=[];return null!=l&&s.push(l),null!=v&&s.push(v),m.encodeHTML(s.join(" > "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:0.2},large:!1,largeThreshold:2000,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:0.5}}}}))},function(k,h,g){var d=g(107),j=g(245),c=g(106),b=g(246),m=g(310),f=g(312);g(2).extendChartView({type:"lines",init:function(){},render:function(y,s,n){var x=y.getData(),w=this._lineDraw,o=y.get("effect.show"),v=y.get("polyline"),r=y.get("large")&&x.count()>=y.get("largeThreshold");o===this._hasEffet&&v===this._isPolyline&&r===this._isLarge||(w&&w.remove(),w=this._lineDraw=r?new f:new d(v?o?m:b:o?j:c),this._hasEffet=o,this._isPolyline=v,this._isLarge=r);var a=y.get("zlevel"),q=y.get("effect.trailLength"),l=n.getZr();if(l.painter.getLayer(a).clear(!0),null!=this._lastZlevel&&l.configLayer(this._lastZlevel,{motionBlur:!1}),o&&q){l.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(q/10+0.9,1),0)})}this.group.add(w.group),w.updateData(x),this._lastZlevel=a},updateLayout:function(l,o,a){this._lineDraw.updateLayout(l);var p=a.getZr();p.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,i){this._lineDraw&&this._lineDraw.remove(i,!0)},dispose:function(){}})},function(b,c,a){b.exports=function(d){d.eachSeriesByType("lines",function(g){var h=g.coordinateSystem,f=g.getData();f.each(function(p){var i=f.getItemModel(p),m=i.option instanceof Array?i.option:i.get("coords"),k=[];if(g.get("polyline")){for(var j=0;j<m.length;j++){k.push(h.dataToPoint(m[j]))}}else{k[0]=h.dataToPoint(m[0]),k[1]=h.dataToPoint(m[1]);var e=i.get("lineStyle.normal.curveness");+e&&(k[2]=[(k[0][0]+k[1][0])/2-(k[0][1]-k[1][1])*e,(k[0][1]+k[1][1])/2-(k[1][0]-k[0][0])*e])}f.setItemLayout(p,k)})})}},function(b,c){function a(d){return d instanceof Array||(d=[d,d]),d}b.exports=function(d){d.eachSeriesByType("lines",function(g){var h=g.getData(),j=a(g.get("symbol")),f=a(g.get("symbolSize")),i="lineStyle.normal.opacity".split(".");h.setVisual("fromSymbol",j&&j[0]),h.setVisual("toSymbol",j&&j[1]),h.setVisual("fromSymbolSize",f&&f[0]),h.setVisual("toSymbolSize",f&&f[1]),h.setVisual("opacity",g.get(i)),h.each(function(k){var o=h.getItemModel(k),e=a(o.getShallow("symbol",!0)),m=a(o.getShallow("symbolSize",!0)),l=o.get(i);e[0]&&h.setItemVisual(k,"fromSymbol",e[0]),e[1]&&h.setItemVisual(k,"toSymbol",e[1]),m[0]&&h.setItemVisual(k,"fromSymbolSize",m[0]),m[1]&&h.setItemVisual(k,"toSymbolSize",m[1]),h.setItemVisual(k,"opacity",l)})})}},function(d,f,c){var g=c(2),b=g.PRIORITY;c(320),c(321),c(240),c(186),g.registerLayout(c(324)),g.registerVisual(c(325)),g.registerProcessor(b.PROCESSOR.STATISTIC,c(323)),g.registerPreprocessor(c(322)),c(89)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(y,p,k){var g=k(14),w=k(17),f=k(1),b=k(25),z=k(7),j=z.encodeHTML,x=z.addCommas,v=k(78),m=k(186),q=w.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(a){a=this._fillOption(a,this.getMapType()),this.option=a,q.superApply(this,"init",arguments),this.updateSelectedMap(a.data)},getInitialData:function(c){var d=b(["value"],c.data||[]),a=new g(d,this);return a.initData(c.data),a},mergeOption:function(a){a.data&&(a=this._fillOption(a,this.getMapType())),q.superCall(this,"mergeOption",a),this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var a=this.option.geoIndex;return null!=a?this.dependentModels.geo[a]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(a,c){return a=f.extend({},a),a.data=m.getFilledRegions(a.data,c),a},getRawValue:function(a){return this.getData().get("value",a)},getRegionModel:function(a){var c=this.getData();return c.getItemModel(c.indexOfName(a))},formatTooltip:function(h){for(var A=this.getData(),d=x(this.getRawValue(h)),C=A.getName(h),c=this.seriesGroup,B=[],u=0;u<c.length;u++){var l=c[u].originalData.indexOfName(C);isNaN(c[u].originalData.get("value",l))||B.push(j(c[u].name))}return B.join(", ")+"<br />"+j(C+" : "+d)},getTooltipPosition:function(c){if(null!=c){var d=this.getData().getName(c),a=this.coordinateSystem,h=a.getRegion(d);return h&&a.dataToPoint(h.center)}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:0.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:0.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});f.mixin(q,v),y.exports=q},function(d,f,c){var g=c(3),b=c(249);c(2).extendChartView({type:"map",render:function(h,k,a,m){if(!m||"mapToggleSelect"!==m.type||m.from!==this.uid){var l=this.group;if(l.removeAll(),!h.getHostGeoModel()){if(m&&"geoRoam"===m.type&&"series"===m.componentType&&m.seriesId===h.id){var j=this._mapDraw;j&&l.add(j.group)}else{if(h.needsDrawMap){var j=this._mapDraw||new b(a,(!0));l.add(j.group),j.draw(h,k,a,this,m),this._mapDraw=j}else{this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null}}h.get("showLegendSymbol")&&k.getComponent("legend")&&this._renderSymbols(h,k,a)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(k,l,j){var h=k.originalData,m=this.group;h.each("value",function(G,C){if(!isNaN(G)){var w=h.getItemLayout(C);if(w&&w.point){var t=w.point,B=w.offset,q=new g.Circle({style:{fill:k.getData().getVisual("color")},shape:{cx:t[0]+9*B,cy:t[1],r:3},silent:!0,z2:10});if(!B){var I=k.mainSeries.getData(),D=h.getName(C),H=D,F=I.indexOfName(D),z=h.getItemModel(C),E=z.getModel("label.normal"),A=z.getModel("label.emphasis"),o=E.getModel("textStyle"),a=A.getModel("textStyle"),n=I.getItemGraphicEl(F);q.setStyle({textPosition:"bottom"});var K=function(){q.setStyle({text:A.get("show")?H:"",textFill:a.getTextColor(),textFont:a.getFont()})},J=function(){q.setStyle({text:E.get("show")?H:"",textFill:o.getTextColor(),textFont:o.getFont()})};n.on("mouseover",K).on("mouseout",J).on("emphasis",K).on("normal",J),J()}m.add(q)}}})}})},function(b,c,a){var d=a(1);b.exports=function(f){var g=[];d.each(f.series,function(e){"map"===e.type&&g.push(e)}),d.each(g,function(e){e.map=e.map||e.mapType,d.defaults(e,e.mapLocation)})}},function(d,f,c){function g(h,j){var a={},k=["value"];return b.each(h,function(e){e.each(k,function(l,m){var i="ec-"+e.getName(m);a[i]=a[i]||[],isNaN(l)||a[i].push(l)})}),h[0].map(k,function(m,v){for(var i="ec-"+h[0].getName(v),e=0,x=1/0,p=-(1/0),w=a[i].length,t=0;t<w;t++){x=Math.min(x,a[i][t]),p=Math.max(p,a[i][t]),e+=a[i][t]}var q;return q="min"===j?x:"max"===j?p:"average"===j?e/w:e,0===w?NaN:q})}var b=c(1);d.exports=function(a){var h={};a.eachSeriesByType("map",function(j){var e=j.getHostGeoModel(),k=e?"o"+e.id:"i"+j.getMapType();(h[k]=h[k]||[]).push(j)}),b.each(h,function(k,l){for(var j=g(b.map(k,function(e){return e.getData()}),k[0].get("mapValueCalculation")),m=0;m<k.length;m++){k[m].originalData=k[m].getData()}for(var m=0;m<k.length;m++){k[m].seriesGroup=k,k[m].needsDrawMap=0===m&&!k[m].getHostGeoModel(),k[m].setData(j.cloneShallow()),k[m].mainSeries=k[0]}})}},function(b,c,a){var d=a(1);b.exports=function(f){var g={};f.eachSeriesByType("map",function(h){var e=h.getMapType();if(!h.getHostGeoModel()&&!g[e]){var k={};d.each(h.seriesGroup,function(m){var l=m.coordinateSystem,o=m.originalData;m.get("showLegendSymbol")&&f.getComponent("legend")&&o.each("value",function(p,v){var n=o.getName(v),u=l.getRegion(n);if(u&&!isNaN(p)){var q=k[n]||0,i=l.dataToPoint(u.center);k[n]=q+1,o.setItemLayout(v,{point:i,offset:q})}})});var j=h.getData();j.each(function(m){var n=j.getName(m),l=j.getItemLayout(m)||{};l.showLabel=!k[n],j.setItemLayout(m,l)}),g[e]=!0}})}},function(a,b){a.exports=function(c){c.eachSeriesByType("map",function(g){var h=g.get("color"),f=g.getModel("itemStyle.normal"),j=f.get("areaColor"),d=f.get("color")||h[g.seriesIndex%h.length];g.getData().setVisual({areaColor:j,color:d})})}},function(b,c,a){var d=a(2);a(251),a(327),a(328),d.registerVisual(a(329))},function(m,h,g){function d(l,q,a){var s=l.get("data"),r=j(q);s&&s.length&&p.each(a,function(i){if(i){var n=p.indexOf(s,i[r]);i[r]=n>=0?n:NaN}})}function j(a){return +a.replace("dim","")}function c(l,s){var a=0;p.each(l,function(i){var n=j(i);n>a&&(a=n)});var v=s[0];v&&v.length-1>a&&(a=v.length-1);for(var u=[],q=0;q<=a;q++){u.push("dim"+q)}return u}var b=g(14),p=g(1),f=g(17),k=g(25);m.exports=f.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(x,s){var o=s.getComponent("parallel",this.get("parallelIndex")),w=o.parallelAxisIndex,n=x.data,v=o.dimensions,q=c(v,n),u=p.map(q,function(e,a){var y=p.indexOf(v,e),l=y>=0&&s.getComponent("parallelAxis",w[y]);return l&&"category"===l.get("type")?(d(l,e,n),{name:e,type:"ordinal"}):y<0&&k.guessOrdinal(n,a)?{name:e,type:"ordinal"}:e}),r=new b(u,this);return r.initData(n),this.option.progressive&&(this.option.animation=!1),r},getRawIndicesByActiveState:function(l){var o=this.coordinateSystem,a=this.getData(),q=[];return o.eachActiveState(a,function(n,i){l===n&&q.push(a.getRawIndex(i))}),q},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:0.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(w,m,j){function f(l,u,h){var z=l.model,c=l.getRect(),y=new g.Rect({shape:{x:c.x,y:c.y,width:c.width,height:c.height}}),s="horizontal"===z.get("layout")?"width":"height";return y.setShape(s,0),g.initProps(y,{shape:{width:c.width,height:c.height}},u,h),y}function q(u,z,s,B){for(var h=[],A=0;A<s.length;A++){var y=s[A],c=u.get(y,z);x(c,B.getAxis(y).type)||h.push(B.dataToPoint(c,y))}return h}function d(c,u,a,z,y){var l=q(c,a,z,y),h=new g.Polyline({shape:{points:l},silent:!0,z2:10});u.add(h),c.setItemGraphicEl(a,h)}function b(c,h){var a=c.hostModel.getModel("lineStyle.normal"),l=a.getLineStyle();c.eachItemGraphicEl(function(e,t){if(c.hasItemOption){var n=c.getItemModel(t),i=n.getModel("lineStyle.normal",a);l=i.getLineStyle(["color","stroke"])}e.useStyle(v.extend(l,{fill:null,stroke:c.getItemVisual(t,"color"),opacity:c.getItemVisual(t,"opacity")})),e.shape.smooth=h})}function x(a,c){return"category"===c?null==a:null==a||isNaN(a)}var g=j(3),v=j(1),p=0.3,k=j(30).extend({type:"parallel",init:function(){this._dataGroup=new g.Group,this.group.add(this._dataGroup),this._data},render:function(c,h,a,l){this._renderForNormal(c,l)},dispose:function(){},_renderForNormal:function(E,z){function l(e){d(A,n,e,o,a,null,C)}function F(e,y){var u=r.getItemGraphicEl(y),t=q(A,e,o,a);A.setItemGraphicEl(e,u);var h=z&&z.animation===!1?null:E;g.updateProps(u,{shape:{points:t}},h,e)}function D(h){var i=r.getItemGraphicEl(h);n.remove(i)}var n=this._dataGroup,A=E.getData(),r=this._data,a=E.coordinateSystem,o=a.dimensions,c=E.option,C=c.smooth?p:null;if(A.diff(r).add(l).update(F).remove(D).execute(),b(A,C),!this._data){var B=f(a,E,function(){setTimeout(function(){n.removeClipPath()})});n.setClipPath(B)}this._data=A},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});w.exports=k},function(b,c){var a=["lineStyle","normal","opacity"];b.exports=function(d){d.eachSeriesByType("parallel",function(m){var i=m.getModel("itemStyle.normal"),t=m.getModel("lineStyle.normal"),g=d.get("color"),f=t.get("color")||i.get("color")||g[m.seriesIndex%g.length],w=m.get("inactiveOpacity"),j=m.get("activeOpacity"),v=m.getModel("lineStyle.normal").getLineStyle(),q=m.coordinateSystem,k=m.getData(),p={normal:v.opacity,active:j,inactive:w};q.eachActiveState(k,function(l,r){var u=k.getItemModel(r),h=p[l];if("normal"===l){var s=u.get(a,!0);null!=s&&(h=s)}k.setItemVisual(r,"opacity",h)}),k.setVisual("color",f)})}},function(d,f,c){var h=c(1);c(57),c(268),c(269);var b=c(82),g=c(2);g.registerLayout(h.curry(b,"pictorialBar")),g.registerVisual(h.curry(c(50),"pictorialBar","roundRect",null)),c(32)},function(d,f,c){var g=c(1),b=c(2);c(374),c(332),c(333),b.registerVisual(g.curry(c(84),"radar")),b.registerVisual(g.curry(c(50),"radar","circle",null)),b.registerLayout(c(335)),b.registerProcessor(g.curry(c(63),"radar")),b.registerPreprocessor(c(334))},function(k,h,g){var d=g(17),j=g(14),c=g(25),b=g(1),m=g(7).encodeHTML,f=d.extend({type:"series.radar",dependencies:["radar"],init:function(a){f.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(l,p){var a=l.data||[],q=c([],a,{extraPrefix:"indicator_",extraFromZero:!0}),o=new j(q,this);return o.initData(a),o},formatTooltip:function(p){var q=this.getRawValue(p),o=this.coordinateSystem,r=o.getIndicatorAxes(),l=this.getData().getName(p);return m(""===l?this.name:l)+"<br/>"+b.map(r,function(e,a){return m(e.name+" : "+q[a])}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});k.exports=f},function(d,g,c){function j(a){return h.isArray(a)||(a=[+a,+a]),a}var b=c(3),h=c(1),f=c(24);d.exports=c(2).extendChartView({type:"radar",render:function(v,o,k){function w(u,x){var s=u.getItemVisual(x,"symbol")||"circle",l=u.getItemVisual(x,"color");if("none"!==s){var y=f.createSymbol(s,-0.5,-0.5,1,1,l);return y.attr({style:{strokeNoScale:!0},z2:100,scale:j(u.getItemVisual(x,"symbolSize"))}),y}}function a(z,x,C,A,y,s){C.removeAll();for(var t=0;t<x.length-1;t++){var B=w(A,y);B&&(B.__dimIdx=t,z[t]?(B.attr("position",z[t]),b[s?"initProps":"updateProps"](B,{position:x[t]},v,y)):B.attr("position",x[t]),C.add(B))}}function r(e){return h.map(e,function(i){return[q.cx,q.cy]})}var q=v.coordinateSystem,m=this.group,p=v.getData(),n=this._data;p.diff(n).add(function(x){var l=p.getItemLayout(x);if(l){var A=new b.Polygon,y=new b.Polyline,u={shape:{points:l}};A.shape.points=r(l),y.shape.points=r(l),b.initProps(A,u,v,x),b.initProps(y,u,v,x);var t=new b.Group,z=new b.Group;t.add(y),t.add(A),t.add(z),a(y.shape.points,l,z,p,x,!0),p.setItemGraphicEl(x,t)}}).update(function(z,t){var B=n.getItemGraphicEl(t),A=B.childAt(0),y=B.childAt(1),x=B.childAt(2),l={shape:{points:p.getItemLayout(z)}};l.shape.points&&(a(A.shape.points,l.shape.points,x,p,z,!1),b.updateProps(A,l,v),b.updateProps(y,l,v),p.setItemGraphicEl(z,B))}).remove(function(e){m.remove(n.getItemGraphicEl(e))}).execute(),p.eachItemGraphicEl(function(G,D){function A(){N.attr("ignore",M)}function t(){N.attr("ignore",B)}var O=p.getItemModel(D),C=G.childAt(0),N=G.childAt(1),H=G.childAt(2),F=p.getItemVisual(D,"color");m.add(G),C.useStyle(h.defaults(O.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:F})),C.hoverStyle=O.getModel("lineStyle.emphasis").getLineStyle();var z=O.getModel("areaStyle.normal"),E=O.getModel("areaStyle.emphasis"),B=z.isEmpty()&&z.parentModel.isEmpty(),M=E.isEmpty()&&E.parentModel.isEmpty();M=M&&B,N.ignore=B,N.useStyle(h.defaults(z.getAreaStyle(),{fill:F,opacity:0.7})),N.hoverStyle=E.getAreaStyle();var J=O.getModel("itemStyle.normal").getItemStyle(["color"]),K=O.getModel("itemStyle.emphasis").getItemStyle(),L=O.getModel("label.normal"),I=O.getModel("label.emphasis");H.eachChild(function(i){i.setStyle(J),i.hoverStyle=h.clone(K);var l=p.get(p.dimensions[i.__dimIdx],D);b.setText(i.style,L,F),i.setStyle({text:L.get("show")?h.retrieve(v.getFormattedLabel(D,"normal",null,i.__dimIdx),l):""}),b.setText(i.hoverStyle,I,F),i.hoverStyle.text=I.get("show")?h.retrieve(v.getFormattedLabel(D,"emphasis",null,i.__dimIdx),l):""}),G.off("mouseover").off("mouseout").off("normal").off("emphasis"),G.on("emphasis",A).on("mouseover",A).on("normal",t).on("mouseout",t),b.setHoverStyle(G)}),this._data=p},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}})},function(b,c,a){var d=a(1);b.exports=function(g){var h=g.polar;if(h){d.isArray(h)||(h=[h]);var f=[];d.each(h,function(j,i){j.indicator?(j.type&&!j.shape&&(j.shape=j.type),g.radar=g.radar||[],d.isArray(g.radar)||(g.radar=[g.radar]),g.radar.push(j)):f.push(j)}),g.polar=f}d.each(g.series,function(e){"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)})}},function(a,b){a.exports=function(c){c.eachSeriesByType("radar",function(g){function j(i,m){l[m]=l[m]||[],l[m][k]=d.dataToPoint(i,k)}var f=g.getData(),l=[],d=g.coordinateSystem;if(d){for(var k=0;k<d.getIndicatorAxes().length;k++){var h=f.dimensions[k];f.each(h,j)}f.each(function(e){l[e][0]&&l[e].push(l[e][0].slice()),f.setItemLayout(e,l[e])})}})}},function(b,c,a){var d=a(2);a(337),a(338),d.registerLayout(a(339)),d.registerVisual(a(340))},function(d,g,c){var j=c(17),b=c(247),h=c(7).encodeHTML,f=j.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(k){var l=k.edges||k.links,a=k.data||k.nodes;if(a&&l){var m=b(a,l,this,!0);return m.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(m,p,l){if("edge"===l){var q=this.getDataParams(m,l),k=q.data,o=k.source+" -- "+k.target;return q.value&&(o+=" : "+q.value),h(o)}return f.superCall(this,"formatTooltip",m,p)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:0.2,curveness:0.5},emphasis:{opacity:0.6}},animationEasing:"linear",animationDuration:1000}});d.exports=f},function(d,g,c){function j(k,l,a){var m=new b.Rect({shape:{x:k.x-10,y:k.y-10,width:0,height:k.height+20}});return b.initProps(m,{shape:{width:k.width+20,height:k.height+20}},l,a),m}var b=c(3),h=c(1),f=b.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(k,l){var a=l.extent/2;k.moveTo(l.x1,l.y1-a),k.bezierCurveTo(l.cpx1,l.cpy1-a,l.cpx2,l.cpy2-a,l.x2,l.y2-a),k.lineTo(l.x2,l.y2+a),k.bezierCurveTo(l.cpx2,l.cpy2+a,l.cpx1,l.cpy1+a,l.x1,l.y1+a),k.closePath()}});d.exports=c(2).extendChartView({type:"sankey",_model:null,render:function(n,q,m){var p=n.getGraph(),a=this.group,k=n.layoutInfo,r=n.getData(),o=n.getData("edge");this._model=n,a.removeAll(),a.position=[k.x,k.y],p.eachEdge(function(D){var A=new f;A.dataIndex=D.dataIndex,A.seriesIndex=n.seriesIndex,A.dataType="edge";var w=D.getModel("lineStyle.normal"),t=w.get("curveness"),K=D.node1.getLayout(),J=D.node2.getLayout(),F=D.getLayout();A.shape.extent=Math.max(1,F.dy);var E=K.x+K.dx,C=K.y+F.sy+F.dy/2,l=J.x,B=J.y+F.ty+F.dy/2,z=E*(1-t)+l*t,I=C,G=E*t+l*(1-t),H=B;switch(A.setShape({x1:E,y1:C,x2:l,y2:B,cpx1:z,cpy1:I,cpx2:G,cpy2:H}),A.setStyle(w.getItemStyle()),A.style.fill){case"source":A.style.fill=D.node1.getVisual("color");break;case"target":A.style.fill=D.node2.getVisual("color")}b.setHoverStyle(A,D.getModel("lineStyle.emphasis").getItemStyle()),a.add(A),o.setItemGraphicEl(D.dataIndex,A)}),p.eachNode(function(y){var t=y.getLayout(),A=y.getModel(),x=A.getModel("label.normal"),w=x.getModel("textStyle"),l=A.getModel("label.emphasis"),v=l.getModel("textStyle"),z=new b.Rect({shape:{x:t.x,y:t.y,width:y.getLayout().dx,height:y.getLayout().dy},style:{text:x.get("show")?n.getFormattedLabel(y.dataIndex,"normal")||y.id:"",textFont:w.getFont(),textFill:w.getTextColor(),textPosition:x.get("position")}});z.setStyle(h.defaults({fill:y.getVisual("color")},A.getModel("itemStyle.normal").getItemStyle())),b.setHoverStyle(z,h.extend(y.getModel("itemStyle.emphasis"),{text:l.get("show")?n.getFormattedLabel(y.dataIndex,"emphasis")||y.id:"",textFont:v.getFont(),textFill:v.getTextColor(),textPosition:l.get("position")})),a.add(z),r.setItemGraphicEl(y.dataIndex,z),z.dataType="node"}),!this._data&&n.get("animation")&&a.setClipPath(j(a.getBoundingRect(),n,function(){a.removeClipPath()})),this._data=n.getData()},dispose:function(){}})},function(F,V,P){function L(a,b){return q.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function Z(d,g,c,l,b,h,f){H(d,c,b),E(d,g,h,l,f),N(d)}function K(a){j.each(a,function(c){var d=B(c.outEdges,k),b=B(c.inEdges,k),f=Math.max(d,b);c.setLayout({value:f},!0)})}function H(M,v,m){for(var l=M,y=null,g=0,b=0;l.length;){y=[];for(var I=0,x=l.length;I<x;I++){var p=l[I];p.setLayout({x:g},!0),p.setLayout({dx:v},!0);for(var w=0,s=p.outEdges.length;w<s;w++){y.push(p.outEdges[w].node2)}}l=y,++g}G(M,g),b=(m-v)/(g-1),O(M,b)}function G(a,b){j.each(a,function(c){c.outEdges.length||c.setLayout({x:b-1},!0)})}function O(a,b){j.each(a,function(d){var c=d.getLayout().x*b;d.setLayout({x:c},!0)})}function E(d,g,c,l,b){var h=A().key(function(a){return a.getLayout().x}).sortKeys(C).entries(d).map(function(a){return a.values});X(d,h,g,c,l),Q(h,l,c);for(var f=1;b>0;b--){f*=0.99,W(h,f),Q(h,l,c),J(h,f),Q(h,l,c)}}function X(d,g,c,l,b){var h=[];j.each(g,function(m){var o=m.length,a=0;j.each(m,function(e){a+=e.getLayout().value});var n=(l-(o-1)*b)/a;h.push(n)}),h.sort(function(a,i){return a-i});var f=h[0];j.each(g,function(a){j.each(a,function(n,o){n.setLayout({y:o},!0);var m=n.getLayout().value*f;n.setLayout({dy:m},!0)})}),j.each(c,function(a){var i=+a.getValue()*f;a.setLayout({dy:i},!0)})}function Q(b,c,a){j.each(b,function(f){var m,e,i,h=0,g=f.length;for(f.sort(Y),i=0;i<g;i++){if(m=f[i],e=h-m.getLayout().y,e>0){var d=m.getLayout().y+e;m.setLayout({y:d},!0)}h=m.getLayout().y+m.getLayout().dy+c}if(e=h-c-a,e>0){var d=m.getLayout().y-e;for(m.setLayout({y:d},!0),h=m.getLayout().y,i=g-2;i>=0;--i){m=f[i],e=m.getLayout().y+m.getLayout().dy+c-h,e>0&&(d=m.getLayout().y-e,m.setLayout({y:d},!0)),h=m.getLayout().y}}})}function W(a,b){j.each(a.slice().reverse(),function(c){j.each(c,function(e){if(e.outEdges.length){var d=B(e.outEdges,U)/B(e.outEdges,k),f=e.getLayout().y+(d-aa(e))*b;e.setLayout({y:f},!0)}})})}function U(a){return aa(a.node2)*a.getValue()}function J(a,b){j.each(a,function(c){j.each(c,function(e){if(e.inEdges.length){var d=B(e.inEdges,R)/B(e.inEdges,k),f=e.getLayout().y+(d-aa(e))*b;e.setLayout({y:f},!0)}})})}function R(a){return aa(a.node1)*a.getValue()}function N(a){j.each(a,function(b){b.outEdges.sort(D),b.inEdges.sort(z)}),j.each(a,function(c){var d=0,b=0;j.each(c.outEdges,function(e){e.setLayout({sy:d},!0),d+=e.getLayout().dy}),j.each(c.inEdges,function(e){e.setLayout({ty:b},!0),b+=e.getLayout().dy})})}function D(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function z(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function B(d,f){for(var c=0,h=d.length,b=-1;++b<h;){var g=+f.call(d,d[b],b);isNaN(g)||(c+=g)}return c}function aa(a){return a.getLayout().y+a.getLayout().dy/2}function Y(a,b){return a.getLayout().y-b.getLayout().y}function C(a,b){return a<b?-1:a>b?1:a===b?0:NaN}function k(a){return a.getValue()}var q=P(12),A=P(265),j=P(1);F.exports=function(b,c,a){b.eachSeriesByType("sankey",function(I){var n=I.get("nodeWidth"),e=I.get("nodeGap"),M=L(I,c);I.layoutInfo=M;var m=M.width,y=M.height,x=I.getGraph(),o=x.nodes,w=x.edges;K(o);var v=j.filter(o,function(d){return 0===d.getLayout().value}),g=0!==v.length?0:I.get("layoutIterations");Z(o,w,n,e,m,y,g)})}},function(d,f,c){var g=c(83),b=c(1);d.exports=function(a,h){a.eachSeriesByType("sankey",function(k){var m=k.getGraph(),j=m.nodes;j.sort(function(i,o){return i.getLayout().value-o.getLayout().value});var n=j[0].getLayout().value,l=j[j.length-1].getLayout().value;b.each(j,function(t){var q=new g({type:"color",mappingMethod:"linear",dataExtent:[n,l],visual:k.get("color")}),p=q.mapValueToVisual(t.getLayout().value);t.setVisual("color",p);var r=t.getModel(),o=r.get("itemStyle.normal.color");null!=o&&t.setVisual("color",o)})})}},function(d,f,c){var g=c(2),b=c(1);c(252),c(342),c(343),g.registerLayout(c(344)),g.registerVisual(c(345)),g.registerProcessor(b.curry(c(63),"themeRiver"))},function(w,m,j){var f=j(25),q=j(17),d=j(14),b=j(1),x=j(7),g=x.encodeHTML,v=j(265),p=2,k=q.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(a){k.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(M){for(var G=M.length,C=v().key(function(a){return a[2]}).entries(M),z=b.map(C,function(a){return{name:a.key,dataList:a.values}}),K=z.length,u=-1,N=-1,B=0;B<K;++B){var I=z[B].dataList.length;I>u&&(u=I,N=B)}for(var D=0;D<K;++D){if(D!==N){for(var H=z[D].name,F=0;F<u;++F){for(var r=z[N].dataList[F][0],E=z[D].dataList.length,A=-1,L=0;L<E;++L){var J=z[D].dataList[L][0];if(J===r){A=L;break}}A===-1&&(M[G]=[],M[G][0]=r,M[G][1]=0,M[G][2]=H,G++)}}}return M},getInitialData:function(E,A){var o=[],C=A.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],F=C.get("type");o=[{name:"time",type:"category"===F?"ordinal":"time"===F?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];for(var n=b.filter(E.data,function(a){return void 0!==a[2]}),D=this.fixData(n||[]),r=[],B=this.nameMap=b.createHashMap(),z=0,c=0;c<D.length;++c){r.push(D[c][p]),B.get(D[c][p])||(B.set(D[c][p],z),z++)}o=f(o,D);var y=new d(o,this);return y.initData(D,r),y},coordDimToDataDim:function(a){return["time"]},getLayerSeries:function(){function u(e,a){return z.get("time",e)-z.get("time",a)}for(var z=this.getData(),r=z.count(),B=[],h=0;h<r;++h){B[h]=h}for(var A=v().key(function(a){return z.get("name",a)}).entries(B),y=b.map(A,function(a){return{name:a.key,indices:a.values}}),c=0;c<y.length;++c){y[c].indices.sort(u)}return y},getAxisTooltipData:function(K,F,B){b.isArray(K)||(K=K?[K]:[]);for(var z,I=this.getData(),y=this.getLayerSeries(),L=[],A=y.length,J=0;J<A;++J){for(var H=Number.MAX_VALUE,C=-1,G=y[J].indices.length,E=0;E<G;++E){var r=I.get(K[0],y[J].indices[E]),D=Math.abs(r-F);D<=H&&(z=r,H=D,C=y[J].indices[E])}L.push(C)}return{dataIndices:L,nestestValue:z}},formatTooltip:function(c){var h=this.getData(),a=h.get("name",c),l=h.get("value",c);return(isNaN(l)||null==l)&&(l="-"),g(a+" : "+l)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",textStyle:{color:"#000",fontSize:11}},emphasis:{show:!0}}}});w.exports=k},function(b,c,a){(function(h){function j(l,m,k){var o=new i.Rect({shape:{x:l.x-10,y:l.y-10,width:0,height:l.height+20}});return i.initProps(o,{shape:{width:l.width+20,height:l.height+20}},m,k),o}var d=a(93),i=a(3),g=a(1),f=a(48);b.exports=a(2).extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(E,x,q){function o(e){return e.name}function D(ad,ab,U){var Z=this._layers;if("remove"===ad){return void z.remove(Z[ab])}for(var Q,X=[],ac=[],Y=w[ab].indices,O=0;O<Y.length;O++){var K=A.getItemLayout(Y[O]),af=K.x,ae=K.y0,N=K.y;X.push([af,ae]),ac.push([af,ae+N]),Q=r.getItemVisual(Y[O],"color")}var y,G,J=A.getItemLayout(Y[0]),t=A.getItemModel(Y[O-1]),W=t.getModel("label.normal"),V=W.get("margin");if("add"===ad){var H=B[ab]=new i.Group;y=new d.Polygon({shape:{points:X,stackedOnPoints:ac,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:!1},z2:0}),G=new i.Text({style:{x:J.x-V,y:J.y0+J.y/2}}),H.add(y),H.add(G),z.add(H),y.setClipPath(j(y.getBoundingRect(),E,function(){y.removeClipPath()}))}else{var H=Z[U];y=H.childAt(0),G=H.childAt(1),z.add(H),B[ab]=H,i.updateProps(y,{shape:{points:X,stackedOnPoints:ac}},E),i.updateProps(G,{style:{x:J.x-V,y:J.y0+J.y/2}},E)}var R=t.getModel("itemStyle.emphasis"),F=t.getModel("itemStyle.normal"),aa=W.getModel("textStyle");G.setStyle({text:W.get("show")?E.getFormattedLabel(Y[O-1],"normal")||A.getName(Y[O-1]):"",textFont:aa.getFont(),textAlign:W.get("textAlign"),textVerticalAlign:"middle"}),y.setStyle(g.extend({fill:Q},F.getItemStyle(["color"]))),i.setHoverStyle(y,R.getItemStyle())}var A=E.getData(),r=E.getRawData();if(A.count()){var z=this.group,w=E.getLayerSeries(),k=A.getLayout("layoutInfo"),s=k.rect,n=k.boundaryGap;z.attr("position",[0,s.y+n[0]]);var C=new f(this._layersSeries||[],w,o,o),B={};C.add(g.bind(g.curry(D,"add"),this)).update(g.bind(g.curry(D,"update"),this)).remove(g.bind(g.curry(D,"remove"),this)).execute(),this._layersSeries=w,this._layers=B}},dispose:function(){}})}).call(c,a(188))},function(d,g,c){function j(C,y,q){if(C.count()){for(var m,a=y.coordinateSystem,D=y.getLayerSeries(),o=h.map(D,function(i){return h.map(i.indices,function(n){var l=a.dataToPoint(C.get("time",n));return l[1]=C.get("value",n),l})}),B=b(o),A=B.y0,v=q/B.max,z=D.length,x=D[0].indices.length,k=0;k<x;++k){m=A[k]*v,C.setItemLayout(D[0].indices[k],{layerIndex:0,x:o[0][k][0],y0:m,y:o[0][k][1]*v});for(var w=1;w<z;++w){m+=o[w-1][k][1]*v,C.setItemLayout(D[w].indices[k],{layerIndex:w,x:o[w][k][0],y0:m,y:o[w][k][1]*v})}}}}function b(C){for(var x,v=C.length,p=C[0].length,A=[],m=[],k=0,D={},q=0;q<p;++q){for(var B=0,x=0;B<v;++B){x+=C[B][q][1]}x>k&&(k=x),A.push(x)}for(var z=0;z<p;++z){m[z]=(k-A[z])/2}k=0;for(var w=0;w<p;++w){var y=A[w]+m[w];y>k&&(k=y)}return D.y0=m,D.max=k,D}var h=c(1),f=c(4);d.exports=function(a,i){a.eachSeriesByType("themeRiver",function(w){var p=w.getData(),n=w.coordinateSystem,r={},k=n.getRect();r.rect=k;var x=w.get("boundaryGap"),m=n.getAxis();if(r.boundaryGap=x,"horizontal"===m.orient){x[0]=f.parsePercent(x[0],k.height),x[1]=f.parsePercent(x[1],k.height);var v=k.height-x[0]-x[1];j(p,w,v)}else{x[0]=f.parsePercent(x[0],k.width),x[1]=f.parsePercent(x[1],k.width);var q=k.width-x[0]-x[1];j(p,w,q)}p.setLayout("layoutInfo",r)})}},function(a,b){a.exports=function(c){c.eachSeriesByType("themeRiver",function(f){var g=f.getData(),d=f.getRawData(),h=f.get("color");g.each(function(e){var j=g.getName(e),i=h[(f.nameMap.get(j)-1)%h.length];d.setItemVisual(e,"color",i)})})}},function(b,c,a){var d=a(2);a(348),a(349),a(350),d.registerVisual(a(352)),d.registerLayout(a(351))},function(y,p,k){function g(a){this.group=new b.Group,a.add(this.group)}function w(h,s,d,A,c,u){var l=[[c?h:h-q,s],[h+d,s],[h+d,s+A],[c?h:h-q,s+A]];return !u&&l.splice(2,0,[h+d+q,s+A/2]),!c&&l.push([h,s+A/2]),l}function f(c,d,a){c.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:d.componentIndex,seriesName:d.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:a&&a.dataIndex,name:a&&a.name},treePathInfo:a&&x.wrapTreePathInfo(a,d)}}var b=k(3),z=k(12),j=k(1),x=k(94),v=8,m=8,q=5;g.prototype={constructor:g,render:function(E,B,A,h){var C=E.getModel("breadcrumb"),d=this.group;if(d.removeAll(),C.get("show")&&A){var c=C.getModel("itemStyle.normal"),s=c.getModel("textStyle"),D={pos:{left:C.get("left"),right:C.get("right"),top:C.get("top"),bottom:C.get("bottom")},box:{width:B.getWidth(),height:B.getHeight()},emptyItemWidth:C.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(A,D,s),this._renderContent(E,D,c,s,h),z.positionElement(d,D.pos,D.box)}},_prepare:function(h,s,d){for(var A=h;A;A=A.parentNode){var c=A.getModel().get("name"),u=d.getTextRect(c),l=Math.max(u.width+2*v,s.emptyItemWidth);s.totalWidth+=l+m,s.renderList.push({node:A,text:c,width:l})}},_renderContent:function(K,A,o,h,J){for(var C=0,B=A.emptyItemWidth,s=K.get("breadcrumb.height"),a=z.getAvailableSize(A.pos,A.box),r=A.totalWidth,l=A.renderList,I=l.length-1;I>=0;I--){var E=l[I],F=E.node,H=E.width,D=E.text;r>a.width&&(r-=H-B,H=B,D="");var G=new b.Polygon({shape:{points:w(C,0,H,s,I===l.length-1,0===I)},style:j.defaults(o.getItemStyle(),{lineJoin:"bevel",text:D,textFill:h.getTextColor(),textFont:h.getFont()}),z:10,onclick:j.curry(J,F)});this.group.add(G),f(G,K,F),C+=H+m}},remove:function(){this.group.removeAll()}},y.exports=g},function(y,p,k){function g(c){var d=0;z.each(c.children,function(h){g(h);var e=h.value;z.isArray(e)&&(e=e[0]),d+=e});var a=c.value;z.isArray(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=d),a<0&&(a=0),z.isArray(c.value)?c.value[0]=a:c.value=a}function w(h,l){var d=l.get("color");if(d){h=h||[];var o;if(z.each(h,function(n){var r=new j(n),a=r.get("color");(r.get("itemStyle.normal.color")||a&&"none"!==a)&&(o=!0)}),!o){var c=h[0]||(h[0]={});c.color=d.slice()}return h}}var f=k(17),b=k(424),z=k(1),j=k(10),x=k(7),v=k(94),m=x.encodeHTML,q=x.addCommas;y.exports=f.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:0.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(c,h){var a=c.name;null==a&&(a=c.name);var l={name:a,children:c.data};g(l);var d=c.levels||[];return d=c.levels=w(d,h),b.createTree(l,this,d).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(h){var l=this.getData(),d=this.getRawValue(h),o=q(z.isArray(d)?d[0]:d),c=l.getName(h);return m(c+": "+o)},getDataParams:function(c){var d=f.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(c);return d.treePathInfo=v.wrapTreePathInfo(a,this),d},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{},z.extend(this.layoutInfo,a)},mapIdToIndex:function(c){var d=this._idIndexMap;d||(d=this._idIndexMap=z.createHashMap(),this._idIndexMapCount=0);var a=d.get(c);return null==a&&d.set(c,a=this._idIndexMapCount++),a},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var c=this.getData().tree.root;a&&(a===c||c.contains(a))||(this._viewRoot=c)}})},function(D,Q,L){function I(){return{nodeGroup:[],background:[],content:[]}}function V(aa,am,ai,af,ap,ag,Y,ao,aj,an){function al(f){Z.dataIndex=Y.dataIndex,Z.seriesIndex=aa.seriesIndex;var d=b.borderWidth,h=Math.max(ad-2*d,0),c=Math.max(ac-2*d,0);Z.culling=!0,Z.setShape({x:d,y:d,width:h,height:c});var g=Y.getVisual("color",!0);ae(Z,function(){var a={fill:g},i=Y.getModel("itemStyle.emphasis").getItemStyle();ak(a,i,g,h,c),Z.setStyle(a),E.setHoverStyle(Z,i)}),f.add(Z)}function ae(a,c){r?!a.invisible&&ag.push(a):(c(),a.__tmWillVisible||(a.invisible=!1))}function ak(p,f,u,d,t){var h=Y.getModel(),g=h.get("name");if(b.isLeafRoot){var c=aa.get("drillDownIcon",!0);g=c?c+" "+g:g}v(g,p,h,W,u,d,t),v(g,f,h,U,u,d,t)}function v(ar,w,p,g,y,f,d){var h=p.getModel(g),aq=h.getModel("textStyle");E.setText(w,h,y),w.textAlign=aq.get("align"),w.textVerticalAlign=aq.get("baseline");var x=aq.getTextRect(ar);!h.getShallow("show")||x.height>d?w.text="":x.width>f?w.text=aq.get("ellipsis")?aq.truncateText(ar,f,null,{minChar:2}):"":w.text=ar}function S(d,g,f,e){var a=null!=m&&ai[d][m],c=ap[d];return a?(ai[d][m]=null,X(c,a,d)):r||(a=new g({z:H(f,e)}),a.__tmDepth=f,a.__tmStorageName=d,M(c,a,d)),am[d][ab]=a}function X(c,d,a){var f=c[ab]={};f.old="nodeGroup"===a?d.position.slice():F.extend({},d.shape)}function M(f,n,d){var p=f[ab]={},h=Y.parentNode;if(h&&(!af||"drillDown"===af.direction)){var g=0,a=0,u=ap.background[h.getRawIndex()];!af&&u&&u.old&&(g=u.old.width,a=u.old.height),p.old="nodeGroup"===d?[0,a]:{x:g,y:a,width:0,height:0}}p.fadein="nodeGroup"!==d}if(Y){var b=Y.getLayout();if(b&&b.isInView){var ad=b.width,ac=b.height,r=b.invisible,ab=Y.getRawIndex(),m=ao&&ao.getRawIndex(),ah=S("nodeGroup",J);if(ah){if(aj.add(ah),ah.attr("position",[b.x||0,b.y||0]),ah.__tmNodeWidth=ad,ah.__tmNodeHeight=ac,b.isAboveViewRoot){return ah}var o=S("background",B,an,j);o&&(o.setShape({x:0,y:0,width:ad,height:ac}),ae(o,function(){o.setStyle("fill",Y.getVisual("borderColor",!0))}),ah.add(o));var s=Y.viewChildren;if(!s||!s.length){var Z=S("content",B,an,k);Z&&al(ah)}return ah}}}}function H(b,c){var a=b*A+c;return(a-1)/a}var F=L(1),E=L(3),K=L(48),C=L(94),T=L(347),N=L(95),R=L(11),P=L(19),G=L(426),O=F.bind,J=E.Group,B=E.Rect,q=F.each,z=3,W=["label","normal"],U=["label","emphasis"],A=10,j=1,k=2;D.exports=L(2).extendChartView({type:"treemap",init:function(a,b){this._containerGroup,this._storage=I(),this._oldTree,this._breadcrumb,this._controller,this._state="ready",this._mayClick},render:function(X,x,u,m){var S=x.findComponents({mainType:"series",subType:"treemap",query:m});if(!(F.indexOf(S,X)<0)){this.seriesModel=X,this.api=u,this.ecModel=x;var g=C.retrieveTargetInfo(m,X),Y=m&&m.type,r=X.layoutInfo,M=!this._oldTree,v=this._storage,y="treemapRootToNode"===Y&&g&&v?{rootNodeGroup:v.nodeGroup[g.node.getRawIndex()],direction:m.direction}:null,w=this._giveContainerGroup(r),b=this._doRender(w,X,y);M||Y&&"treemapZoomToNode"!==Y&&"treemapRootToNode"!==Y?b.renderFinally():this._doAnimation(w,b,X,y),this._resetController(u),this._renderBreadcrumb(X,u,g)}},_giveContainerGroup:function(a){var b=this._containerGroup;return b||(b=this._containerGroup=new J,this._initEvents(b),this.group.add(b)),b.attr("position",[a.x,a.y]),b},_doRender:function(Z,y,n){function b(g,m,f,o,c){function h(e){return e.getId()}function d(t,p){var e=null!=t?g[t]:null,i=null!=p?m[p]:null,v=l(e,i,f,c);v&&b(e&&e.viewChildren||[],i&&i.viewChildren||[],v,o,c+1)}o?(m=g,q(g,function(i,p){!i.isRemoved()&&d(p,p)})):new K(m,g,h,h).add(d).update(d).remove(F.curry(d,null)).execute()}function aa(c){var d=I();return c&&q(c,function(f,e){var g=d[e];q(f,function(h){h&&(g.push(h),h.__tmWillDelete=1)})}),d}function Y(){q(X,function(c){q(c,function(d){d.parent&&d.parent.remove(d)})}),q(w,function(c){c.invisible=!0,c.dirty()})}var S=y.getData().tree,r=this._oldTree,M=I(),x=I(),a=this._storage,w=[],l=F.curry(V,y,x,a,n,M,w);b(S.root?[S.root]:[],r&&r.root?[r.root]:[],Z,S===r||!r,0);var X=aa(a);return this._oldTree=S,this._storage=x,{lastsForAnimation:M,willDeleteEls:X,renderFinally:Y}},_doAnimation:function(d,g,c,l){if(c.get("animation")){var b=c.get("animationDurationUpdate"),h=c.get("animationEasing"),f=G.createWrap();q(g.willDeleteEls,function(a,i){q(a,function(o,n){if(!o.invisible){var p,e=o.parent;if(l&&"drillDown"===l.direction){p=e===l.rootNodeGroup?{shape:{x:0,y:0,width:e.__tmNodeWidth,height:e.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var m=0,s=0;e.__tmWillDelete||(m=e.__tmNodeWidth/2,s=e.__tmNodeHeight/2),p="nodeGroup"===i?{position:[m,s],style:{opacity:0}}:{shape:{x:m,y:s,width:0,height:0},style:{opacity:0}}}p&&f.add(o,p,b,h)}})}),q(this._storage,function(e,a){q(e,function(o,p){var i=g.lastsForAnimation[a][p],m={};i&&("nodeGroup"===a?i.old&&(m.position=o.position.slice(),o.attr("position",i.old)):(i.old&&(m.shape=F.extend({},o.shape),o.setShape(i.old)),i.fadein?(o.setStyle("opacity",0),m.style={opacity:1}):1!==o.style.opacity&&(m.style={opacity:1})),f.add(o,m,b,h))})},this),this._state="animating",f.done(O(function(){this._state="ready",g.renderFinally()},this)).start()}},_resetController:function(b){var c=this._controller;c||(c=this._controller=new N(b.getZr()),c.enable(this.seriesModel.get("roam")),c.on("pan",O(this._onPan,this)),c.on("zoom",O(this._onZoom,this)));var a=new R(0,0,b.getWidth(),b.getHeight());c.setPointerChecker(function(d,f,g){return a.contain(f,g)})},_clearController:function(){var a=this._controller;a&&(a.dispose(),a=null)},_onPan:function(b,c){if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(b)>z||Math.abs(c)>z)){var a=this.seriesModel.getData().tree.root;if(!a){return}var d=a.getLayout();if(!d){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:d.x+b,y:d.y+c,width:d.width,height:d.height}})}},_onZoom:function(d,h,c){if(this._mayClick=!1,"animating"!==this._state){var m=this.seriesModel.getData().tree.root;if(!m){return}var b=m.getLayout();if(!b){return}var l=new R(b.x,b.y,b.width,b.height),g=this.seriesModel.layoutInfo;h-=g.x,c-=g.y;var f=P.create();P.translate(f,f,[-h,-c]),P.scale(f,f,[d,d]),P.translate(f,f,[h,c]),l.applyTransform(f),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},_initEvents:function(a){function b(f){var h=this.seriesModel.get("nodeClick",!0);if(h){var d=this.findTarget(f.offsetX,f.offsetY);if(d){var m=d.node;if(m.getLayout().isLeafRoot){this._rootToNode(d)}else{if("zoomToNode"===h){this._zoomToNode(d)}else{if("link"===h){var c=m.hostTree.data.getItemModel(m.dataIndex),l=c.get("link",!0),g=c.get("target",!0)||"blank";l&&window.open(l,g)}}}}}}a.on("mousedown",function(c){"ready"===this._state&&(this._mayClick=!0)},this),a.on("mouseup",function(c){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&b.call(this,c))},this)},_renderBreadcrumb:function(b,c,a){function d(f){"animating"!==this._state&&(C.aboveViewRoot(b.getViewRoot(),f)?this._rootToNode({node:f}):this._zoomToNode({node:f}))}a||(a=null!=b.get("leafDepth",!0)?{node:b.getViewRoot()}:this.findTarget(c.getWidth()/2,c.getHeight()/2),a||(a={node:b.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new T(this.group))).render(b,c,a.node,O(d,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=I(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(b,c){var a,d=this.seriesModel.getViewRoot();return d.eachNode({attr:"viewChildren",order:"preorder"},function(h){var e=this._storage.background[h.getRawIndex()];if(e){var g=e.transformCoordToLocal(b,c),f=e.shape;if(!(f.x<=g[0]&&g[0]<=f.x+f.width&&f.y<=g[1]&&g[1]<=f.y+f.height)){return !1}a={node:h,offsetX:g[0],offsetY:g[1]}}},this),a}})},function(d,h,c){for(var k=c(2),b=c(94),j=function(){},g=["treemapZoomToNode","treemapRender","treemapMove"],f=0;f<g.length;f++){k.registerAction({type:g[f],update:"updateView"},j)}k.registerAction({type:"treemapRootToNode",update:"updateView"},function(l,m){function a(q,p){var s=b.retrieveTargetInfo(l,q);if(s){var r=q.getViewRoot();r&&(l.direction=b.aboveViewRoot(r,s.node)?"rollUp":"drillDown"),q.resetViewRoot(s.node)}}m.eachComponent({mainType:"series",subType:"treemap",query:l},a)})},function(C,O,K){function H(b,c,a){var d={mainType:"series",subType:"treemap",query:a};b.eachComponent(d,function(v){var Y=c.getWidth(),X=c.getHeight(),V=v.option,y=I.getLayoutRect(v.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()}),Z=V.size||[],p=R(z(y.width,Z[0]),Y),ab=R(z(y.height,Z[1]),X),aa=a&&a.type,m=A.retrieveTargetInfo(a,v),ac="treemapRender"===aa||"treemapMove"===aa?a.rootRect:null,f=v.getViewRoot(),i=A.getPathToRoot(f);if("treemapMove"!==aa){var e="treemapZoomToNode"===aa?L(v,m,f,p,ab):ac?[ac.width,ac.height]:[p,ab],W=V.sort;W&&"asc"!==W&&"desc"!==W&&(W="desc");var S={squareRatio:V.squareRatio,sort:W,leafDepth:V.leafDepth};f.hostTree.clearLayouts();var h={x:0,y:0,width:e[0],height:e[1],area:e[0]*e[1]};f.setLayout(h),T(f,S,!1,0);var h=f.getLayout();j(i,function(l,n){var g=(i[n+1]||f).getValue();l.setLayout(F.extend({dataExtent:[g,g],borderWidth:0},h))})}var w=v.getData().tree.root;w.setLayout(P(y,ac,m),!0),v.setLayoutInfo(y),N(w,new k((-y.x),(-y.y),Y,X),i,f,0)})}function T(X,ak,ag,ad){var aa,Y;if(!X.isRemoved()){var af=X.getLayout();aa=af.width,Y=af.height;var ah=X.getModel("itemStyle.normal"),al=ah.get("borderWidth"),aj=ah.get("gapWidth")/2,ac=al-aj,ai=X.getModel();X.setLayout({borderWidth:al},!0),aa=q(aa-2*ac,0),Y=q(Y-2*ac,0);var ae=aa*Y,W=G(X,ai,ae,ak,ag,ad);if(W.length){var u={x:ac,y:ac,width:aa,height:Y},am=U(aa,Y),V=1/0,c=[];c.area=0;for(var o=0,x=W.length;o<x;){var a=W[o];c.push(a),c.area+=a.getLayout().area;var ab=B(c,am,ak.squareRatio);ab<=V?(o++,V=ab):(c.area-=c.pop().getLayout().area,Q(c,am,u,aj,!1),am=U(u.width,u.height),c.length=c.area=0,V=1/0)}if(c.length&&Q(c,am,u,aj,!0),!ag){var Z=ai.get("childrenVisibleMin");null!=Z&&ae<Z&&(ag=!0)}for(var o=0,x=W.length;o<x;o++){T(W[o],ak,ag,ad+1)}}}}function G(X,x,r,l,V,b){var W=X.children||[],S=l.sort;"asc"!==S&&"desc"!==S&&(S=null);var s=null!=l.leafDepth&&l.leafDepth<=b;if(V&&!s){return X.viewChildren=[]}W=F.filter(W,function(a){return !a.isRemoved()}),D(W,S);var y=J(x,W,S);if(0===y.sum){return X.viewChildren=[]}if(y.sum=E(x,r,y.sum,S,W),0===y.sum){return X.viewChildren=[]}for(var w=0,v=W.length;w<v;w++){var p=W[w].getValue()/y.sum*r;W[w].setLayout({area:p})}return s&&(W.length&&X.setLayout({isLeafRoot:!0},!0),W.length=0),X.viewChildren=W,X.setLayout({dataExtent:y.dataExtent},!0),W}function E(v,h,g,d,m){if(!d){return g}for(var c=v.get("visibleMin"),b=m.length,w=b,f=b-1;f>=0;f--){var p=m["asc"===d?b-f-1:f].getValue();p/g*h<c&&(w=f,g-=p)}return"asc"===d?m.splice(0,b-w):m.splice(w,b-w),g}function D(a,b){return b&&a.sort(function(d,c){var e="asc"===b?d.getValue()-c.getValue():c.getValue()-d.getValue();return 0===e?"asc"===b?d.dataIndex-c.dataIndex:c.dataIndex-d.dataIndex:e}),a}function J(d,h,c){for(var m=0,b=0,l=h.length;b<l;b++){m+=h[b].getValue()}var g,f=d.get("visualDimension");if(h&&h.length){if("value"===f&&c){g=[h[h.length-1].getValue(),h[0].getValue()],"asc"===c&&g.reverse()}else{var g=[1/0,-(1/0)];j(h,function(a){var i=a.getValue(f);i<g[0]&&(g[0]=i),i>g[1]&&(g[1]=i)})}}else{g=[NaN,NaN]}return{sum:m,dataExtent:g}}function B(v,h,g){for(var d,m=0,c=1/0,b=0,w=v.length;b<w;b++){d=v[b].getLayout().area,d&&(d<c&&(c=d),d>m&&(m=d))}var f=v.area*v.area,p=h*h*g;return f?q(p*m/f,f/(p*c)):1/0}function Q(V,ah,ad,aa,al){var Z=ah===ad.width?0:1,X=1-Z,W=["x","y"],ac=["width","height"],S=ad[W[Z]],aj=ah?V.area/ah:0;(al||aj>ad[ac[X]])&&(aj=ad[ac[X]]);for(var ae=0,ai=V.length;ae<ai;ae++){var ag=V[ae],Y={},af=aj?ag.getLayout().area/aj:0,ab=Y[ac[X]]=q(aj-2*aa,0),x=ad[W[Z]]+ad[ac[Z]]-S,w=ae===ai-1||x<af?x:af,ak=Y[ac[Z]]=q(w-2*aa,0);Y[W[X]]=ad[W[X]]+U(aa,ab/2),Y[W[Z]]=S+U(aa,ak/2),S+=w,ag.setLayout(Y,!0)}ad[W[X]]+=aj,ad[ac[X]]-=aj}function L(ae,Y,V,x,ab){var w=(Y||{}).node,b=[x,ab];if(!w||w===V){return b}for(var af,S=x*ab,ad=S*ae.option.zoomToNodeRatio;af=w.parentNode;){for(var aa=0,W=af.children,Z=0,X=W.length;Z<X;Z++){aa+=W[Z].getValue()}var g=w.getValue();if(0===g){return b}ad*=aa/g;var y=af.getModel("itemStyle.normal").get("borderWidth");isFinite(y)&&(ad+=4*y*y+4*y*Math.pow(ad,0.5)),ad>M.MAX_SAFE_INTEGER&&(ad=M.MAX_SAFE_INTEGER),w=af}ad<S&&(ad=S);var ac=Math.pow(ad/S,0.5);return[x*ac,ab*ac]}function P(p,h,g){if(h){return{x:h.x,y:h.y}}var d={x:0,y:0};if(!g){return d}var m=g.node,c=m.getLayout();if(!c){return d}for(var b=[c.width/2,c.height/2],u=m;u;){var f=u.getLayout();b[0]+=f.x,b[1]+=f.y,u=u.parentNode}return{x:p.width/2-b[0],y:p.height/2-b[1]}}function N(p,h,g,d,m){var c=p.getLayout(),b=g[m],u=b&&b===p;if(!(b&&!u||m===g.length&&p!==d)){p.setLayout({isInView:!0,invisible:!u&&!h.intersect(c),isAboveViewRoot:u},!0);var f=new k(h.x-c.x,h.y-c.y,h.width,h.height);j(p.viewChildren||[],function(a){N(a,f,g,d,m+1)})}}var F=K(1),M=K(4),I=K(12),A=K(94),k=K(11),A=K(94),q=Math.max,U=Math.min,R=M.parsePercent,z=F.retrieve,j=F.each;C.exports=H},function(E,z,v){function m(M,n,g,N,L,l){var o=M.getModel(),a=M.getLayout();if(a&&!a.invisible&&a.isInView){var c,K=M.getModel(x),G=g[M.depth],H=C(K,n,G,N),J=K.get("borderColor"),r=K.get("borderColorSaturation");null!=r&&(c=k(H,M),J=b(r,c)),M.setVisual("borderColor",J);var I=M.viewChildren;if(I&&I.length){var f=q(M,o,a,K,H,I);y.each(I,function(h,i){if(h.depth>=L.length||h===L[h.depth]){var d=B(o,H,h,i,f,l);m(h,d,g,N,L,l)}})}else{c=k(H,M),M.setVisual("color",c)}}}function C(f,g,d,h){var c=y.extend({},g);return y.each(["color","colorAlpha","colorSaturation"],function(e){var a=f.get(e,!0);null==a&&d&&(a=d[e]),null==a&&(a=g[e]),null==a&&(a=h.get(e)),null!=a&&(c[e]=a)}),c}function k(c){var d=F(c,"color");if(d){var a=F(c,"colorAlpha"),f=F(c,"colorSaturation");return f&&(d=A.modifyHSL(d,null,null,f)),a&&(d=A.modifyAlpha(d,a)),d}}function b(a,c){return null!=c?A.modifyHSL(c,null,null,a):null}function F(c,d){var a=c[d];if(null!=a&&"none"!==a){return a}}function q(O,K,I,G,N,u){if(u&&u.length){var g=D(K,"color")||null!=N.color&&"none"!==N.color&&(D(K,"colorAlpha")||D(K,"colorSaturation"));if(g){var P=K.get("visualMin"),H=K.get("visualMax"),M=I.dataExtent.slice();null!=P&&P<M[0]&&(M[0]=P),null!=H&&H>M[1]&&(M[1]=H);var L=K.get("colorMappingBy"),J={type:g.name,dataExtent:M,visual:g.range};"color"!==J.type||"index"!==L&&"id"!==L?J.mappingMethod="linear":(J.mappingMethod="category",J.loop=!0);var h=new w(J);return h.__drColorMappingBy=L,h}}}function D(c,d){var a=c.get(d);return j(a)&&a.length?{name:d,range:a}:null}function B(I,p,h,f,G,d){var c=y.extend({},p);if(G){var J=G.type,g="color"===J&&G.__drColorMappingBy,H="index"===g?f:"id"===g?d.mapIdToIndex(h.getId()):h.getValue(I.get("visualDimension"));c[J]=G.mapValueToVisual(H)}return c}var w=v(83),A=v(22),y=v(1),j=y.isArray,x="itemStyle.normal";E.exports=function(f,g,d){var c={mainType:"series",subType:"treemap",query:d};f.eachComponent(c,function(n){var p=n.getData().tree,l=p.root,h=n.getModel(x);if(!l.isRemoved()){var r=y.map(p.levelModels,function(a){return a?a.get(x):null});m(l,{},r,h,n.getViewRoot().getAncestors(),n)}})}},function(b,c,a){a(236),a(354)},function(d,h,c){function k(p,q,m,s){var l=p.coordToPoint([q,s]),r=p.coordToPoint([m,s]);return{x1:l[0],y1:l[1],x2:r[0],y2:r[1]}}var b=c(1),j=c(3),g=c(10),f=["axisLine","axisLabel","axisTick","splitLine","splitArea"];c(41).extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(l,p){if(this.group.removeAll(),l.get("show")){var a=l.axis,s=a.polar,q=s.getRadiusAxis().getExtent(),m=a.getTicksCoords();"category"!==a.type&&m.pop(),b.each(f,function(i){!l.get(i+".show")||a.scale.isBlank()&&"axisLine"!==i||this["_"+i](l,s,m,q)},this)}},_axisLine:function(o,q,m,s){var l=o.getModel("axisLine.lineStyle"),p=new j.Circle({shape:{cx:q.cx,cy:q.cy,r:s[1]},style:l.getLineStyle(),z2:1,silent:!0});p.style.fill=null,this.group.add(p)},_axisTick:function(o,v,n,q){var p=o.getModel("axisTick"),a=(p.get("inside")?-1:1)*p.get("length"),m=b.map(n,function(e){return new j.Line({shape:k(v,q[1],q[1]+a,e)})});this.group.add(j.mergePath(m,{style:b.defaults(p.getModel("lineStyle").getLineStyle(),{stroke:o.get("axisLine.lineStyle.color")})}))},_axisLabel:function(z,J,F,C){for(var M=z.axis,A=z.get("data"),E=z.getModel("axisLabel"),w=E.getModel("textStyle"),L=z.getFormattedLabels(),G=E.get("margin"),K=M.getLabelsCoords(),I=0;I<F.length;I++){var B=C[1],H=J.coordToPoint([B+G,K[I]]),D=J.cx,r=J.cy,o=Math.abs(H[0]-D)/B<0.3?"center":H[0]>D?"left":"right",q=Math.abs(H[1]-r)/B<0.3?"middle":H[1]>r?"top":"bottom",N=w;A&&A[I]&&A[I].textStyle&&(N=new g(A[I].textStyle,w)),this.group.add(new j.Text({style:{x:H[0],y:H[1],fill:N.getTextColor()||z.get("axisLine.lineStyle.color"),text:L[I],textAlign:o,textVerticalAlign:q,textFont:N.getFont()},silent:!0}))}},_splitLine:function(y,q,n,a){var z=y.getModel("splitLine"),m=z.getModel("lineStyle"),x=m.get("color"),w=0;x=x instanceof Array?x:[x];for(var o=[],v=0;v<n.length;v++){var p=w++%x.length;o[p]=o[p]||[],o[p].push(new j.Line({shape:k(q,a[0],a[1],n[v])}))}for(var v=0;v<o.length;v++){this.group.add(j.mergePath(o[v],{style:b.defaults({stroke:x[v%x.length]},m.getLineStyle()),silent:!0,z:y.get("z")}))}},_splitArea:function(H,C,y,q){var a=H.getModel("splitArea"),I=a.getModel("areaStyle"),x=I.get("color"),G=0;x=x instanceof Array?x:[x];for(var E=[],z=Math.PI/180,D=-y[0]*z,B=Math.min(q[0],q[1]),o=Math.max(q[0],q[1]),A=H.get("clockwise"),w=1;w<y.length;w++){var F=G++%x.length;E[F]=E[F]||[],E[F].push(new j.Sector({shape:{cx:C.cx,cy:C.cy,r0:B,r:o,startAngle:D,endAngle:-y[w]*z,clockwise:A},silent:!0})),D=-y[w]*z}for(var w=0;w<E.length;w++){this.group.add(j.mergePath(E[w],{style:b.defaults({fill:x[w%x.length]},I.getAreaStyle()),silent:!0}))}}})},function(y,p,k){function g(c,d,a){return a&&"axisAreaSelect"===a.type&&d.findComponents({mainType:"parallelAxis",query:a})[0]===c}function w(a){var c=a.axis;return b.map(a.activeIntervals,function(d){return{brushType:"lineX",panelId:"pl",range:[c.dataToCoord(d[0],!0),c.dataToCoord(d[1],!0)]}})}function f(a,c){return c.getComponent("parallel",a.get("parallelIndex"))}var b=k(1),z=k(40),j=k(127),x=k(185),v=k(3),m=["axisLine","axisLabel","axisTick","axisName"],q=k(2).extendComponentView({type:"parallelAxis",init:function(a,c){q.superApply(this,"init",arguments),(this._brushController=new j(c.getZr())).on("brush",b.bind(this._onBrush,this))},render:function(H,A,o,E){if(!g(H,A,E)){this.axisModel=H,this.api=o,this.group.removeAll();var n=this._axisGroup;if(this._axisGroup=new v.Group,this.group.add(this._axisGroup),H.get("show")){var G=f(H,A),B=G.coordinateSystem,s=H.getAreaSelectStyle(),c=s.width,r=H.axis.dim,h=B.getAxisLayout(r),F=b.extend({strokeContainThreshold:c},h),C=new z(H,F);b.each(m,C.add,C),this._axisGroup.add(C.getGroup()),this._refreshBrushController(F,s,H,G,c,o);var D=E&&E.animation===!1?null:H;v.groupTransition(n,this._axisGroup,D)}}},updateVisual:function(c,d,a,h){this._brushController&&this._brushController.updateCovers(w(c))},_refreshBrushController:function(F,D,B,u,c,a){var G=B.axis.getExtent(),A=G[1]-G[0],C=Math.min(30,0.1*Math.abs(A)),E=v.BoundingRect.create({x:G[0],y:-c/2,width:A,height:c});E.x-=C,E.width+=2*C,this._brushController.mount({enableGlobalPan:!0,rotation:F.rotation,position:F.position}).setPanels([{panelId:"pl",clipPath:x.makeRectPanelClipPath(E),isTargetByCursor:x.makeRectIsTargetByCursor(E,a,u),getLinearBrushOtherExtent:x.makeLinearBrushOtherExtent(E,0)}]).enableBrush({brushType:"lineX",brushStyle:D,removeOnClick:!0}).updateCovers(w(B))},_onBrush:function(h,l){var d=this.axisModel,o=d.axis,c=b.map(h,function(a){return[o.coordToData(a.range[0],!0),o.coordToData(a.range[1],!0)]});(!d.option.realtime===l.isEnd||l.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:d.id,intervals:c})},dispose:function(){this._brushController.dispose()}});y.exports=q},function(k,h,g){function d(l,n,a){return{position:[l.cx,l.cy],rotation:a/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}var j=g(1),c=g(3),b=g(40),m=["axisLine","axisLabel","axisTick","axisName"],f=["splitLine","splitArea"];g(41).extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(y,s){if(this.group.removeAll(),y.get("show")){var n=y.axis,l=n.polar,x=l.getAngleAxis(),w=n.getTicksCoords(),q=x.getExtent()[0],v=n.getExtent(),r=d(l,y,q),a=new b(y,r);j.each(m,a.add,a),this.group.add(a.getGroup()),j.each(f,function(i){y.get(i+".show")&&!n.scale.isBlank()&&this["_"+i](y,l,q,v,w)},this)}},_splitLine:function(B,x,q,o,a){var C=B.getModel("splitLine"),p=C.getModel("lineStyle"),A=p.get("color"),z=0;A=A instanceof Array?A:[A];for(var v=[],y=0;y<a.length;y++){var w=z++%A.length;v[w]=v[w]||[],v[w].push(new c.Circle({shape:{cx:x.cx,cy:x.cy,r:a[y]},silent:!0}))}for(var y=0;y<v.length;y++){this.group.add(c.mergePath(v[y],{style:j.defaults({stroke:A[y%A.length],fill:null},p.getLineStyle()),silent:!0}))}},_splitArea:function(D,z,w,q,a){var E=D.getModel("splitArea"),v=E.getModel("areaStyle"),C=v.get("color"),B=0;C=C instanceof Array?C:[C];for(var x=[],A=a[0],y=1;y<a.length;y++){var o=B++%C.length;x[o]=x[o]||[],x[o].push(new c.Sector({shape:{cx:z.cx,cy:z.cy,r0:A,r:a[y],startAngle:0,endAngle:2*Math.PI},silent:!0})),A=a[y]}for(var y=0;y<x.length;y++){this.group.add(c.mergePath(x[y],{style:j.defaults({fill:C[y%C.length]},v.getAreaStyle()),silent:!0}))}}})},function(w,m,j){var f=j(40),q=j(1),d=j(3),b=j(248),x=f.getInterval,g=f.ifIgnoreOnTick,v=["axisLine","axisLabel","axisTick","axisName"],p="splitLine",k=j(41).extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(h,r,c,y){var n=this.group;n.removeAll();var a=b.layout(h),u=new f(h,a);q.each(v,u.add,u),n.add(u.getGroup()),h.get(p+".show")&&this["_"+p](h,a.labelInterval),k.superCall(this,"render",h,r,c,y)},_splitLine:function(A,J){var F=A.axis;if(!F.scale.isBlank()){var D=A.getModel("splitLine"),M=D.getModel("lineStyle"),B=M.get("width"),z=M.get("color"),L=x(D,J);z=z instanceof Array?z:[z];for(var G=A.coordinateSystem.getRect(),K=F.isHorizontal(),I=[],C=0,H=F.getTicksCoords(),E=[],s=[],l=0;l<H.length;++l){if(!g(F,l,L)){var o=F.toGlobalCoord(H[l]);K?(E[0]=o,E[1]=G.y,s[0]=o,s[1]=G.y+G.height):(E[0]=G.x,E[1]=o,s[0]=G.x+G.width,s[1]=o);var N=C++%z.length;I[N]=I[N]||[],I[N].push(new d.Line(d.subPixelOptimizeLine({shape:{x1:E[0],y1:E[1],x2:s[0],y2:s[1]},style:{lineWidth:B},silent:!0})))}}for(var l=0;l<I.length;++l){this.group.add(d.mergePath(I[l],{style:{stroke:z[l%z.length],lineDash:M.getLineDash(B),lineWidth:B},silent:!0}))}}}});w.exports=k},function(d,f,c){var g=c(2),b={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};g.registerAction(b,function(a,h){h.eachComponent({mainType:"parallelAxis",query:a},function(i){i.axis.model.setActiveIntervals(a.intervals)})}),g.registerAction("parallelAxisExpand",function(a,h){h.eachComponent({mainType:"parallel",query:a},function(i){i.setAxisExpand(a)})})},function(y,p,k){function g(A,K,G,E,N){var D=K.axis,B=D.dataToCoord(A),M=E.getAngleAxis().getExtent()[0];M=M/180*Math.PI;var H,L,J,C=E.getRadiusAxis().getExtent();if("radius"===D.dim){var I=j.create();j.rotate(I,I,M),j.translate(I,I,[E.cx,E.cy]),H=b.applyTransform([B,-N],I);var F=K.getModel("axisLabel").get("rotate")||0,u=x.innerTextLayout(M,F*Math.PI/180,-1);L=u.textAlign,J=u.textVerticalAlign}else{var l=C[1];H=E.coordToPoint([l+N,B]);var r=E.cx,O=E.cy;L=Math.abs(H[0]-r)/l<0.3?"center":H[0]>r?"left":"right",J=Math.abs(H[1]-O)/l<0.3?"middle":H[1]>O?"top":"bottom"}return{position:H,align:L,verticalAlign:J}}var w=k(7),f=k(119),b=k(3),z=k(76),j=k(19),x=k(40),v=k(41),m=f.extend({makeElOption:function(K,F,B,n,a){var A=B.axis;"angle"===A.dim&&(this.animationThreshold=Math.PI/18);var J,G=A.polar,C=G.getOtherAxis(A),E=C.getExtent();J=A["dataTo"+w.capitalFirst(A.dim)](F);var d=n.get("type");if(d&&"none"!==d){var D=z.buildElStyle(n),s=q[d](A,G,J,E,D);s.style=D,K.graphicKey=s.type,K.pointer=s}var I=n.get("label.margin"),H=g(F,B,n,G,I);z.buildLabelElOption(K,B,n,a,H)}}),q={line:function(h,l,d,o,c){return"angle"===h.dim?{type:"Line",shape:z.makeLineShape(l.coordToPoint([o[0],d]),l.coordToPoint([o[1],d]))}:{type:"Circle",shape:{cx:l.cx,cy:l.cy,r:d}}},shadow:function(h,s,d,A,c){var u=h.getBandWidth(),l=Math.PI/180;return"angle"===h.dim?{type:"Sector",shape:z.makeSectorShape(s.cx,s.cy,A[0],A[1],(-d-u/2)*l,(-d+u/2)*l)}:{type:"Sector",shape:z.makeSectorShape(s.cx,s.cy,d-u/2,d+u/2,0,2*Math.PI)}}};v.registerAxisPointerClass("PolarAxisPointer",m),y.exports=m},function(A,v,m){function j(a){return a.isHorizontal()?0:1}function y(c,d){var a=c.getRect();return[a[x[d]],a[x[d]]+a[p[d]]]}var g=m(3),b=m(119),B=m(76),k=m(248),z=m(41),x=["x","y"],p=["width","height"],w=b.extend({makeElOption:function(J,E,s,l,a){var I=s.axis,G=I.coordinateSystem,C=y(G,1-j(I)),F=G.dataToPoint(E)[0],f=l.get("type");if(f&&"none"!==f){var D=B.buildElStyle(l),n=q[f](I,F,C,D);n.style=D,J.graphicKey=n.type,J.pointer=n}var H=k.layout(s);B.buildCartesianSingleLabelElOption(E,J,H,s,l,a)},getHandleTransform:function(c,d,a){var f=k.layout(d,{labelInside:!1});return f.labelMargin=a.get("handle.margin"),{position:B.getTransformedPosition(d.axis,c,f),rotation:f.rotation+(f.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(K,G,D,n){var a=D.axis,L=a.coordinateSystem,C=j(a),J=y(L,C),I=K.position;I[C]+=G[C],I[C]=Math.min(J[1],I[C]),I[C]=Math.max(J[0],I[C]);var E=y(L,1-C),H=(E[1]+E[0])/2,F=[H,H];return F[C]=I[C],{position:I,rotation:K.rotation,cursorPoint:F,tooltipOption:{verticalAlign:"middle"}}}}),q={line:function(f,l,d,c){var h=B.makeLineShape([l,d[0]],[l,d[1]],j(f));return g.subPixelOptimizeLine({shape:h,style:c}),{type:"Line",shape:h}},shadow:function(f,l,d,c){var n=f.getBandWidth(),h=d[1]-d[0];return{type:"Rect",shape:B.makeRectShape([l-n/2,d[0]],[n,h],j(f))}}};z.registerAxisPointerClass("SingleAxisPointer",w),A.exports=w},function(b,c,a){a(2).registerPreprocessor(a(365)),a(367),a(362),a(363),a(364),a(386)},function(m,h,g){function d(a,i){return c.merge({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new p(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},i,!0)}var j=g(2),c=g(1),b=g(187),p=g(10),f=["#ddd"],k=j.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:10000},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(l,n){var a=this.option;!n&&b.replaceVisualOption(a,l,["inBrush","outOfBrush"]),a.inBrush=a.inBrush||{},a.outOfBrush=a.outOfBrush||{color:f}},setAreas:function(a){a&&(this.areas=c.map(a,function(e){return d(this.option,e)},this))},setBrushOption:function(a){this.brushOption=d(this.option,a),this.brushType=this.brushOption.brushType}});m.exports=k},function(d,g,c){function j(k,l,a,m){(!m||m.$from!==k.id)&&this._brushController.setPanels(k.brushTargetManager.makePanelOpts(a)).enableBrush(k.brushOption).updateCovers(k.areas.slice())}var b=c(1),h=c(127),f=c(2);d.exports=f.extendComponentView({type:"brush",init:function(a,i){this.ecModel=a,this.api=i,this.model,(this._brushController=new h(i.getZr())).on("brush",b.bind(this._onBrush,this)).mount()},render:function(a){return this.model=a,j.apply(this,arguments)},updateView:j,updateLayout:j,updateVisual:j,dispose:function(){this._brushController.dispose()},_onBrush:function(k,l){var a=this.model.id;this.model.brushTargetManager.setOutputRanges(k,this.ecModel),(!l.isEnd||l.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:a,areas:b.clone(k),$from:a})}})},function(b,c,a){var d=a(2);d.registerAction({type:"brush",event:"brush",update:"updateView"},function(f,g){g.eachComponent({mainType:"brush",query:f},function(h){h.setAreas(f.areas)})}),d.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(d,f,c){function h(a){var i={};b.each(a,function(e){i[e]=1}),a.length=0,b.each(i,function(k,j){a.push(j)})}var b=c(1),g=["rect","polygon","keep","clear"];d.exports=function(m,p){var k=m&&m.brush;if(b.isArray(k)||(k=k?[k]:[]),k.length){var o=[];b.each(k,function(i){var l=i.hasOwnProperty("toolbox")?i.toolbox:[];l instanceof Array&&(o=o.concat(l))});var n=m&&m.toolbox;b.isArray(n)&&(n=n[0]),n||(n={feature:{}},m.toolbox=[n]);var a=n.feature||(n.feature={}),j=a.brush||(a.brush={}),q=j.type||(j.type=[]);q.push.apply(q,o),h(q),p&&!q.length&&q.push.apply(q,g)}}},function(w,m,j){function f(c){var h=["x","y"],a=["width","height"];return{point:function(t,l,y){var u=y.range,s=t[c];return q(s,u)},rect:function(y,u,t){var i=t.range,e=[y[h[c]],y[h[c]]+y[a[c]]];return e[1]<e[0]&&e.reverse(),q(e[0],i)||q(e[1],i)||q(i[0],e)||q(i[1],e)}}}function q(a,c){return c[0]<=a&&a<=c[1]}function d(u,z,r,B,h){for(var A=0,y=h[h.length-1];A<h.length;A++){var c=h[A];if(b(u,z,r,B,c[0],c[1],y[0],y[1])){return !0}y=c}}function b(G,B,z,y,E,s,l,F){var D=g(z-G,E-l,y-B,s-F);if(x(D)){return !1}var A=g(E-G,E-l,s-B,s-F)/D;if(A<0||A>1){return !1}var C=g(z-G,E-G,y-B,s-B)/D;return !(C<0||C>1)}function x(a){return a<=0.000001&&a>=-0.000001}function g(c,h,a,l){return c*l-h*a}var v=j(267).contain,p=j(11),k={lineX:f(0),lineY:f(1),rect:{point:function(c,h,a){return a.boundingRect.contain(c[0],c[1])},rect:function(c,h,a){return a.boundingRect.intersect(c)}},polygon:{point:function(c,h,a){return a.boundingRect.contain(c[0],c[1])&&v(a.range,c[0],c[1])},rect:function(C,A,y){var o=y.range;if(o.length<=1){return !1}var B=C.x,c=C.y,D=C.width,u=C.height,z=o[0];return !!(v(o,B,c)||v(o,B+D,c)||v(o,B,c+u)||v(o,B+D,c+u)||p.create(C).contain(z[0],z[1])||d(B,c,B+D,c,o)||d(B,c,B,c+u,o)||d(B+D,c,B+D,c+u,o)||d(B,c+u,B+D,c+u,o))||void 0}}};w.exports=k},function(z,L,H){function E(b,f,a,h,g){if(g){var d=b.getZr();if(!d[k]){d[j]||(d[j]=P);var c=J.createOrUpdate(d,j,a,f);c(b,h)}}}function P(b,c){if(!b.isDisposed()){var a=b.getZr();a[k]=!0,b.dispatchAction({type:"brushSelect",batch:c}),a[k]=!1}}function D(d,g,c,l){for(var b=0,h=g.length;b<h;b++){var f=g[b];if(d[f.brushType](l,c,f.selectors,f)){return !0}}}function B(b){var c=b.brushSelector;if(M.isString(c)){var a=[];return M.each(C,function(e,f){a[f]=function(h,p,g,m){var l=p.getItemLayout(h);return e[c](l,g,m)}}),a}if(M.isFunction(c)){var d={};return M.each(C,function(f,e){d[e]=c}),d}return c}function A(b,c){var a=b.option.seriesIndex;return null!=a&&"all"!==a&&(M.isArray(a)?M.indexOf(a,c)<0:c!==a)}function G(a){var b=a.selectors={};return M.each(C[a.brushType],function(c,d){b[d]=function(e){return c(e,b,a)}}),a}function w(a){return new K(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}var N=H(2),I=H(187),M=H(1),K=H(11),C=H(366),J=H(37),F=H(184),q=["inBrush","outOfBrush"],j="__ecBrushSelect",k="__ecInBrushSelectEvent",Q=N.PRIORITY.VISUAL.BRUSH;N.registerLayout(Q,function(b,c,a){b.eachComponent({mainType:"brush"},function(d){a&&"takeGlobalCursor"===a.type&&d.setBrushOption("brush"===a.key?a.brushOption:{brushType:!1});var f=d.brushTargetManager=new F(d.option,b);f.setInputRanges(d.areas,b)})}),N.registerVisual(Q,function(g,h,f){var b,d,l=[];g.eachComponent({mainType:"brush"},function(R,t){function c(e){return"all"===W||Z[e]}function v(e){return !!e.length}function a(n,p){var m=n.coordinateSystem;U|=m.hasAxisBrushed(),c(p)&&m.eachActiveState(n.getData(),function(i,x){"active"===i&&(Y[x]=1)})}function u(p,m,e){var n=B(p);if(n&&!A(R,m)&&(M.each(X,function(i){n[i.brushType]&&R.brushTargetManager.controlSeries(i,p,g)&&e.push(i),U|=v(e)}),c(m)&&v(e))){var x=p.getData();x.each(function(i){D(n,e,x,i)&&(Y[i]=1)})}}var o={brushId:R.id,brushIndex:t,brushName:R.name,areas:M.clone(R.areas),selected:[]};l.push(o);var V=R.option,W=V.brushLink,Z=[],Y=[],s=[],U=0;t||(b=V.throttleType,d=V.throttleDelay);var X=M.map(R.areas,function(e){return G(M.defaults({boundingRect:O[e.brushType](e)},e))}),r=I.createVisualMappings(R.option,q,function(e){e.mappingMethod="fixed"});M.isArray(W)&&M.each(W,function(e){Z[e]=1}),g.eachSeries(function(n,p){var m=s[p]=[];"parallel"===n.subType?a(n,p,m):u(n,p,m)}),g.eachSeries(function(y,T){var x={seriesId:y.id,seriesIndex:T,seriesName:y.name,dataIndex:[]};o.selected.push(x);var n=B(y),S=s[T],m=y.getData(),p=c(T)?function(e){return Y[e]?(x.dataIndex.push(m.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(e){return D(n,S,m,e)?(x.dataIndex.push(m.getRawIndex(e)),"inBrush"):"outOfBrush"};(c(T)?U:v(S))&&I.applyVisual(q,r,m,p)})}),E(h,b,d,l,f)});var O={lineX:M.noop,lineY:M.noop,rect:function(a){return w(a.range)},polygon:function(d){for(var f,c=d.range,h=0,b=c.length;h<b;h++){f=f||[[1/0,-(1/0)],[1/0,-(1/0)]];var g=c[h];g[0]<f[0][0]&&(f[0][0]=g[0]),g[0]>f[0][1]&&(f[0][1]=g[0]),g[1]<f[1][0]&&(f[1][0]=g[1]),g[1]>f[1][1]&&(f[1][1]=g[1])}return f&&w(f)}}},function(b,c,a){a(394),a(395),a(369)},function(k,h,g){var d=g(1),j=g(3),c=g(7),b=g(4),m={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},f={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]};k.exports=g(2).extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(q,u,p){var w=this.group;w.removeAll();var l=q.coordinateSystem,v=l.getRangeInfo(),s=l.getOrient();this._renderDayRect(q,v,w),this._renderLines(q,v,s,w),this._renderYearText(q,v,s,w),this._renderMonthText(q,s,w),this._renderWeekText(q,v,s,w)},_renderDayRect:function(A,x,w){for(var q=A.coordinateSystem,p=A.getModel("itemStyle.normal").getItemStyle(),a=q.getCellWidth(),B=q.getCellHeight(),v=x.start.time;v<=x.end.time;v=q.getNextNDay(v,1).time){var z=q.dataToRect([v],!1).tl,y=new j.Rect({shape:{x:z[0],y:z[1],width:a,height:B},style:p});w.add(y)}},_renderLines:function(E,z,x,v){function C(l){q._firstDayOfMonth.push(p.getDateInfo(l)),q._firstDayPoints.push(p.dataToRect([l],!1).tl);var i=q._getLinePointsOfOneWeek(E,l,x);q._tlpoints.push(i[0]),q._blpoints.push(i[i.length-1]),w&&q._drawSplitline(i,F,v)}var q=this,p=E.coordinateSystem,F=E.getModel("splitLine.lineStyle").getLineStyle(),w=E.get("splitLine.show"),D=F.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var B=z.start,y=0;B.time<=z.end.time;y++){C(B.formatedDate),0===y&&(B=p.getDateInfo(z.start.y+"-"+z.start.m));var A=B.date;A.setMonth(A.getMonth()+1),B=p.getDateInfo(A)}C(p.getNextNDay(z.end.time,1).formatedDate),w&&this._drawSplitline(q._getEdgesPoints(q._tlpoints,D,x),F,v),w&&this._drawSplitline(q._getEdgesPoints(q._blpoints,D,x),F,v)},_getEdgesPoints:function(p,q,o){var r=[p[0].slice(),p[p.length-1].slice()],l="horizontal"===o?0:1;return r[0][l]=r[0][l]-q/2,r[1][l]=r[1][l]+q/2,r},_drawSplitline:function(l,o,a){var p=new j.Polyline({z2:20,shape:{points:l},style:o});a.add(p)},_getLinePointsOfOneWeek:function(q,w,p){var y=q.coordinateSystem;w=y.getDateInfo(w);for(var l=[],x=0;x<7;x++){var v=y.getNextNDay(w.time,x),u=y.dataToRect([v.time],!1);l[2*v.day]=u.tl,l[2*v.day+1]=u["horizontal"===p?"bl":"tr"]}return l},_formatterLabel:function(a,i){return"string"==typeof a&&a?c.formatTplSimple(a,i):"function"==typeof a?a(i):i.nameMap},_yearTextPositionControl:function(q,r,p,u){q=q.slice();var l=["center","bottom"];"top"===p&&(q[1]-=u),"bottom"===p&&(q[1]+=u,l=["center","top"]),"left"===p&&(q[0]-=u),"right"===p&&(q[0]+=u,l=["center","top"]);var s=0;return"left"!==p&&"right"!==p||(s=Math.PI/2),{rotation:s,origin:q,style:{x:q[0],y:q[1],textAlign:l[0],textVerticalAlign:l[1]}}},_renderYearText:function(z,K,G,D){var B=z.getModel("yearLabel");if(B.get("show")){var A=z.getModel("yearLabel.textStyle"),F=B.get("margin"),w=B.get("position");w||(w="horizontal"!==G?"top":"left");var M=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],H=(M[0][0]+M[1][0])/2,L=(M[0][1]+M[1][1])/2,J="horizontal"===G?0:1,C={top:[H,M[J][1]],bottom:[H,M[1-J][1]],left:[M[1-J][0],L],right:[M[J][0],L]},I=K.start.y;+K.end.y>+K.start.y&&(I=I+"-"+K.end.y);var E=B.get("formatter"),q={start:K.start.y,end:K.end.y,nameMap:I},a=this._formatterLabel(E,q),n=new j.Text(d.merge({z2:30,style:{text:a,font:A.getFont(),fill:A.getTextColor()}},this._yearTextPositionControl(C[w],G,w,F)));D.add(n)}},_monthTextPositionControl:function(z,x,w,u,y){var q="left",p="top",A=z[0],v=z[1];return"horizontal"===w?(v+=y,x&&(q="center"),"start"===u&&(p="bottom")):(A+=y,x&&(p="middle"),"start"===u&&(q="right")),{x:A,y:v,textAlign:q,textVerticalAlign:p}},_renderMonthText:function(C,N,I){var F=C.getModel("monthLabel");if(F.get("show")){var D=C.getModel("monthLabel.textStyle"),H=F.get("nameMap"),B=F.get("margin"),P=F.get("position"),J=F.get("align"),O=[this._tlpoints,this._blpoints];d.isString(H)&&(H=m[H.toUpperCase()]||[]);var L="start"===P?0:1,E="horizontal"===N?0:1;B="start"===P?-B:B;for(var K="center"===J,G=0;G<O[L].length-1;G++){var A=O[L][G].slice(),q=this._firstDayOfMonth[G];if(K){var s=this._firstDayPoints[G];A[E]=(s[E]+O[0][G+1][E])/2}var R=F.get("formatter"),Q=H[+q.m-1],z={yyyy:q.y,yy:(q.y+"").slice(2),MM:q.m,M:+q.m,nameMap:Q},a=this._formatterLabel(R,z),n=new j.Text({z2:30,style:d.extend({text:a,font:D.getFont(),fill:D.getTextColor()},this._monthTextPositionControl(A,K,N,P,B))});I.add(n)}}},_weekTextPositionControl:function(B,y,x,v,z){var q="center",p="middle",C=B[0],w=B[1],A="start"===x;return"horizontal"===y?(C=C+v+(A?1:-1)*z[0]/2,q=A?"right":"left"):(w=w+v+(A?1:-1)*z[1]/2,p=A?"bottom":"top"),{x:C,y:w,textAlign:q,textVerticalAlign:p}},_renderWeekText:function(r,G,C,A){var w=r.getModel("dayLabel");if(w.get("show")){var q=r.coordinateSystem,I=r.getModel("dayLabel.textStyle"),D=w.get("position"),H=w.get("nameMap"),F=w.get("margin"),z=q.getFirstDayOfWeek();d.isString(H)&&(H=f[H.toUpperCase()]||[]);var E=q.getNextNDay(G.end.time,7-G.lweek).time,B=[q.getCellWidth(),q.getCellHeight()];F=b.parsePercent(F,B["horizontal"===C?0:1]),"start"===D&&(E=q.getNextNDay(G.start.time,-(7+G.fweek)).time,F=-F);for(var n=0;n<7;n++){var a=q.getNextNDay(E,n),l=q.dataToRect([a.time],!1).center,K=n;K=Math.abs((n+z)%7);var J=new j.Text({z2:30,style:d.extend({text:H[K],font:I.getFont(),fill:I.getTextColor()},this._weekTextPositionControl(l,C,D,F,B))});A.add(J)}}}})},function(d,f,c){function h(a,i){i.update="updateView",b.registerAction(i,function(k,j){var l={};return j.eachComponent({mainType:"geo",query:k},function(m){m[a](k.name);var e=m.coordinateSystem;g.each(e.regions,function(n){l[n.name]=m.isSelected(n.name)||!1})}),{selected:l,name:k.name}})}c(399),c(186),c(371),c(240);var b=c(2),g=c(1);h("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),h("select",{type:"geoSelect",event:"geoselected"}),h("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(b,c,a){var d=a(249);b.exports=a(2).extendComponentView({type:"geo",init:function(g,h){var f=new d(h,(!0));this._mapDraw=f,this.group.add(f.group)},render:function(h,j,g,k){if(!k||"geoToggleSelect"!==k.type||k.from!==this.uid){var f=this._mapDraw;h.get("show")?f.draw(h,j,g,this,k):this._mapDraw.group.removeAll(),this.group.silent=h.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}})},function(b,c,a){a(263),a(358),a(355)},function(b,c,a){var d=a(1);a(236),a(353),a(376),a(55),a(359),a(2).registerLayout(d.curry(a(425),"bar")),a(2).extendComponentView({type:"polar"})},function(b,c,a){a(416),a(417),a(375)},function(d,g,c){var j=c(40),b=c(1),h=c(3),f=["axisLine","axisLabel","axisTick","axisName"];d.exports=c(2).extendComponentView({type:"radar",render:function(k,l,a){var m=this.group;m.removeAll(),this._buildAxes(k),this._buildSplitLineAndArea(k)},_buildAxes:function(k){var l=k.coordinateSystem,a=l.getIndicatorAxes(),m=b.map(a,function(n){var e=new j(n.model,{position:[l.cx,l.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return e});b.each(m,function(e){b.each(f,e.add,e),this.group.add(e.getGroup())},this)},_buildSplitLineAndArea:function(G){function X(m,p,l){var r=l%p.length;return m[r]=m[r]||[],r}var R=G.coordinateSystem,O=R.getIndicatorAxes();if(O.length){var K=G.get("shape"),H=G.getModel("splitLine"),Q=G.getModel("splitArea"),F=H.getModel("lineStyle"),Z=Q.getModel("areaStyle"),U=H.get("show"),Y=Q.get("show"),W=F.get("color"),N=Z.get("color");W=b.isArray(W)?W:[W],N=b.isArray(N)?N:[N];var V=[],P=[];if("circle"===K){for(var E=O[0].getTicksCoords(),q=R.cx,B=R.cy,ab=0;ab<E.length;ab++){if(U){var aa=X(V,W,ab);V[aa].push(new h.Circle({shape:{cx:q,cy:B,r:E[ab]}}))}if(Y&&ab<E.length-1){var aa=X(P,N,ab);P[aa].push(new h.Ring({shape:{cx:q,cy:B,r0:E[ab],r:E[ab+1]}}))}}}else{for(var D=-1,k=b.map(O,function(i,l){var m=i.getTicksCoords();return D=Math.max(m.length-1,D),b.map(m,function(e){return R.coordToPoint(e,l)})}),o=[],ab=0;ab<=D;ab++){for(var z=[],a=0;a<O.length;a++){z.push(k[a][ab])}if(z[0]&&z.push(z[0].slice()),U){var aa=X(V,W,ab);V[aa].push(new h.Polyline({shape:{points:z}}))}if(Y&&o){var aa=X(P,N,ab-1);P[aa].push(new h.Polygon({shape:{points:z.concat(o)}}))}o=z.slice().reverse()}}var L=F.getLineStyle(),J=Z.getAreaStyle();b.each(P,function(i,l){this.group.add(h.mergePath(i,{style:b.defaults({stroke:"none",fill:N[l%N.length]},J),silent:!0}))},this),b.each(V,function(i,l){this.group.add(h.mergePath(i,{style:b.defaults({fill:"none",stroke:W[l%W.length]},L),silent:!0}))},this)}}})},function(b,c,a){a(236),a(356)},function(b,c,a){var d=a(2);d.registerPreprocessor(a(383)),a(385),a(384),a(378),a(379)},function(d,g,c){var j=c(381),b=c(1),h=c(5),f=j.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});b.mixin(f,h.dataFormatMixin),d.exports=f},function(z,L,H){function E(a,b){return w.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"))}function P(d,f,c,g){var b=G.makePath(d.get(f).replace(/^path:\/\//,""),A.clone(g||{}),new C(c[0],c[1],c[2],c[3]),"center");return b}function D(V,R,v,m,T,g){var b=R.get("color");if(T){T.setColor(b),v.add(T),g&&g.onUpdate(T)}else{var s=V.get("symbol");T=M.createSymbol(s,-1,-1,2,2,b),T.setStyle("strokeNoScale",!0),v.add(T),g&&g.onCreate(T)}var U=R.getItemStyle(["color","symbol","symbolSize"]);T.setStyle(U),m=A.merge({rectHover:!0,z2:100},m,!0);var S=V.get("symbolSize");S=S instanceof Array?S.slice():[+S,+S],S[0]/=2,S[1]/=2,m.scale=S;var x=V.get("symbolOffset");if(x){var y=m.position=m.position||[0,0];y[0]+=F.parsePercent(x[0],S[0]),y[1]+=F.parsePercent(x[1],S[1])}var d=V.get("symbolRotate");return m.rotation=(d||0)*Math.PI/180||0,T.attr(m),T.updateTransform(),T}function B(d,g,c,l,b){if(!d.dragging){var h=l.getModel("checkpointStyle"),f=c.dataToCoord(l.getData().get(["value"],g));b||!h.get("animation",!0)?d.attr({position:[f,0]}):(d.stopAnimation(!0),d.animateTo({position:[f,0]},h.get("animationDuration",!0),h.get("animationEasing",!0)))}}var A=H(1),G=H(3),w=H(12),N=H(382),I=H(380),M=H(24),K=H(18),C=H(11),J=H(19),F=H(4),q=H(7),j=q.encodeHTML,k=A.bind,Q=A.each,O=Math.PI;z.exports=N.extend({type:"timeline.slider",init:function(a,b){this.api=b,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(d,h,c,m){if(this.model=d,this.api=c,this.ecModel=h,this.group.removeAll(),d.get("show",!0)){var b=this._layout(d,c),l=this._createGroup("mainGroup"),g=this._createGroup("labelGroup"),f=this._axis=this._createAxis(b,d);d.formatTooltip=function(a){return j(f.scale.getLabel(a))},Q(["AxisLine","AxisTick","Control","CurrentPointer"],function(a){this["_render"+a](b,l,f,d)},this),this._renderAxisLabel(b,g,f,d),this._position(b,d)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(aa,al){var ah=aa.get("label.normal.position"),ao=aa.get("orient"),ae=E(aa,al);null==ah||"auto"===ah?ah="horizontal"===ao?ae.y+ae.height/2<al.getHeight()/2?"-":"+":ae.x+ae.width/2<al.getWidth()/2?"+":"-":isNaN(ah)&&(ah={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[ao][ah]);var ac={horizontal:"center",vertical:ah>=0||"+"===ah?"left":"right"},ab={horizontal:ah>=0||"+"===ah?"top":"bottom",vertical:"middle"},ag={horizontal:0,vertical:O/2},Z="vertical"===ao?ae.height:ae.width,an=aa.getModel("controlStyle"),ai=an.get("show"),am=ai?an.get("itemSize"):0,ak=ai?an.get("itemGap"):0,ad=am+ak,aj=aa.get("label.normal.rotate")||0;aj=aj*O/180;var af,Y,U,W,ap=an.get("position",!0),ai=an.get("show",!0),X=ai&&an.get("showPlayBtn",!0),n=ai&&an.get("showPrevBtn",!0),R=ai&&an.get("showNextBtn",!0),V=0,b=Z;return"left"===ap||"bottom"===ap?(X&&(af=[0,0],V+=ad),n&&(Y=[V,0],V+=ad),R&&(U=[b-am,0],b-=ad)):(X&&(af=[b-am,0],b-=ad),n&&(Y=[0,0],V+=ad),R&&(U=[b-am,0],b-=ad)),W=[V,b],aa.get("inverse")&&W.reverse(),{viewRect:ae,mainLength:Z,orient:ao,rotation:ag[ao],labelRotation:aj,labelPosOpt:ah,labelAlign:ac[ao],labelBaseline:ab[ao],playPosition:af,prevBtnPosition:Y,nextBtnPosition:U,axisExtent:W,controlSize:am,controlGap:ak}},_position:function(R,ac){function Z(a){var c=a.position;a.origin=[aa[0][0]-c[0],aa[1][0]-c[1]]}function W(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function af(f,h,d,l,c){f[l]+=d[l][c]-h[l][c]}var V=this._mainGroup,T=this._labelGroup,S=R.viewRect;if("vertical"===R.orient){var Y=J.create(),x=S.x,ae=S.y+S.height;J.translate(Y,Y,[-x,-ae]),J.rotate(Y,Y,-O/2),J.translate(Y,Y,[x,ae]),S=S.clone(),S.applyTransform(Y)}var aa=W(S),ad=W(V.getBoundingRect()),ab=W(T.getBoundingRect()),U=V.position,X=T.position;X[0]=U[0]=aa[0][0];var g=R.labelPosOpt;if(isNaN(g)){var b="+"===g?0:1;af(U,ad,aa,1,b),af(X,ab,aa,1,1-b)}else{var b=g>=0?0:1;af(U,ad,aa,1,b),X[1]=U[1]+g}V.attr("position",U),T.attr("position",X),V.rotation=T.rotation=R.rotation,Z(V),Z(T)},_createAxis:function(d,g){var c=g.getData(),l=g.get("axisType"),b=K.createScaleByModel(g,l),h=c.getDataExtent("value");b.setExtent(h[0],h[1]),this._customizeScale(b,c),b.niceTicks();var f=new I("value",b,d.axisExtent,l);return f.model=g,f},_customizeScale:function(a,b){a.getTicks=function(){return b.mapArray(["value"],function(c){return c})},a.getTicksLabels=function(){return A.map(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){var b=this["_"+a]=new G.Group;return this.group.add(b),b},_renderAxisLine:function(d,f,c,g){var b=c.getExtent();g.get("lineStyle.show")&&f.add(new G.Line({shape:{x1:b[0],y1:0,x2:b[1],y2:0},style:A.extend({lineCap:"round"},g.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(d,g,c,h){var b=h.getData(),f=c.scale.getTicks();Q(f,function(e,m){var l=c.dataToCoord(e),a=b.getItemModel(m),p=a.getModel("itemStyle.normal"),i=a.getModel("itemStyle.emphasis"),o={position:[l,0],onclick:k(this._changeTimeline,this,m)},n=D(a,p,g,o);G.setHoverStyle(n,i.getItemStyle()),a.get("tooltip")?(n.dataIndex=m,n.dataModel=h):n.dataIndex=n.dataModel=null},this)},_renderAxisLabel:function(m,g,f,d){var h=d.getModel("label.normal");if(h.get("show")){var c=d.getData(),b=f.scale.getTicks(),p=K.getFormattedLabels(f,h.get("formatter")),l=f.getLabelInterval();Q(b,function(v,e){if(!f.isLabelIgnored(e,l)){var o=c.getItemModel(e),u=o.getModel("label.normal.textStyle"),i=o.getModel("label.emphasis.textStyle"),t=f.dataToCoord(v),s=new G.Text({style:{text:p[e],textAlign:m.labelAlign,textVerticalAlign:m.labelBaseline,textFont:u.getFont(),fill:u.getTextColor()},position:[t,0],rotation:m.labelRotation-m.rotation,onclick:k(this._changeTimeline,this,e),silent:!1});g.add(s),G.setHoverStyle(s,i.getItemStyle())}},this)}},_renderControl:function(S,v,l,g){function b(e,c,s,r){if(e){var h={position:e,origin:[a/2,0],rotation:r?-T:0,rectHover:!0,style:R,onclick:s},n=P(g,c,m,h);v.add(n),G.setHoverStyle(n,y)}}var a=S.controlSize,T=S.rotation,R=g.getModel("controlStyle.normal").getItemStyle(),y=g.getModel("controlStyle.emphasis").getItemStyle(),m=[0,-a/2,a,a],x=g.getPlayState(),p=g.get("inverse",!0);b(S.nextBtnPosition,"controlStyle.nextIcon",k(this._changeTimeline,this,p?"-":"+")),b(S.prevBtnPosition,"controlStyle.prevIcon",k(this._changeTimeline,this,p?"+":"-")),b(S.playPosition,"controlStyle."+(x?"stopIcon":"playIcon"),k(this._handlePlayClick,this,!x),!0)},_renderCurrentPointer:function(p,g,f,b){var m=b.getData(),r=b.getCurrentIndex(),d=m.getItemModel(r).getModel("checkpointStyle"),o=this,h={onCreate:function(a){a.draggable=!0,a.drift=k(o._handlePointerDrag,o),a.ondragend=k(o._handlePointerDragend,o),B(a,r,f,b,!0)},onUpdate:function(a){B(a,r,f,b)}};this._currentPointer=D(d,d,this._mainGroup,{},this._currentPointer,h)},_handlePlayClick:function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(b,c,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(d,g){var c=this._toAxisCoord(d)[0],l=this._axis,b=F.asc(l.getExtent().slice());c>b[1]&&(c=b[1]),c<b[0]&&(c=b[0]),this._currentPointer.position[0]=c,this._currentPointer.dirty();var h=this._findNearestTick(c),f=this.model;(g||h!==f.getCurrentIndex()&&f.get("realtime"))&&this._changeTimeline(h)},_doPlayStop:function(){function a(){var b=this.model;this._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(k(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return G.applyTransform(a,b,!0)},_findNearestTick:function(d){var f,c=this.model.getData(),g=1/0,b=this._axis;return c.each(["value"],function(a,l){var h=b.dataToCoord(a),e=Math.abs(h-d);e<g&&(g=e,f=l)}),f},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}})},function(d,g,c){var j=c(1),b=c(33),h=c(18),f=function(k,l,a,m){b.call(this,k,l,a),this.type=m||"value",this._autoLabelInterval,this.model=null};f.prototype={constructor:f,getLabelInterval:function(){var k=this.model,l=k.getModel("label.normal"),a=l.get("interval");if(null!=a&&"auto"!=a){return a}var a=this._autoLabelInterval;return a||(a=this._autoLabelInterval=h.getAxisLabelInterval(j.map(this.scale.getTicks(),this.dataToCoord,this),h.getFormattedLabels(this,l.get("formatter")),l.getModel("textStyle").getFont(),"horizontal"===k.get("orient"))),a},isLabelIgnored:function(a){if("category"===this.type){var i=this.getLabelInterval();return"function"==typeof i&&!i(a,this.scale.getLabel(a))||a%(i+1)}}},j.inherits(f,b),d.exports=f},function(d,h,c){var k=c(13),b=c(14),j=c(1),g=c(5),f=k.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2000,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(l,m,a){this._data,this._names,this.mergeDefaultAndTheme(l,a),this._initData()},mergeOption:function(a){f.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var i=this._data.count();this.option.loop?a=(a%i+i)%i:(a>=i&&(a=i-1),a<0&&(a=0)),this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var p=this.option,r=p.data||[],o=p.axisType,v=this._names=[];if("category"===o){var q=[];j.each(r,function(s,u){var n,l=g.getDataItemValue(s);j.isObject(s)?(n=j.clone(s),n.value=u):n=u,q.push(n),j.isString(l)||null!=l&&!isNaN(l)||(l=""),v.push(l+"")}),r=q}var a={category:"ordinal",time:"time"}[o]||"number",m=this._data=new b([{name:"value",type:a}],this);m.initData(r,v)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType")){return this._names.slice()}}});d.exports=f},function(b,c,a){var d=a(65);b.exports=d.extend({type:"timeline"})},function(d,g,c){function j(k){var l=k.type,a={number:"value",time:"time"};if(a[l]&&(k.axisType=a[l],delete k.type),b(k),h(k,"controlPosition")){var m=k.controlStyle||(k.controlStyle={});h(m,"position")||(m.position=k.controlPosition),"none"!==m.position||h(m,"show")||(m.show=!1,delete m.position),delete k.controlPosition}f.each(k.data||[],function(e){f.isObject(e)&&!f.isArray(e)&&(!h(e,"value")&&h(e,"name")&&(e.value=e.name),b(e))})}function b(m){var p=m.itemStyle||(m.itemStyle={}),l=p.emphasis||(p.emphasis={}),q=m.label||m.label||{},k=q.normal||(q.normal={}),o={normal:1,emphasis:1};f.each(q,function(a,i){o[i]||h(k,i)||(k[i]=a)}),l.label&&!h(q,"emphasis")&&(q.emphasis=l.label,delete l.label)}function h(a,i){return a.hasOwnProperty(i)}var f=c(1);d.exports=function(a){var i=a&&a.timeline;f.isArray(i)||(i=i?[i]:[]),f.each(i,function(e){e&&j(e)})}},function(d,f,c){var g=c(2),b=c(1);g.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(h,j){var a=j.getComponent("timeline");return a&&null!=h.currentIndex&&(a.setCurrentIndex(h.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.setPlayState(!1)),j.resetOption("timeline"),b.defaults({currentIndex:a.option.currentIndex},h)}),g.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(h,j){var a=j.getComponent("timeline");a&&null!=h.playState&&a.setPlayState(h.playState)})},function(b,c,a){a(13).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(d,g,c){function j(k,l,a){this.model=k,this.ecModel=l,this.api=a,this._brushType,this._brushMode}var b=c(29),h=c(1);j.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}};var f=j.prototype;f.render=f.updateView=f.updateLayout=function(m,p,l){var q,k,o;p.eachComponent({mainType:"brush"},function(a){q=a.brushType,k=a.brushOption.brushMode||"single",o|=a.areas.length}),this._brushType=q,this._brushMode=k,h.each(m.get("type",!0),function(a){m.setIconStatus(a,("keep"===a?"multiple"===k:"clear"===a?o:a===q)?"emphasis":"normal")})},f.getIcons=function(){var k=this.model,l=k.get("icon",!0),a={};return h.each(k.get("type",!0),function(e){l[e]&&(a[e]=l[e])}),a},f.onclick=function(m,o,l){var o=this.api,p=this._brushType,k=this._brushMode;"clear"===l?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===l?p:p!==l&&l,brushMode:"keep"===l?"multiple"===k?"single":"multiple":k}})},b.register("brush",j),d.exports=j},function(b,c,a){a(392),a(393)},function(k,h,g){function d(q,w,p){if(p[0]===p[1]){return p.slice()}for(var y=200,l=(p[1]-p[0])/y,x=p[0],v=[],u=0;u<=y&&x<p[1];u++){v.push(x),x+=l}return v.push(p[1]),v}var j=g(253),c=g(1),b=g(4),m=[20,140],f=j.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(a,i){f.superApply(this,"optionUpdated",arguments),this.resetTargetSeries(),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){f.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse(),(null==a[0]||isNaN(a[0]))&&(a[0]=m[0]),(null==a[1]||isNaN(a[1]))&&(a[1]=m[1])},_resetRange:function(){var a=this.getExtent(),i=this.option.range;!i||i.auto?(a.auto=1,this.option.range=a):c.isArray(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],a[0]),i[1]=Math.min(i[1],a[1]))},completeVisualOption:function(){j.prototype.completeVisualOption.apply(this,arguments),c.each(this.stateList,function(a){var i=this.option.controller[a].symbolSize;i&&i[0]!==i[1]&&(i[0]=0)},this)},setSelected:function(a){this.option.range=a.slice(),this._resetRange()},getSelected:function(){var a=this.getExtent(),i=b.asc((this.get("range")||[]).slice());return i[0]>a[1]&&(i[0]=a[1]),i[1]>a[1]&&(i[1]=a[1]),i[0]<a[0]&&(i[0]=a[0]),i[1]<a[0]&&(i[1]=a[0]),i},getValueState:function(l){var n=this.option.range,a=this.getExtent();return(n[0]<=a[0]||n[0]<=l)&&(n[1]>=a[1]||l<=n[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var i=[];return this.eachTargetSeries(function(l){var o=[],e=l.getData();e.each(this.getDataDimension(e),function(p,n){a[0]<=p&&p<=a[1]&&o.push(n)},!0,this),i.push({seriesId:l.id,dataIndex:o})},this),i},getVisualMeta:function(B){function x(l,a){p.push({value:l,color:B(l,a)})}for(var v=d(this,"outOfRange",this.getExtent()),z=d(this,"inRange",this.option.range.slice()),p=[],n=0,C=0,q=z.length,A=v.length;C<A&&(!z.length||v[C]<=z[0]);C++){v[C]<z[n]&&x(v[C],"outOfRange")}for(var y=1;n<q;n++,y=0){y&&p.length&&x(z[n],"outOfRange"),x(z[n],"inRange")}for(var y=1;C<A;C++){(!z.length||z[z.length-1]<v[C])&&(y&&(p.length&&x(p[p.length-1].value,"outOfRange"),y=0),x(v[C],"outOfRange"))}var w=p.length;return{stops:p,outerColors:[w?p[0].color:"transparent",w?p[w-1].color:"transparent"]}}});k.exports=f},function(C,O,K){function H(b,c,a,d){return new B.Polygon({shape:{points:b},draggable:!!a,cursor:c,drift:a,onmousemove:function(e){I.stop(e.event)},ondragend:d})}function T(a,b){return 0===a?[[0,0],[b,0],[b,-b]]:[[0,0],[b,0],[b,b]]}function G(b,c,a,d){return b?[[0,-q(c,U(a,0))],[z,0],[0,q(c,U(d-a,0))]]:[[0,0],[5,-5],[5,5]]}function E(d,f,c){var g=R/2,b=d.get("hoverLinkDataSize");return b&&(g=A(b,f,c,!0)/2),g}function D(a){return !a.get("realtime")&&a.get("hoverLinkOnHandle")}var J=K(254),B=K(3),Q=K(1),L=K(4),P=K(56),N=K(100),F=K(255),M=K(5),I=K(21),A=L.linearMap,k=Q.each,q=Math.min,U=Math.max,R=12,z=6,j=J.extend({type:"visualMap.continuous",init:function(){j.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(b,c,a,d){d&&"selectDataRange"===d.type&&d.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var b=this.visualMapModel,c=this.group;this._orient=b.get("orient"),this._useHandle=b.get("calculable"),this._resetInterval(),this._renderBar(c);var a=b.get("text");this._renderEndsText(c,a,0),this._renderEndsText(c,a,1),this._updateView(!0),this.renderBackground(c),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(c)},_renderEndsText:function(S,v,p){if(v){var g=v[1-p];g=null!=g?g+"":"";var y=this.visualMapModel,f=y.get("textGap"),b=y.itemSize,V=this._shapes.barGroup,m=this._applyTransform([b[0]/2,0===p?-f:b[1]+f],V),x=this._applyTransform(0===p?"bottom":"top",V),u=this._orient,w=this.visualMapModel.textStyleModel;this.group.add(new B.Text({style:{x:m[0],y:m[1],textVerticalAlign:"horizontal"===u?"middle":x,textAlign:"horizontal"===u?x:"center",text:g,textFont:w.getFont(),fill:w.getTextColor()}}))}},_renderBar:function(v){var m=this.visualMapModel,f=this._shapes,n=m.itemSize,c=this._orient,b=this._useHandle,w=F.getItemAlign(m,this.api,n),d=f.barGroup=this._createBarGroup(w);d.add(f.outOfRange=H()),d.add(f.inRange=H(null,b?"move":null,Q.bind(this._dragHandle,this,"all",!1),Q.bind(this._dragHandle,this,"all",!0)));var p=m.textStyleModel.getTextRect("国"),g=U(p.width,p.height);b&&(f.handleThumbs=[],f.handleLabels=[],f.handleLabelPoints=[],this._createHandle(d,0,n,g,c,w),this._createHandle(d,1,n,g,c,w)),this._createIndicator(d,n,g,c),v.add(d)},_createHandle:function(S,x,n,c,a){var V=Q.bind(this._dragHandle,this,x,!1),m=Q.bind(this._dragHandle,this,x,!0),u=H(T(x,c),"move",V,m);u.position[0]=n[0],S.add(u);var y=this.visualMapModel.textStyleModel,w=new B.Text({draggable:!0,drift:V,onmousemove:function(d){I.stop(d.event)},ondragend:m,style:{x:0,y:0,text:"",textFont:y.getFont(),fill:y.getTextColor()}});this.group.add(w);var b=["horizontal"===a?c/2:1.5*c,"horizontal"===a?0===x?-(1.5*c):1.5*c:0===x?-c/2:c/2],v=this._shapes;v.handleThumbs[x]=u,v.handleLabelPoints[x]=b,v.handleLabels[x]=w},_createIndicator:function(p,h,g,n){var d=H([[0,0]],"move");d.position[0]=h[0],d.attr({invisible:!0,silent:!0}),p.add(d);var b=this.visualMapModel.textStyleModel,u=new B.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:b.getFont(),fill:b.getTextColor()}});this.group.add(u);var f=["horizontal"===n?g/2:z+3,0],m=this._shapes;m.indicator=d,m.indicatorLabel=u,m.indicatorLabelPoint=f},_dragHandle:function(d,f,c,g){if(this._useHandle){if(this._dragging=!f,!f){var b=this._applyTransform([c,g],this._shapes.barGroup,!0);this._updateInterval(d,b[1]),this._updateView()}f===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),f?!this._hovering&&this._clearHoverLinkToSeries():D(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[d],!1)}},_resetInterval:function(){var b=this.visualMapModel,c=this._dataInterval=b.getSelected(),a=b.getExtent(),d=[0,b.itemSize[1]];this._handleEnds=[A(c[0],a,d,!0),A(c[1],a,d,!0)]},_updateInterval:function(d,f){f=f||0;var c=this.visualMapModel,h=this._handleEnds,b=[0,c.itemSize[1]];P(f,h,b,d,0);var g=c.getExtent();this._dataInterval=[A(h[0],b,g,!0),A(h[1],b,g,!0)]},_updateView:function(d){var h=this.visualMapModel,c=h.getExtent(),m=this._shapes,b=[0,h.itemSize[1]],l=d?b:this._handleEnds,g=this._createBarVisual(this._dataInterval,c,l,"inRange"),f=this._createBarVisual(c,c,b,"outOfRange");m.inRange.setStyle({fill:g.barColor,opacity:g.opacity}).setShape("points",g.barPoints),m.outOfRange.setStyle({fill:f.barColor,opacity:f.opacity}).setShape("points",f.barPoints),this._updateHandle(l,g)},_createBarVisual:function(d,h,c,m){var b={forceState:m,convertOpacityToAlpha:!0},l=this._makeColorGradient(d,b),g=[this.getControllerVisual(d[0],"symbolSize",b),this.getControllerVisual(d[1],"symbolSize",b)],f=this._createBarPoints(c,g);return{barColor:new N(0,0,0,1,l),barPoints:f,handlesColor:[l[0].color,l[l.length-1].color]}},_makeColorGradient:function(d,g){var c=100,l=[],b=(d[1]-d[0])/c;l.push({color:this.getControllerVisual(d[0],"color",g),offset:0});for(var h=1;h<c;h++){var f=d[0]+b*h;if(f>d[1]){break}l.push({color:this.getControllerVisual(f,"color",g),offset:h/c})}return l.push({color:this.getControllerVisual(d[1],"color",g),offset:1}),l},_createBarPoints:function(b,c){var a=this.visualMapModel.itemSize;return[[a[0]-c[0],b[0]],[a[0],b[0]],[a[0],b[1]],[a[0]-c[1],b[1]]]},_createBarGroup:function(b){var c=this._orient,a=this.visualMapModel.get("inverse");return new B.Group("horizontal"!==c||a?"horizontal"===c&&a?{scale:"bottom"===b?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==c||a?{scale:"left"===b?[1,1]:[-1,1]}:{scale:"left"===b?[1,-1]:[-1,-1]}:{scale:"bottom"===b?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(d,f){if(this._useHandle){var c=this._shapes,h=this.visualMapModel,b=c.handleThumbs,g=c.handleLabels;k([0,1],function(i){var e=b[i];e.setStyle("fill",f.handlesColor[i]),e.position[1]=d[i];var a=B.applyTransform(c.handleLabelPoints[i],B.getTransform(e,this.group));g[i].setStyle({x:a[0],y:a[1],text:h.formatValueText(this._dataInterval[i]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===i?"bottom":"top":"left",c.barGroup)})},this)}},_showIndicator:function(ae,Y,S,u){var ad=this.visualMapModel,b=ad.getExtent(),af=ad.itemSize,w=[0,af[1]],aa=A(ae,b,w,!0),V=this._shapes,Z=V.indicator;if(Z){Z.position[1]=aa,Z.attr("invisible",!1),Z.setShape("points",G(!!S,u,aa,af[1]));var X={convertOpacityToAlpha:!0},o=this.getControllerVisual(ae,"color",X);Z.setStyle("fill",o);var W=B.applyTransform(V.indicatorLabelPoint,B.getTransform(Z,this.group)),v=V.indicatorLabel;v.attr("invisible",!1);var ab=this._applyTransform("left",V.barGroup),ac=this._orient;v.setStyle({text:(S?S:"")+ad.formatValueText(Y),textVerticalAlign:"horizontal"===ac?ab:"middle",textAlign:"horizontal"===ac?"center":ab,x:W[0],y:W[1]})}},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(c){if(a._hovering=!0,!a._dragging){var b=a.visualMapModel.itemSize,d=a._applyTransform([c.offsetX,c.offsetY],a._shapes.barGroup,!0,!0);d[1]=q(U(0,d[1]),b[1]),a._doHoverLinkToSeries(d[1],0<=d[0]&&d[0]<=b[0])}}).on("mouseout",function(){a._hovering=!1,!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(X,x){var s=this.visualMapModel,g=s.itemSize;if(s.option.hoverLink){var V=[0,g[1]],b=s.getExtent();X=q(U(V[0],X),V[1]);var r=E(s,b,V),W=[X-r,X+r],S=A(X,V,b,!0),v=[A(W[0],V,b,!0),A(W[1],V,b,!0)];W[0]<V[0]&&(v[0]=-(1/0)),W[1]>V[1]&&(v[1]=1/0),x&&(v[0]===-(1/0)?this._showIndicator(S,v[1],"< ",r):v[1]===1/0?this._showIndicator(S,v[0],"> ",r):this._showIndicator(S,S,"≈ ",r));var y=this._hoverLinkDataIndices,w=[];(x||D(s))&&(w=this._hoverLinkDataIndices=s.findTargetDataIndices(v));var p=M.compressBatches(y,w);this._dispatchHighDown("downplay",F.convertDataIndex(p[0])),this._dispatchHighDown("highlight",F.convertDataIndex(p[1]))}},_hoverLinkFromSeriesMouseOver:function(d){var g=d.target,c=this.visualMapModel;if(g&&null!=g.dataIndex){var l=this.ecModel.getSeriesByIndex(g.seriesIndex);if(c.isTargetSeries(l)){var b=l.getData(g.dataType),h=b.getDimension(c.getDataDimension(b)),f=b.get(h,g.dataIndex,!0);isNaN(f)||this._showIndicator(f,f)}}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",F.convertDataIndex(a)),a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},_applyTransform:function(d,f,c,g){var b=B.getTransform(f,g?null:this.group);return B[Q.isArray(d)?"applyTransform":"transformDirection"](d,b,c)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});C.exports=j},function(q,j,h){function f(c,l){var a=c.inverse;("vertical"===c.orient?!a:a)&&l.reverse()}var m=h(253),d=h(1),b=h(83),v=h(266),g=h(4).reformIntervals,p=m.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(c,l){p.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetTargetSeries(),this.resetExtent();var a=this._mode=this._determineMode();k[this._mode].call(this),this._resetSelected(c,l);var o=this.option.categories;this.resetVisual(function(i,n){"categories"===a?(i.mappingMethod="category",i.categories=d.clone(o)):(i.dataExtent=this.getExtent(),i.mappingMethod="piecewise",i.pieceList=d.map(this._pieceList,function(e){var e=d.clone(e);return"inRange"!==n&&(e.visual=null),e}))})},completeVisualOption:function(){function o(n,u,l){return n&&n[u]&&(d.isObject(n[u])?n[u].hasOwnProperty(l):n[u]===l)}var r=this.option,c={},s=b.listVisualTypes(),a=this.isCategory();d.each(r.pieces,function(e){d.each(s,function(i){e.hasOwnProperty(i)&&(c[i]=1)})}),d.each(c,function(l,t){var e=0;d.each(this.stateList,function(n){e|=o(r,n,t)||o(r.target,n,t)},this),!e&&d.each(this.stateList,function(i){(r[i]||(r[i]={}))[t]=v.get(t,"inRange"===i?"active":"inactive",a)})},this),m.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(o,u){var l=this.option,w=this._pieceList,c=(u?l:o).selected||{};if(l.selected=c,d.each(w,function(n,r){var a=this.getSelectedMapKey(n);c.hasOwnProperty(a)||(c[a]=!0)},this),"single"===l.selectedMode){var s=!1;d.each(w,function(n,r){var a=this.getSelectedMapKey(n);c[a]&&(s?c[a]=!1:s=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=d.clone(a)},getValueState:function(a){var c=b.findPieceIndex(a,this._pieceList);return null!=c&&this.option.selected[this.getSelectedMapKey(this._pieceList[c])]?"inRange":"outOfRange"},findTargetDataIndices:function(a){var c=[];return this.eachTargetSeries(function(l){var o=[],e=l.getData();e.each(this.getDataDimension(e),function(s,r){var n=b.findPieceIndex(s,this._pieceList);n===a&&o.push(r)},!0,this),c.push({seriesId:l.id,dataIndex:o})},this),c},getRepresentValue:function(c){var l;if(this.isCategory()){l=c.value}else{if(null!=c.value){l=c.value}else{var a=c.interval||[];l=a[0]===-(1/0)&&a[1]===1/0?0:(a[0]+a[1])/2}}return l},getVisualMeta:function(w){function z(l,n){var i=o.getRepresentValue({interval:l});n||(n=o.getValueState(i));var a=w(i,n);l[0]===-(1/0)?A[0]=a:l[1]===1/0?A[1]=a:u.push({value:l[0],color:a},{value:l[1],color:a})}if(!this.isCategory()){var u=[],A=[],o=this,y=this._pieceList.slice();if(y.length){var x=y[0].interval[0];x!==-(1/0)&&y.unshift({interval:[-(1/0),x]}),x=y[y.length-1].interval[1],x!==1/0&&y.push({interval:[x,1/0]})}else{y.push({interval:[-(1/0),1/0]})}var c=-(1/0);return d.each(y,function(e){var a=e.interval;a&&(a[0]>c&&z([c,a[0]],"outOfRange"),z(a.slice()),c=a[1])},this),{stops:u,outerColors:A}}}}),k={splitNumber:function(){var C=this.option,y=this._pieceList,w=C.precision,o=this.getExtent(),A=C.splitNumber;A=Math.max(parseInt(A,10),1),C.splitNumber=A;for(var l=(o[1]-o[0])/A;+l.toFixed(w)!==l&&w<5;){w++}C.precision=w,l=+l.toFixed(w);var D=0;C.minOpen&&y.push({index:D++,interval:[-(1/0),o[0]],close:[0,0]});for(var B=o[0],z=D+A;D<z;B+=l){var x=D===A-1?o[1]:B+l;y.push({index:D++,interval:[B,x],close:[1,1]})}C.maxOpen&&y.push({index:D++,interval:[o[1],1/0],close:[0,0]}),g(y),d.each(y,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;d.each(a.categories,function(c){this._pieceList.push({text:this.formatValueText(c,!0),value:c})},this),f(a,this._pieceList)},pieces:function(){var a=this.option,c=this._pieceList;d.each(a.pieces,function(D,w){d.isObject(D)||(D={value:D});var o={text:"",index:w};if(null!=D.label&&(o.text=D.label),D.hasOwnProperty("value")){var B=o.value=D.value;o.interval=[B,B],o.close=[1,1]}else{for(var E=o.interval=[],r=o.close=[0,0],C=[1,0,1],A=[-(1/0),1/0],x=[],z=0;z<2;z++){for(var y=[["gte","gt","min"],["lte","lt","max"]][z],e=0;e<3&&null==E[z];e++){E[z]=D[y[e]],r[z]=C[e],x[z]=2===e}null==E[z]&&(E[z]=A[z])}x[0]&&E[1]===1/0&&(r[0]=0),x[1]&&E[0]===-(1/0)&&(r[1]=0),E[0]===E[1]&&r[0]&&r[1]&&(o.value=E[0])}o.visual=b.retrieveVisuals(D),c.push(o)},this),f(a,c),g(c),d.each(c,function(n){var o=n.close,l=[["<","≤"][o[1]],[">","≥"][o[0]]];n.text=n.text||this.formatValueText(null!=n.value?n.value:n.interval,!1,l)},this)}};q.exports=p},function(m,h,g){var d=g(254),j=g(1),c=g(3),b=g(24),p=g(12),f=g(255),k=d.extend({type:"visualMap.piecewise",doRender:function(){function C(e){var l=e.piece,i=new c.Group;i.onclick=j.bind(this._onItemClick,this,l),this._enableHoverLink(i,e.indexInModelPieceList);var u=v.getRepresentValue(l);if(this._createItemSymbol(i,u,[0,0,w[0],w[1]]),o){var n=this.visualMapModel.getValueState(u);i.add(new c.Text({style:{x:"right"===A?-q:w[0]+q,y:w[1]/2,text:l.text,textVerticalAlign:"middle",textAlign:A,textFont:s,fill:B,opacity:"outOfRange"===n?0.5:1}}))}y.add(i)}var y=this.group;y.removeAll();var v=this.visualMapModel,q=v.get("textGap"),a=v.textStyleModel,s=a.getFont(),B=a.getTextColor(),A=this._getItemAlign(),w=v.itemSize,z=this._getViewData(),x=z.endsText,o=j.retrieve(v.get("showLabel",!0),!x);x&&this._renderEndsText(y,x[0],w,o,A),j.each(z.viewPieceList,C,this),x&&this._renderEndsText(y,x[1],w,o,A),p.box(v.get("orient"),y,v.get("itemGap")),this.renderBackground(y),this.positionGroup(y)},_enableHoverLink:function(l,n){function a(o){var e=this.visualMapModel;e.option.hoverLink&&this.api.dispatchAction({type:o,batch:f.convertDataIndex(e.findTargetDataIndices(n))})}l.on("mouseover",j.bind(a,this,"highlight")).on("mouseout",j.bind(a,this,"downplay"))},_getItemAlign:function(){var l=this.visualMapModel,n=l.option;if("vertical"===n.orient){return f.getItemAlign(l,this.api,l.itemSize)}var a=n.align;return a&&"auto"!==a||(a="left"),a},_renderEndsText:function(q,w,o,x,l){if(w){var v=new c.Group,u=this.visualMapModel.textStyleModel;v.add(new c.Text({style:{x:x?"right"===l?o[0]:0:o[0]/2,y:o[1]/2,textVerticalAlign:"middle",textAlign:x?l:"center",text:w,textFont:u.getFont(),fill:u.getTextColor()}})),q.add(v)}},_getViewData:function(){var l=this.visualMapModel,q=j.map(l.getPieceList(),function(i,n){return{piece:i,indexInModelPieceList:n}}),a=l.get("text"),s=l.get("orient"),r=l.get("inverse");return("horizontal"===s?r:!r)?q.reverse():a&&(a=a.slice().reverse()),{viewPieceList:q,endsText:a}},_createItemSymbol:function(l,n,a){l.add(b.createSymbol(this.getControllerVisual(n,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(n,"color")))},_onItemClick:function(l){var q=this.visualMapModel,a=q.option,s=j.clone(a.selected),r=q.getSelectedMapKey(l);"single"===a.selectedMode?(s[r]=!0,j.each(s,function(i,n){s[n]=n===r})):s[r]=!s[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}});m.exports=k},function(b,c,a){a(2).registerPreprocessor(a(256)),a(257),a(258),a(388),a(389),a(259)},function(b,c,a){a(2).registerPreprocessor(a(256)),a(257),a(258),a(390),a(391),a(259)},function(k,h,g){function d(l,n,a){this._model=l}function j(q,u,p,w){var l=p.calendarModel,v=p.seriesModel,s=l?l.coordinateSystem:v?v.coordinateSystem:null;return s===this?s[q](w):null}var c=g(12),b=g(4),m=g(1),f=86400000;d.prototype={constructor:d,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(p){p=b.parseDate(p);var q=p.getFullYear(),o=p.getMonth()+1;o=o<10?"0"+o:o;var r=p.getDate();r=r<10?"0"+r:r;var l=p.getDay();return l=Math.abs((l+7-this.getFirstDayOfWeek())%7),{y:q,m:o,d:r,day:l,time:p.getTime(),formatedDate:q+"-"+o+"-"+r,date:p}},getNextNDay:function(l,n){if(n=n||0,0===n){return this.getDateInfo(l)}var a=this.getDateInfo(l).time;return this.getDateInfo(a+f*n)},update:function(A,w){function s(a,i){return null!=a[i]&&"auto"!==a[i]}this._firstDayOfWeek=this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var p=this._rangeInfo.weeks||1,y=["width","height"],o=this._model.get("cellSize").slice(),q=this._model.getBoxLayoutParams(),z="horizontal"===this._orient?[p,7]:[7,p];m.each([0,1],function(a){s(o,a)&&(q[y[a]]=o[a]*z[a])});var x={width:w.getWidth(),height:w.getHeight()},v=this._rect=c.getLayoutRect(q,x);m.each([0,1],function(a){s(o,a)||(o[a]=v[y[a]]/z[a])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(q,u){m.isArray(q)&&(q=q[0]),null==u&&(u=!0);var p=this.getDateInfo(q),w=this._rangeInfo,l=p.formatedDate;if(u&&!(p.time>=w.start.time&&p.time<=w.end.time)){return[NaN,NaN]}var v=p.day,s=this._getRangeInfo([w.start.time,l]).weeks;return"vertical"===this._orient?[this._rect.x+v*this._sw+this._sw/2,this._rect.y+(s-1)*this._sh+this._sh/2]:[this._rect.x+(s-1)*this._sw+this._sw/2,this._rect.y+v*this._sh+this._sh/2]},pointToData:function(a){var i=this.pointToDate(a);return i&&i.time},dataToRect:function(l,n){var a=this.dataToPoint(l,n);return{contentShape:{x:a[0]-(this._sw-this._lineWidth)/2,y:a[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:a,tl:[a[0]-this._sw/2,a[1]-this._sh/2],tr:[a[0]+this._sw/2,a[1]-this._sh/2],br:[a[0]+this._sw/2,a[1]+this._sh/2],bl:[a[0]-this._sw/2,a[1]+this._sh/2]}},pointToDate:function(l){var o=Math.floor((l[0]-this._rect.x)/this._sw)+1,a=Math.floor((l[1]-this._rect.y)/this._sh)+1,p=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(a,o-1,p):this._getDateByWeeksAndDay(o,a-1,p)},convertToPixel:m.curry(j,"dataToPoint"),convertFromPixel:m.curry(j,"pointToData"),_initRangeOption:function(){var q=this._model.get("range"),r=q;if(m.isArray(r)&&1===r.length&&(r=r[0]),/^\d{4}$/.test(r)&&(q=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var p=this.getDateInfo(r),u=p.date;u.setMonth(u.getMonth()+1);var l=this.getNextNDay(u,-1);q=[p.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(q=[r,r]);var s=this._getRangeInfo(q);return s.start.time>s.end.time&&q.reverse(),q},_getRangeInfo:function(p){var q=this.getDateInfo(p[0]),o=this.getDateInfo(p[1]),r=Math.floor(o.time/f)-Math.floor(q.time/f)+1,l=Math.floor((r+q.day+6)/7);return{range:[q.formatedDate,o.formatedDate],start:q,end:o,allDay:r,weeks:l,fweek:q.day,lweek:o.day}},_getDateByWeeksAndDay:function(q,r,p){var u=this._getRangeInfo(p);if(q>u.weeks||0===q&&r<u.fweek||q===u.weeks&&r>u.lweek){return !1}var l=7*(q-1)-u.fweek+r,s=u.start.time+l*f;return this.getDateInfo(s)}},d.dimensions=d.prototype.dimensions,d.getDimensionsInfo=d.prototype.getDimensionsInfo,d.create=function(l,n){var a=[];return l.eachComponent("calendar",function(e){var i=new d(e,l,n);a.push(i),e.coordinateSystem=i}),l.eachSeries(function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=a[e.get("calendarIndex")||0])}),a},g(26).register("calendar",d),k.exports=d},function(d,h,c){function k(l,m){var a=l.cellSize;j.isArray(a)?1===a.length&&(a[1]=a[0]):a=l.cellSize=[a,a];var o=j.map([0,1],function(e){return g.sizeCalculable(m,e)&&(a[e]="auto"),null!=a[e]&&"auto"!==a[e]});g.mergeLayoutParam(l,m,{type:"box",ignoreSize:o})}var b=c(13),j=c(1),g=c(12),f=b.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",textStyle:{color:"#000"}},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,textStyle:{color:"#000"}},yearLabel:{show:!0,position:null,margin:30,formatter:null,textStyle:{color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}}},init:function(n,p,m,l){var q=g.getLayoutParams(n);f.superApply(this,"init",arguments),k(n,q)},mergeOption:function(a,i){f.superApply(this,"mergeOption",arguments),k(this.option,a)}});d.exports=f},function(d,f,c){function g(h){var j=h.getRect(),a=h.getRangeInfo();return{coordSys:{type:"calendar",x:j.x,y:j.y,width:j.width,height:j.height,cellWidth:h.getCellWidth(),cellHeight:h.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:b.bind(h.dataToPoint,h)}}}var b=c(1);d.exports=g},function(d,f,c){function h(a,i){return i=i||[0,0],g.map(["x","y"],function(j,m){var e=this.getAxis(j),l=i[m],k=a[m]/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(l-k)-e.dataToCoord(l+k))},this)}function b(a){var i=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:g.bind(a.dataToPoint,a),size:g.bind(h,a)}}}var g=c(1);d.exports=b},function(m,h,g){function d(q,r,o,s,l){f.call(this,q),this.map=r,this._nameCoordMap=b.createHashMap(),this.loadGeoJson(o,s,l)}function j(s,v,q,x){var l=q.geoModel,w=q.seriesModel,u=l?l.coordinateSystem:w?w.coordinateSystem||(w.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return u===this?u[s](x):null}var c=g(262),b=g(1),p=g(11),f=g(260),k=[g(401),g(402),g(400)];d.prototype={constructor:d,type:"geo",dimensions:["lng","lat"],containCoord:function(l){for(var n=this.regions,a=0;a<n.length;a++){if(n[a].contain(l)){return !0}}return !1},loadGeoJson:function(y,v,r){try{this.regions=y?c(y):[]}catch(o){throw"Invalid geoJson format\n"+o.message}v=v||{},r=r||{};for(var x=this.regions,z=b.createHashMap(),q=0;q<x.length;q++){var w=x[q].name;w=r.hasOwnProperty(w)?r[w]:w,x[q].name=w,z.set(w,x[q]),this.addGeoCoord(w,x[q].center);var u=v[w];u&&x[q].transformTo(u.left,u.top,u.width,u.height)}this._regionsMap=z,this._rect=null,b.each(k,function(a){a(this)},this)},transformTo:function(s,v,q,x){var l=this.getBoundingRect();l=l.clone(),l.y=-l.y-l.height;var w=this._viewTransform;w.transform=l.calculateTransform(new p(s,v,q,x)),w.decomposeTransform();var u=w.scale;u[1]=-u[1],w.updateTransform(),this._updateTransform()},getRegion:function(a){return this._regionsMap.get(a)},getRegionByCoord:function(l){for(var n=this.regions,a=0;a<n.length;a++){if(n[a].contain(l)){return n[a]}}},addGeoCoord:function(a,i){this._nameCoordMap.set(a,i)},getGeoCoord:function(a){return this._nameCoordMap.get(a)},getBoundingRect:function(){if(this._rect){return this._rect}for(var l,o=this.regions,a=0;a<o.length;a++){var q=o[a].getBoundingRect();l=l||q.clone(),l.union(q)}return this._rect=l||new p(0,0,0,0)},dataToPoints:function(a){var i=[];return a.mapArray(["lng","lat"],function(l,e){return i[0]=l,i[1]=e,this.dataToPoint(i)},this)},dataToPoint:function(a){if("string"==typeof a&&(a=this.getGeoCoord(a)),a){return f.prototype.dataToPoint.call(this,a)}},convertToPixel:b.curry(j,"dataToPoint"),convertFromPixel:b.curry(j,"pointToData")},b.mixin(d,f),m.exports=d},function(m,h,g){var d=g(5),j=g(13),c=g(10),b=g(1),p=g(78),f=g(186),k=j.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){j.prototype.init.apply(this,arguments),d.defaultEmphasis(a.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var a=this.option,i=this;a.regions=f.getFilledRegions(a.regions,a.map),this._optionModelMap=b.reduce(a.regions||[],function(l,e){return e.name&&l.set(e.name,new c(e,i)),l},b.createHashMap()),this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:0.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:0.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap.get(a)||new c(null,this,this.ecModel)},getFormattedLabel:function(r,s){var q=this.getRegionModel(r),v=q.get("label."+s+".formatter"),l={name:r};if("function"==typeof v){return l.status=s,v(l)}if("string"==typeof v){var u=l.seriesName;return v.replace("{a}",null!=u?u:"")}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});b.mixin(k,p),m.exports=k},function(d,f,c){var g=c(1),b={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};d.exports=function(a){g.each(a.regions,function(j){var k=b[j.name];if(k){var h=j.center;h[0]=k[0],h[1]=k[1]}})}},function(k,h,g){for(var d=g(261),j=g(1),c=[126,25],b=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],m=0;m<b.length;m++){for(var f=0;f<b[m].length;f++){b[m][f][0]/=10.5,b[m][f][1]/=-14,b[m][f][0]+=c[0],b[m][f][1]+=c[1]}}k.exports=function(a){"china"===a.map&&a.regions.push(new d("南海诸岛",j.map(b,function(e){return{type:"polygon",exterior:e}}),c))}},function(d,f,c){var g=c(1),b={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};d.exports=function(a){g.each(a.regions,function(j){var k=b[j.name];if(k){var h=j.center;h[0]+=k[0]/10.5,h[1]+=-k[1]/14}})}},function(d,f,c){function h(a,i){return i=i||[0,0],g.map([0,1],function(j){var m=i[j],e=a[j]/2,l=[],k=[];return l[j]=m-e,k[j]=m+e,l[1-j]=k[1-j]=i[1-j],Math.abs(this.dataToPoint(l)[j]-this.dataToPoint(k)[j])},this)}function b(a){var i=a.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:g.bind(a.dataToPoint,a),size:g.bind(h,a)}}}var g=c(1);d.exports=b},function(q,j,h){function f(a,c){return c.type||(c.data?"category":"value")}var m=h(13),d=h(1),b=h(31),v=h(59),g=h(4),p=m.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return b([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(c){var l=this.activeIntervals=d.clone(c);if(l){for(var a=l.length-1;a>=0;a--){g.asc(l[a])}}},getActiveState:function(c){var l=this.activeIntervals;if(!l.length){return"normal"}if(null==c){return"inactive"}for(var a=0,o=l.length;a<o;a++){if(l[a][0]<=c&&c<=l[a][1]){return"active"}}return"inactive"}}),k={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:!0,z:10};d.merge(p.prototype,h(42)),v("parallel",p,f,k),q.exports=p},function(z,L,H){function E(b,c,a){this._axesMap=w.createHashMap(),this._axesLayout={},this.dimensions=b.dimensions,this._rect,this._model=b,this._init(b,c,a)}function P(a,b){return F(q(a,b[0]),b[1])}function D(b,c){var a=c.layoutLength/(c.axisCount-1);return{position:a*b,axisNameAvailableWidth:a,axisLabelShow:!0}}function B(y,m){var h,f,v=m.layoutLength,d=m.axisExpandWidth,b=m.axisCount,R=m.axisCollapseWidth,g=m.winInnerIndices,x=R,p=!1;return y<g[0]?(h=y*R,f=R):y<=g[1]?(h=m.axisExpandWindow0Pos+y*d-m.axisExpandWindow[0],x=d,p=!0):(h=v-(b-1-y)*R,f=R),{position:h,axisNameAvailableWidth:x,axisLabelShow:p,nameTruncateMaxWidth:f}}var A=H(12),G=H(18),w=H(1),N=H(406),I=H(3),M=H(19),K=H(4),C=H(56),J=w.each,F=Math.min,q=Math.max,j=Math.floor,k=Math.ceil,Q=K.round,O=Math.PI;E.prototype={type:"parallel",constructor:E,_init:function(d,f,c){var g=d.dimensions,b=d.parallelAxisIndex;J(g,function(e,a){var p=b[a],m=f.getComponent("parallelAxis",p),l=this._axesMap.set(e,new N(e,G.createScaleByModel(m),[0,0],m.get("type"),p)),h="category"===l.type;l.onBand=h&&m.get("boundaryGap"),l.inverse=m.get("inverse"),m.axis=l,l.model=m,l.coordinateSystem=m.coordinateSystem=this},this)},update:function(a,b){this._updateAxesFromSeries(this._model,a)},containPoint:function(d){var g=this._makeLayoutInfo(),c=g.axisBase,l=g.layoutBase,b=g.pixelDimIndex,h=d[1-b],f=d[b];return h>=c&&h<=c+g.axisLength&&f>=l&&f<=l+g.layoutLength},_updateAxesFromSeries:function(a,b){b.eachSeries(function(c){if(a.contains(c,b)){var d=c.getData();J(this.dimensions,function(f){var g=this._axesMap.get(f);g.scale.unionExtentFromData(d,f),G.niceScaleExtent(g.scale,g.model)},this)}},this)},resize:function(a,b){this._rect=A.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var y,ac=this._model,Y=this._rect,V=["x","y"],U=["width","height"],S=ac.get("layout"),R="horizontal"===S?0:1,X=Y[U[R]],x=[0,X],ae=this.dimensions.length,Z=P(ac.get("axisExpandWidth"),x),ad=P(ac.get("axisExpandCount")||0,[0,ae]),ab=ac.get("axisExpandable")&&ae>3&&ae>ad&&ad>1&&Z>0&&X>0,T=ac.get("axisExpandWindow");if(T){y=P(T[1]-T[0],x),T[1]=T[0]+y}else{y=P(Z*(ad-1),x);var aa=ac.get("axisExpandCenter")||j(ae/2);T=[Z*aa-y/2],T[1]=T[0]+y}var W=(X-y)/(ae-ad);W<3&&(W=0);var a=[j(Q(T[0]/Z,1))+1,k(Q(T[1]/Z,1))-1],af=W/Z*T[0];return{layout:S,pixelDimIndex:R,layoutBase:Y[V[R]],layoutLength:X,axisBase:Y[V[1-R]],axisLength:Y[U[1-R]],axisExpandable:ab,axisExpandWidth:Z,axisCollapseWidth:W,axisExpandWindow:T,axisCount:ae,winInnerIndices:a,axisExpandWindow0Pos:af}},_layoutAxes:function(){var d=this._rect,f=this._axesMap,c=this.dimensions,g=this._makeLayoutInfo(),b=g.layout;f.each(function(h){var l=[0,g.axisLength],a=h.inverse?1:0;h.setExtent(l[a],l[1-a])}),J(c,function(m,o){var a=(g.axisExpandable?B:D)(o,g),e={horizontal:{x:a.position,y:g.axisLength},vertical:{x:0,y:a.position}},v={horizontal:O/2,vertical:0},n=[e[b].x+d.x,e[b].y+d.y],r=v[b],t=M.create();M.rotate(t,t,r),M.translate(t,t,n),this._axesLayout[m]={position:n,rotation:r,transform:t,axisNameAvailableWidth:a.axisNameAvailableWidth,axisLabelShow:a.axisLabelShow,nameTruncateMaxWidth:a.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:f.get(m).getLabelInterval()}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(a),b)},eachActiveState:function(W,R,v){for(var m=this.dimensions,U=this._axesMap,g=this.hasAxisBrushed(),b=0,X=W.count();b<X;b++){var p,V=W.getValues(m,b);if(g){p="active";for(var T=0,x=m.length;T<x;T++){var S=m[T],y=U.get(S).model.getActiveState(V[T],T);if("inactive"===y){p="inactive";break}}}else{p="normal"}R.call(v,p,b)}},hasAxisBrushed:function(){for(var d=this.dimensions,f=this._axesMap,c=!1,g=0,b=d.length;g<b;g++){"normal"!==f.get(d[g]).model.getActiveState()&&(c=!0)}return c},axisCoordToPoint:function(b,c){var a=this._axesLayout[c];return I.applyTransform([b,0],a.transform)},getAxisLayout:function(a){return w.clone(this._axesLayout[a])},getSlidedAxisExpandWindow:function(U){var x=this._makeLayoutInfo(),p=x.pixelDimIndex,g=x.axisExpandWindow.slice(),S=g[1]-g[0],f=[0,x.axisExpandWidth*(x.axisCount-1)];if(!this.containPoint(U)){return{behavior:"none",axisExpandWindow:g}}var b,V=U[p]-x.layoutBase-x.axisExpandWindow0Pos,m="slide",T=x.axisCollapseWidth,R=this._model.get("axisExpandSlideTriggerArea"),v=null!=R[0];if(T){v&&T&&V<S*R[0]?(m="jump",b=V-S*R[2]):v&&T&&V>S*(1-R[0])?(m="jump",b=V-S*(1-R[2])):(b=V-S*R[1])>=0&&(b=V-S*(1-R[1]))<=0&&(b=0),b*=x.axisExpandWidth/T,b?C(b,g,f,"all"):m="none"}else{var S=g[1]-g[0],y=f[1]*V/S;g=[q(0,y-S/2)],g[1]=F(f[1],g[0]+S),g[0]=g[1]-S}return{axisExpandWindow:g,behavior:m}}},z.exports=E},function(d,f,c){var h=c(1),b=c(33),g=function(j,k,a,m,l){b.call(this,j,k,a),this.type=m||"value",this.axisIndex=l};g.prototype={constructor:g,model:null},h.inherits(g,b),d.exports=g},function(d,f,c){var g=c(1),b=c(13);c(404),b.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){b.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var h=this.option;a&&g.merge(h,a,!0),this._initDimensions()},contains:function(h,j){var a=h.get("parallelIndex");return null!=a&&j.getComponent("parallel",a)===this},setAxisExpand:function(a){g.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(h){a.hasOwnProperty(h)&&(this.option[h]=a[h])},this)},_initDimensions:function(){var h=this.dimensions=[],j=this.parallelAxisIndex=[],a=g.filter(this.dependentModels.parallelAxis,function(e){return e.get("parallelIndex")===this.componentIndex});g.each(a,function(e){h.push("dim"+e.get("dim")),j.push(e.componentIndex)})}})},function(d,g,c){function j(a){if(!a.parallel){var i=!1;h.each(a.series,function(e){e&&"parallel"===e.type&&(i=!0)}),i&&(a.parallel=[{}])}}function b(a){var i=f.normalizeToArray(a.parallelAxis);h.each(i,function(l){if(h.isObject(l)){var k=l.parallelIndex||0,m=f.normalizeToArray(a.parallel)[k];m&&m.parallelAxisDefault&&h.merge(l,m.parallelAxisDefault,!1)}})}var h=c(1),f=c(5);d.exports=function(a){j(a),b(a)}},function(d,f,c){function h(a,i){i=i||[0,360],g.call(this,"angle",a,i),this.type="category"}var b=c(1),g=c(33);h.prototype={constructor:h,pointToData:function(a,i){return this.polar.pointToData(a,i)["radius"===this.dim?0:1]},dataToAngle:g.prototype.dataToCoord,angleToData:g.prototype.coordToData},b.inherits(h,g),d.exports=h},function(k,h,g){function d(a,i){return i.type||(i.data?"category":"value")}var j=g(1),c=g(13),b=g(59),m=c.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});j.merge(m.prototype,g(42));var f={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};b("angle",m,d,f.angle),b("radius",m,d,f.radius)},function(d,f,c){var h=c(413),b=c(409),g=function(a){this.name=a||"",this.cx=0,this.cy=0,this._radiusAxis=new h,this._angleAxis=new b,this._radiusAxis.polar=this._angleAxis.polar=this};g.prototype={type:"polar",axisPointerEnabled:!0,constructor:g,dimensions:["radius","angle"],model:null,containPoint:function(a){var i=this.pointToCoord(a);return this._radiusAxis.contain(i[0])&&this._angleAxis.contain(i[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(j){var k=[],a=this._angleAxis,l=this._radiusAxis;return a.scale.type===j&&k.push(a),l.scale.type===j&&k.push(l),k},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var i=this._angleAxis;return a===i?this._radiusAxis:i},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){var i=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[i],otherAxes:[this.getOtherAxis(i)]}},dataToPoints:function(a){return a.mapArray(this.dimensions,function(i,j){return this.dataToPoint([i,j])},!0,this)},dataToPoint:function(a,i){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],i),this._angleAxis.dataToAngle(a[1],i)])},pointToData:function(j,k){var a=this.pointToCoord(j);return[this._radiusAxis.radiusToData(a[0],k),this._angleAxis.angleToData(a[1],k)]},pointToCoord:function(y){var v=y[0]-this.cx,q=y[1]-this.cy,m=this.getAngleAxis(),w=m.getExtent(),k=Math.min(w[0],w[1]),j=Math.max(w[0],w[1]);m.inverse?k=j-360:j=k+360;var z=Math.sqrt(v*v+q*q);v/=z,q/=z;for(var p=Math.atan2(-q,v)/Math.PI*180,x=p<k?1:-1;p<k||p>j;){p+=360*x}return[z,p]},coordToPoint:function(l){var m=l[0],k=l[1]/180*Math.PI,o=Math.cos(k)*m+this.cx,j=-Math.sin(k)*m+this.cy;return[o,j]}},d.exports=g},function(b,c,a){a(410),a(2).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(f){var g,d=this.ecModel;return d.eachComponent(f,function(e){e.getCoordSysModel()===this&&(g=e)},this),g},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(d,f,c){function h(a,i){g.call(this,"radius",a,i),this.type="category"}var b=c(1),g=c(33);h.prototype={constructor:h,pointToData:function(a,i){return this.polar.pointToData(a,i)["radius"===this.dim?0:1]},dataToRadius:g.prototype.dataToCoord,radiusToData:g.prototype.coordToData},b.inherits(h,g),d.exports=h},function(d,f,c){function h(a,i){return g.map(["Radius","Angle"],function(k,t){var j=this["get"+k+"Axis"](),q=i[t],p=a[t]/2,m="dataTo"+k,e="category"===j.type?j.getBandWidth():Math.abs(j[m](q-p)-j[m](q+p));return"Angle"===k&&(e=e*Math.PI/180),e},this)}function b(l){var m=l.getRadiusAxis(),k=l.getAngleAxis(),j=m.getExtent();return j[0]>j[1]&&j.reverse(),{coordSys:{type:"polar",cx:l.cx,cy:l.cy,r:j[1],r0:j[0]},api:{coord:g.bind(function(q){var e=m.dataToRadius(q[0]),p=k.dataToAngle(q[1]),i=l.coordToPoint([e,p]);return i.push(e,p*Math.PI/180),i}),size:g.bind(h,l)}}}var g=c(1);d.exports=b},function(d,f,c){function h(j,k,a){g.call(this,j,k,a),this.type="value",this.angle=0,this.name="",this.model}var b=c(1),g=c(33);b.inherits(h,g),d.exports=h},function(k,h,g){function d(l,n,a){this._model=l,this.dimensions=[],this._indicatorAxes=j.map(l.getIndicatorModels(),function(p,q){var o="indicator_"+q,r=new c(o,new b);return r.name=p.get("name"),r.model=p,p.axis=r,this.dimensions.push(o),r},this),this.resize(l,a),this.cx,this.cy,this.r,this.startAngle}var j=g(1),c=g(415),b=g(43),m=g(4),f=g(18);d.prototype.getIndicatorAxes=function(){return this._indicatorAxes},d.prototype.dataToPoint=function(l,n){var a=this._indicatorAxes[n];return this.coordToPoint(a.dataToCoord(l),n)},d.prototype.coordToPoint=function(q,r){var p=this._indicatorAxes[r],u=p.angle,l=this.cx+q*Math.cos(u),s=this.cy-q*Math.sin(u);return[l,s]},d.prototype.pointToData=function(C){var y=C[0]-this.cx,x=C[1]-this.cy,v=Math.sqrt(y*y+x*x);y/=v,x/=v;for(var A,q=Math.atan2(-x,y),p=1/0,D=-1,w=0;w<this._indicatorAxes.length;w++){var B=this._indicatorAxes[w],z=Math.abs(q-B.angle);z<p&&(A=B,D=w,p=z)}return[D,+(A&&A.coodToData(v))]},d.prototype.resize=function(l,q){var a=l.get("center"),u=q.getWidth(),s=q.getHeight(),p=Math.min(u,s)/2;this.cx=m.parsePercent(a[0],u),this.cy=m.parsePercent(a[1],s),this.startAngle=l.get("startAngle")*Math.PI/180,this.r=m.parsePercent(l.get("radius"),p),j.each(this._indicatorAxes,function(o,r){o.setExtent(0,this.r);var n=this.startAngle+r*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),o.angle=n},this)},d.prototype.update=function(l,q){function a(o){var r=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),n=o/r;return 2===n?n=5:n*=2,n*r}var u=this._indicatorAxes,s=this._model;j.each(u,function(e){e.scale.setExtent(1/0,-(1/0))}),l.eachSeriesByType("radar",function(t,n){if("radar"===t.get("coordinateSystem")&&l.getComponent("radar",t.get("radarIndex"))===s){var o=t.getData();j.each(u,function(e){e.scale.unionExtentFromData(o,e.dim)})}},this);var p=s.get("splitNumber");j.each(u,function(F,A){var v=f.getScaleExtent(F.scale,F.model);f.niceScaleExtent(F.scale,F.model);var D=F.model,r=F.scale,E=D.getMin(),C=D.getMax(),x=r.getInterval();if(null!=E&&null!=C){r.setInterval((C-E)/p)}else{if(null!=E){var B;do{B=E+x*p,r.setExtent(+E,B),r.setInterval(x),x=a(x)}while(B<v[1]&&isFinite(B)&&isFinite(v[1]))}else{if(null!=C){var z;do{z=C-x*p,r.setExtent(z,+C),r.setInterval(x),x=a(x)}while(z>v[0]&&isFinite(z)&&isFinite(v[0]))}else{var i=r.getTicks().length-1;i>p&&(x=a(x));var y=Math.round((v[0]+v[1])/2/x)*x,w=Math.round(p/2);r.setExtent(m.round(y-w*x),m.round(y+(p-w)*x)),r.setInterval(x)}}}})},d.dimensions=[],d.create=function(l,n){var a=[];return l.eachComponent("radar",function(e){var i=new d(e,l,n);a.push(i),e.coordinateSystem=i}),l.eachSeriesByType("radar",function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=a[e.get("radarIndex")||0])}),a},g(26).register("radar",d),k.exports=d},function(m,h,g){function d(a,i){return p.defaults({show:i},a)}var j=g(96),c=j.valueAxis,b=g(10),p=g(1),f=g(42),k=g(2).extendComponentModel({type:"radar",optionUpdated:function(){var C=this.get("boundaryGap"),x=this.get("splitNumber"),s=this.get("scale"),r=this.get("axisLine"),A=this.get("axisTick"),q=this.get("axisLabel"),B=this.get("name.textStyle"),z=this.get("name.show"),v=this.get("name.formatter"),y=this.get("nameGap"),w=this.get("triggerEvent"),l=p.map(this.get("indicator")||[],function(i){if(null!=i.max&&i.max>0&&!i.min?i.min=0:null!=i.min&&i.min<0&&!i.max&&(i.max=0),i=p.merge(p.clone(i),{boundaryGap:C,splitNumber:x,scale:s,axisLine:r,axisTick:A,axisLabel:q,name:i.text,nameLocation:"end",nameGap:y,nameTextStyle:B,triggerEvent:w},!1),z||(i.name=""),"string"==typeof v){var e=i.name;i.name=v.replace("{value}",null!=e?e:"")}else{"function"==typeof v&&(i.name=v(i.name,i))}var a=p.extend(new b(i,null,this.ecModel),f);return a.mainType="radar",a.componentIndex=this.componentIndex,a},this);this.getIndicatorModels=function(){return l}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:p.merge({lineStyle:{color:"#bbb"}},c.axisLine),axisLabel:d(c.axisLabel,!1),axisTick:d(c.axisTick,!1),splitLine:d(c.splitLine,!0),splitArea:d(c.splitArea,!0),indicator:[]}});m.exports=k},function(k,h,g){function d(a,i){return i.type||(i.data?"category":"value")}var j=g(13),c=g(59),b=g(1),m=j.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),f={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:0.2}}};b.merge(m.prototype,g(42)),c("single",m,d,f),k.exports=m},function(d,g,c){function j(k,l,a){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(k,l,a),this.model=k}var b=c(420),h=c(18),f=c(12);j.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:j,_init:function(k,o,a){var p=this.dimension,m=new b(p,h.createScaleByModel(k),[0,0],k.get("type"),k.get("position")),l="category"===m.type;m.onBand=l&&k.get("boundaryGap"),m.inverse=k.get("inverse"),m.orient=k.get("orient"),k.axis=m,m.model=k,m.coordinateSystem=this,this._axis=m},update:function(a,i){a.eachSeries(function(l){if(l.coordinateSystem===this){var m=l.getData(),k=this.dimension;this._axis.scale.unionExtentFromData(m,l.coordDimToDataDim(k)),h.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(a,i){this._rect=f.getLayoutRect({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:i.getWidth(),height:i.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var m=this._rect,o=this._axis,l=o.isHorizontal(),p=l?[0,m.width]:[0,m.height],k=o.reverse?1:0;o.setExtent(p[k],p[1-k]),this._updateAxisTransform(o,l?m.x:m.y)},_updateAxisTransform:function(m,o){var l=m.getExtent(),p=l[0]+l[1],k=m.isHorizontal();m.toGlobalCoord=k?function(a){return a+o}:function(a){return p-a+o},m.toLocalCoord=k?function(a){return a-o}:function(a){return p-a+o}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(k){var l=this.getRect(),a=this.getAxis(),m=a.orient;return"horizontal"===m?a.contain(a.toLocalCoord(k[0]))&&k[1]>=l.y&&k[1]<=l.y+l.height:a.contain(a.toLocalCoord(k[1]))&&k[0]>=l.y&&k[0]<=l.y+l.height},pointToData:function(a){var i=this.getAxis();return[i.coordToData(i.toLocalCoord(a["horizontal"===i.orient?0:1]))]},dataToPoint:function(m){var o=this.getAxis(),l=this.getRect(),p=[],k="horizontal"===o.orient?0:1;return m instanceof Array&&(m=m[0]),p[k]=o.toGlobalCoord(o.dataToCoord(+m)),p[1-k]=0===k?l.y+l.height/2:l.x+l.width/2,p}},d.exports=j},function(d,f,c){var h=c(1),b=c(33),g=function(j,k,a,m,l){b.call(this,j,k,a),this.type=m||"value",this.position=l||"bottom",this.orient=null,this._labelInterval=null};g.prototype={constructor:g,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},pointToData:function(a,i){return this.coordinateSystem.pointToData(a,i)[0]},toGlobalCoord:null,toLocalCoord:null},h.inherits(g,b),d.exports=g},function(d,f,c){function h(l,m){var k=this.getAxis(),o=m instanceof Array?m[0]:m,j=(l instanceof Array?l[0]:l)/2;return"category"===k.type?k.getBandWidth():Math.abs(k.dataToCoord(o-j)-k.dataToCoord(o+j))}function b(a){var i=a.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:g.bind(a.dataToPoint,a),size:g.bind(h,a)}}}var g=c(1);d.exports=b},function(d,f,c){function g(h,j){var a=[];return h.eachComponent("singleAxis",function(k,i){var e=new b(k,h,j);e.name="single_"+i,e.resize(k,j),k.coordinateSystem=e,a.push(e)}),h.eachSeries(function(l){if("singleAxis"===l.get("coordinateSystem")){var k=h.queryComponents({mainType:"singleAxis",index:l.get("singleAxisIndex"),id:l.get("singleAxisId")})[0];l.coordinateSystem=k&&k.coordinateSystem}}),a}var b=c(419);c(26).register("single",{create:g,dimensions:b.prototype.dimensions})},function(m,h,g){function d(a){return"_EC_"+a}function j(a,i){this.id=null==a?"":a,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==i?-1:i}function c(l,n,a){this.node1=l,this.node2=n,this.dataIndex=null==a?-1:a}var b=g(1),p=function(a){this._directed=a||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},f=p.prototype;f.type="graph",f.isDirected=function(){return this._directed},f.addNode=function(l,n){l=l||""+n;var a=this._nodesMap;if(!a[d(l)]){var q=new j(l,n);return q.hostGraph=this,this.nodes.push(q),a[d(l)]=q,q}},f.getNodeByIndex=function(a){var i=this.data.getRawIndex(a);return this.nodes[i]},f.getNodeById=function(a){return this._nodesMap[d(a)]},f.addEdge=function(q,x,o){var w=this._nodesMap,v=this._edgesMap;if("number"==typeof q&&(q=this.nodes[q]),"number"==typeof x&&(x=this.nodes[x]),q instanceof j||(q=w[d(q)]),x instanceof j||(x=w[d(x)]),q&&x){var a=q.id+"-"+x.id;if(!v[a]){var n=new c(q,x,o);return n.hostGraph=this,this._directed&&(q.outEdges.push(n),x.inEdges.push(n)),q.edges.push(n),q!==x&&x.edges.push(n),this.edges.push(n),v[a]=n,n}}},f.getEdgeByIndex=function(a){var i=this.edgeData.getRawIndex(a);return this.edges[i]},f.getEdge=function(l,n){l instanceof j&&(l=l.id),n instanceof j&&(n=n.id);var a=this._edgesMap;return this._directed?a[l+"-"+n]:a[l+"-"+n]||a[n+"-"+l]},f.eachNode=function(q,r){for(var o=this.nodes,s=o.length,l=0;l<s;l++){o[l].dataIndex>=0&&q.call(r,o[l],l)}},f.eachEdge=function(q,r){for(var o=this.edges,s=o.length,l=0;l<s;l++){o[l].dataIndex>=0&&o[l].node1.dataIndex>=0&&o[l].node2.dataIndex>=0&&q.call(r,o[l],l)}},f.breadthFirstTraverse=function(B,x,v,n){if(x instanceof j||(x=this._nodesMap[d(x)]),x){for(var a="out"===v?"outEdges":"in"===v?"inEdges":"edges",C=0;C<this.nodes.length;C++){this.nodes[C].__visited=!1}if(!B.call(n,x,null)){for(var q=[x];q.length;){for(var A=q.shift(),z=A[a],C=0;C<z.length;C++){var w=z[C],y=w.node1===A?w.node2:w.node1;if(!y.__visited){if(B.call(n,y,A)){return}q.push(y),y.__visited=!0}}}}}},f.update=function(){for(var r=this.data,s=this.edgeData,q=this.nodes,v=this.edges,l=0,u=q.length;l<u;l++){q[l].dataIndex=-1}for(var l=0,u=r.count();l<u;l++){q[r.getRawIndex(l)].dataIndex=l}s.filterSelf(function(e){var a=v[s.getRawIndex(e)];return a.node1.dataIndex>=0&&a.node2.dataIndex>=0});for(var l=0,u=v.length;l<u;l++){v[l].dataIndex=-1}for(var l=0,u=s.count();l<u;l++){v[s.getRawIndex(l)].dataIndex=l}},f.clone=function(){for(var q=new p(this._directed),r=this.nodes,o=this.edges,s=0;s<r.length;s++){q.addNode(r[s].id,r[s].dataIndex)}for(var s=0;s<o.length;s++){var l=o[s];q.addEdge(l.node1.id,l.node2.id,l.dataIndex)}return q},j.prototype={constructor:j,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(l){if(!(this.dataIndex<0)){var n=this.hostGraph,a=n.data.getItemModel(this.dataIndex);return a.getModel(l)}}},c.prototype.getModel=function(l){if(!(this.dataIndex<0)){var n=this.hostGraph,a=n.edgeData.getItemModel(this.dataIndex);return a.getModel(l)}};var k=function(a,i){return{getValue:function(e){var l=this[a][i];return l.get(l.getDimension(e||"value"),this.dataIndex)},setVisual:function(e,l){this.dataIndex>=0&&this[a][i].setItemVisual(this.dataIndex,e,l)},getVisual:function(e,l){return this[a][i].getItemVisual(this.dataIndex,e,l)},setLayout:function(e,l){this.dataIndex>=0&&this[a][i].setItemLayout(this.dataIndex,e,l)},getLayout:function(){return this[a][i].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][i].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][i].getRawIndex(this.dataIndex)}}};b.mixin(j,k("hostGraph","data")),b.mixin(c,k("hostGraph","edgeData")),p.Node=j,p.Edge=c,m.exports=p},function(q,j,h){function f(a,c){this.root,this.data,this._nodes=[],this.hostModel=a,this.levelModels=d.map(c||[],function(i){return new b(i,a,a.ecModel)})}function m(c,l){var a=l.children;c.parentNode!==l&&(a.push(c),c.parentNode=l)}var d=h(1),b=h(10),v=h(14),g=h(264),p=h(25),k=function(a,c){this.name=a||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=c};k.prototype={constructor:k,isRemoved:function(){return this.dataIndex<0},eachNode:function(o,x,l){"function"==typeof o&&(l=x,x=o,o=null),o=o||{},d.isString(o)&&(o={order:o});var y,c=o.order||"preorder",w=this[o.attr||"children"];"preorder"===c&&(y=x.call(l,this));for(var u=0;!y&&u<w.length;u++){w[u].eachNode(o,x,l)}"postorder"===c&&x.call(l,this)},updateDepthAndHeight:function(c){var l=0;this.depth=c;for(var a=0;a<this.children.length;a++){var o=this.children[a];o.updateDepthAndHeight(c+1),o.height>l&&(l=o.height)}this.height=l+1},getNodeById:function(o){if(this.getId()===o){return this}for(var r=0,l=this.children,s=l.length;r<s;r++){var c=l[r].getNodeById(o);if(c){return c}}},contains:function(o){if(o===this){return !0}for(var r=0,l=this.children,s=l.length;r<s;r++){var c=l[r].contains(o);if(c){return c}}},getAncestors:function(c){for(var l=[],a=c?this:this.parentNode;a;){l.push(a),a=a.parentNode}return l.reverse(),l},getValue:function(a){var c=this.hostTree.data;return c.get(c.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,c){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,c)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(c){if(!(this.dataIndex<0)){var l=this.hostTree,a=l.data.getItemModel(this.dataIndex),o=this.getLevelModel();return a.getModel(c,(o||l.hostModel).getModel(c))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(a,c){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,c)},getVisual:function(a,c){return this.hostTree.data.getItemVisual(this.dataIndex,a,c)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},f.prototype={constructor:f,type:"tree",eachNode:function(c,l,a){this.root.eachNode(c,l,a)},getNodeByDataIndex:function(a){var c=this.data.getRawIndex(a);return this._nodes[c]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var c=this.data,l=this._nodes,a=0,o=l.length;a<o;a++){l[a].dataIndex=-1}for(var a=0,o=c.count();a<o;a++){l[c.getRawIndex(a)].dataIndex=a}},clearLayouts:function(){this.data.clearItemLayouts()}},f.createTree=function(x,u,l){function a(z,B){var y=z.value;s=Math.max(s,d.isArray(y)?y.length:1),w.push(z);var C=new k(z.name,n);B?m(C,B):n.root=C,n._nodes.push(C);var A=z.children;if(A){for(var r=0;r<A.length;r++){a(A[r],C)}}}var n=new f(u,l),w=[],s=1;a(x),n.root.updateDepthAndHeight(0);var c=p([{name:"value"}],w,{dimCount:s}),o=new v(c,u);return o.initData(w),g({mainData:o,struct:n,structAttr:"tree"}),n.update(),n},q.exports=f},function(k,h,g){function d(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function j(a){return a.dim}function c(n,q,l){var s=l.getWidth(),a=l.getHeight(),v={},p={},r=b(m.filter(q.getSeriesByType(n),function(e){return !q.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type}));q.eachSeriesByType(n,function(F){if("polar"===F.coordinateSystem.type){var P=F.getData(),L=F.coordinateSystem,H=L.getAngleAxis(),G=L.getBaseAxis(),O=d(F),J=r[j(G)][O],N=J.offset,K=J.width,E=L.getOtherAxis(G),A=F.get("center")||["50%","50%"],C=f(A[0],s),R=f(A[1],a),Q=F.get("barMinHeight")||0,D=F.get("barMinAngle")||0,u=E.getExtent()[0],z=E.model.get("max"),B=E.model.get("min"),o=L.dataToPoints(P);v[O]=v[O]||[],p[O]=p[O]||[],P.each(E.dim,function(W,I){if(!isNaN(W)){v[O][I]||(v[O][I]={p:u,n:u},p[O][I]={p:u,n:u});var U,x,X,M,V=W>=0?"p":"n",S=L.pointToCoord(o[I]),i=p[O][I][V];if("radius"===E.dim){U=i,x=S[0],X=(-S[1]+N)*Math.PI/180,M=X+K*Math.PI/180,Math.abs(x)<Q&&(x=U+(x<0?-1:1)*Q),p[O][I][V]=x}else{U=S[0]+N,x=U+K,null!=z&&(W=Math.min(W,z)),null!=B&&(W=Math.max(W,B));var T=H.dataToAngle(W);Math.abs(T-i)<D&&(T=i-(W<0?-1:1)*D),X=-i*Math.PI/180,M=-T*Math.PI/180;var w=H.getExtent(),e=T;e===w[0]&&W>0?e=w[1]:e===w[1]&&W<0&&(e=w[0]),p[O][I][V]=e}P.setItemLayout(I,{cx:C,cy:R,r0:U,r:x,startAngle:X,endAngle:M})}},!0)}},this)}function b(l,n){var a={};m.each(l,function(G,B){var w=G.getData(),i=G.coordinateSystem,H=i.getBaseAxis(),F=H.getExtent(),D="category"===H.type?H.getBandWidth():Math.abs(F[1]-F[0])/w.count(),y=a[j(H)]||{bandWidth:D,remainedWidth:D,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},C=y.stacks;a[j(H)]=y;var A=d(G);C[A]||y.autoWidthCount++,C[A]=C[A]||{width:0,maxWidth:0};var q=f(G.get("barWidth"),D),z=f(G.get("barMaxWidth"),D),x=G.get("barGap"),E=G.get("barCategoryGap");q&&!C[A].width&&(q=Math.min(y.remainedWidth,q),C[A].width=q,y.remainedWidth-=q),z&&(C[A].maxWidth=z),null!=x&&(y.gap=x),null!=E&&(y.categoryGap=E)});var p={};return m.each(a,function(D,y){p[y]={};var v=D.stacks,s=D.bandWidth,B=f(D.categoryGap,s),o=f(D.gap,1),C=D.remainedWidth,A=D.autoWidthCount,w=(C-B)/(A+(A-1)*o);w=Math.max(w,0),m.each(v,function(u,E){var r=u.maxWidth;r&&r<w&&(r=Math.min(r,C),u.width&&(r=Math.min(r,u.width)),C-=r,u.width=r,A--)}),w=(C-B)/(A+(A-1)*o),w=Math.max(w,0);var z,x=0;m.each(v,function(i,r){i.width||(i.width=w),z=i,x+=i.width*(1+o)}),z&&(x-=z.width*o);var q=-x/2;m.each(v,function(r,e){p[y][e]=p[y][e]||{offset:q,width:r.width},q+=r.width*(1+o)})}),p}var m=g(1),f=g(4).parsePercent;k.exports=c},function(d,f,c){function g(){var h,j=[],a={};return{add:function(e,m,l,k,i){return b.isString(k)&&(i=k,k=0),!a[e.id]&&(a[e.id]=1,j.push({el:e,target:m,time:l,delay:k,easing:i}),!0)},done:function(i){return h=i,this},start:function(){function m(){e--,e||(j.length=0,a={},h&&h())}for(var e=j.length,l=0,k=j.length;l<k;l++){var i=j[l];i.el.animateTo(i.target,i.time,i.delay,i.easing,m)}return this}}}var b=c(1);d.exports={createWrap:g}}])});(function(a,b){if(typeof define==="function"&&define.amd){define(["exports","echarts"],b)}else{if(typeof exports==="object"&&typeof exports.nodeName!=="string"){b(exports,require("echarts"))}else{b({},a.echarts)}}}(this,function(a,d){var b=function(h){if(typeof console!=="undefined"){console&&console.error&&console.error(h)}};if(!d){b("ECharts is not Loaded");return}var c="#eee";var g=function(){return{axisLine:{lineStyle:{color:c}},axisTick:{lineStyle:{color:c}},axisLabel:{textStyle:{color:c}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:c}}}};var f=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"];var e={color:f,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:c},crossStyle:{color:c}}},legend:{textStyle:{color:c}},textStyle:{color:c},title:{textStyle:{color:c}},toolbox:{iconStyle:{normal:{borderColor:c}}},dataZoom:{textStyle:{color:c}},timeline:{lineStyle:{color:c},itemStyle:{normal:{color:f[1]}},label:{normal:{textStyle:{color:c}}},controlStyle:{normal:{color:c,borderColor:c}}},timeAxis:g(),logAxis:g(),valueAxis:g(),categoryAxis:g(),line:{symbol:"circle"},graph:{color:f},gauge:{title:{textStyle:{color:c}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};e.categoryAxis.splitLine.show=false;d.registerTheme("dark",e)}));(function(a,b){if(typeof define==="function"&&define.amd){define(["exports","echarts"],b)}else{if(typeof exports==="object"&&typeof exports.nodeName!=="string"){b(exports,require("echarts"))}else{b({},a.echarts)}}}(this,function(a,c){var b=function(f){if(typeof console!=="undefined"){console&&console.error&&console.error(f)}};if(!c){b("ECharts is not Loaded");return}var e=["#C1232B","#27727B","#FCCE10","#E87C25","#B5C334","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"];var d={color:e,title:{textStyle:{fontWeight:"normal",color:"#27727B"}},visualMap:{color:["#C1232B","#FCCE10"]},toolbox:{iconStyle:{normal:{borderColor:e[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:false}},valueAxis:{axisLine:{show:false},splitArea:{show:false},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B",borderColor:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},candlestick:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},graph:{color:e},map:{label:{normal:{textStyle:{color:"#C1232B"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{areaColor:"#ddd",borderColor:"#eee"},emphasis:{areaColor:"#fe994e"}}},gauge:{axisLine:{lineStyle:{color:[[0.2,"#B5C334"],[0.8,"#27727B"],[1,"#C1232B"]]}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},title:{offsetCenter:[0,-20]}}};c.registerTheme("infographic",d)}));(function(a,b){if(typeof define==="function"&&define.amd){define(["exports","echarts"],b)}else{if(typeof exports==="object"&&typeof exports.nodeName!=="string"){b(exports,require("echarts"))}else{b({},a.echarts)}}}(this,function(a,c){var b=function(f){if(typeof console!=="undefined"){console&&console.error&&console.error(f)}};if(!c){b("ECharts is not Loaded");return}var e=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"];var d={color:e,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:e[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:true,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:e},gauge:{axisLine:{lineStyle:{color:[[0.2,"#2ec7c9"],[0.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};c.registerTheme("macarons",d)}));(function(a,b){if(typeof define==="function"&&define.amd){define(["exports","echarts"],b)}else{if(typeof exports==="object"&&typeof exports.nodeName!=="string"){b(exports,require("echarts"))}else{b({},a.echarts)}}}(this,function(a,c){var b=function(f){if(typeof console!=="undefined"){console&&console.error&&console.error(f)}};if(!c){b("ECharts is not Loaded");return}var e=["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"];var d={color:e,title:{textStyle:{fontWeight:"normal"}},visualMap:{color:["#1790cf","#a2d4e6"]},toolbox:{iconStyle:{normal:{borderColor:"#06467c"}}},tooltip:{backgroundColor:"rgba(0,0,0,0.6)"},dataZoom:{dataBackgroundColor:"#dedede",fillerColor:"rgba(154,217,247,0.2)",handleColor:"#005eaa"},timeline:{lineStyle:{color:"#005eaa"},controlStyle:{normal:{color:"#005eaa",borderColor:"#005eaa"}}},candlestick:{itemStyle:{normal:{color:"#c12e34",color0:"#2b821d",lineStyle:{width:1,color:"#c12e34",color0:"#2b821d"}}}},graph:{color:e},map:{label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"#c12e34"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#e6b600"}}},gauge:{axisLine:{show:true,lineStyle:{color:[[0.2,"#2b821d"],[0.8,"#005eaa"],[1,"#c12e34"]],width:5}},axisTick:{splitNumber:10,length:8,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{length:12,lineStyle:{color:"auto"}},pointer:{length:"90%",width:3,color:"auto"},title:{textStyle:{color:"#333"}},detail:{textStyle:{color:"auto"}}}};c.registerTheme("shine",d)}));(function(a,b){if(typeof define==="function"&&define.amd){define(["exports","echarts"],b)}else{if(typeof exports==="object"&&typeof exports.nodeName!=="string"){b(exports,require("echarts"))}else{b({},a.echarts)}}}(this,function(a,c){var b=function(e){if(typeof console!=="undefined"){console&&console.error&&console.error(e)}};if(!c){b("ECharts is not Loaded");return}var d=["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"];c.registerTheme("vintage",{color:d,backgroundColor:"#fef8ef",graph:{color:d}})}));var APP=APP||{};APP.chart={chart:{},initChart:function(h){var g=APP.chart;var f=JE.select(".je-content");f.innerHTML="";var d=['<div class="mui-card">','<div class="mui-card-header">',"{text}",'<a class="mui-card-link mui-icon mui-icon-search" data-chart="{code}" style="display:<tpl if="!search">none</tpl>"></a>',"</div>",'<div class="mui-card-content mui-scroll-wrapper">','<div id="__{code}" class="mui-card-content-inner chart mui-scroll" style="{style}" data-width="{width}">',"</div>","</div>",'<div class="mui-card-footer" style="padding:0px 15px;">','<div class="mui-input-row mui-input-range" style="width:100%;">','<input type="range" value="0" min="0" max="100" id="__{code}_range" data-chart="{code}">',"</div>","</div>","</div>"].join("");JE.get("title").innerHTML=h.text;var e=Ext.clone(Ext.isString(h.info)?JE.decode(h.info):h.info),b=[];if(JE.isEmpty(e)){return}Ext.each(e,function(i){i.style="height:"+(i.height>0?i.height:300)+"px;";i.search=i.search=="1";f.innerHTML+=JE.toXT(d,i);b.push(i.code)});var c="";var a=new Ext.util.DelayedTask(function(){var k=APP.chart.chart[c];if(!k){return}var j=k.dom.parentNode.offsetWidth;var i=JE.toNum(k.dom.getAttribute("data-width"));var m=JE.toNum(JE.get("__"+c+"_range").value);var l=(i>0?i:j)+m*10;k.dom.style.width=i>0||m>0?l+"px":"";k.chart.resize()});mui(".mui-input-range").on("input","input[type=range]",function(){c=this.getAttribute("data-chart");a.delay(500)});mui(".mui-card-header").on("tap",".mui-icon-search",function(){JE.msg("查询")});mui(".mui-scroll-wrapper").scroll({scrollY:false,scrollX:true,startX:0,startY:0,indicators:true,deceleration:0.0006});JE.ajax({url:"/je/dynaAction!load.action",params:{tableCode:"JE_CORE_CHARTS",whereSql:"and CHARTS_CODE in ('"+b.join("','")+"')",limit:-1},callback:function(j,i){Ext.each(i.rows,function(l){var m=l.CHARTS_CODE;var k=g.buildChartCfg(l);g.chart[m]={bean:l,cfg:k,code:m,dom:JE.get("__"+m)};g.load(m)})}})},buildChartCfg:function(b){var c=APP.chart;var d={code:b.CHARTS_CODE,type:b.CHARTS_TYPECODE,dsCfg:Ext.decode(Ext.value(b.CHARTS_DSCONFIG,"{}")),dsIds:b.CHARTS_DSIDS,ds:{}};d.dsCfg.params=Ext.decode(Ext.value(d.dsCfg.params,"[]"));d.otherCfg=Ext.value(d.dsCfg.otherCfg,{});var a=Ext.decode(Ext.value(b.CHARTS_ATTRCONFIG,"{}"));d=Ext.apply(d,a);d.chart=Ext.value(d.chart,{});d.chart=Ext.apply(d.chart,c.chartAttrs);return d},load:function(a,b){JE.ajax({url:"je/appAction!doChartLoad.action",params:{chartCode:a},callback:function(d,c){APP.chart.chart[a].data=c;APP.chart.drawChart(a)}})},drawChart:function(chartCode){var me=APP.chart;var chart=me.chart[chartCode];if(!chart){return}if(chart.timeFn){clearInterval(chart.timeFn)}var cfg=chart.cfg,dom=chart.dom;var theme=Ext.value(cfg.echart.theme,"macarons");var echart=echarts.init(dom,theme);chart.chart=echart;var option=me.buildEChartCfg(dom,cfg);if(cfg.echart&&JE.toBool(cfg.echart.enableIDIT)&&JE.isNotEmpty(cfg.echart.iditOption)){var fn=JE.eval(cfg.echart.iditOption,"EChart自定义配置项方法有错误，请检查！");if(JE.isNotEmpty(fn)){option=fn(option,panel,cfg)}}echart.setOption(option);if(cfg.type=="AngularGauge"){cfg.realTime=JE.toBool(cfg.chart.realTime);cfg.times=Number(Ext.value(cfg.chart.times,10000));var fn=function(){var data=cfg.ds[cfg.dsCfg.data.split(".")[0]].load(cfg.params);if(Ext.isArray(data)){data=data[0]}Ext.each(option.series[0].data,function(d){d.value=data[d.name]});echart.setOption(option)};fn();if(cfg.realTime&&cfg.times>0){echart.timeFn=setInterval(fn,cfg.times)}}},buildEChartCfg:function(b,a){var d=APP.chart;a.typeInfo=d.getEChartTypes(a);a.dataInfo=d.buildEChartData(b,a);var c=d.buildOption(b,a);c=d.buildEChartEnd(b,a,c);return c},buildOption:function(b,j){var o=APP.chart,k=j.chart,l=Ext.value(j.echart,{}),q=j.typeInfo,d=j.dataInfo;var h={animation:JE.toBool(Ext.value(k.animation,"1")),title:{show:false,left:Ext.value(l.titleX,"center"),top:Ext.value(l.titleY,"top"),text:k.caption,subtext:k.subcaption,textStyle:JE.toObj(l.textStyle),subtextStyle:JE.toObj(l.subtextStyle)},legend:{show:JE.toBool(k.showlegend),left:Ext.value(l.legendX,"center"),top:Ext.value(l.legendY,"bottum"),orient:Ext.value(l.legendOrient,"horizontal"),data:d.legends},tooltip:{show:JE.toBool(k.showtooltip),trigger:Ext.value(l.tooltipTrigger,"item"),axisPointer:{type:Ext.value(l.tooltipPointer,"none")},formatter:q.tooltip.formatter},series:d.series};if(["vintage","dark"].indexOf(l.theme)!=-1&&JE.isEmpty(k.bgcolor)){delete h.backgroundColor}if(!h.title.show){delete h.title}var c=Ext.get(b);if(c){if(JE.isNotEmpty(k.bgimage)){h.grid.backgroundColor="rgba(0,0,0,0)";h.grid.borderWidth=0;c.setStyle({backgroundImage:"url("+k.bgimage+")",backgroundRepeat:k.bgimagedisplaymode=="tile"?"repeat":"no-repeat",backgroundPositionX:Ext.value(k.bgimagehalign,"left"),backgroundPositionY:Ext.value(k.bgimagevalign,"top")})}else{c.setStyle({backgroundImage:"none"})}}if(j.type=="AngularGauge"){h.gauge={startAngle:JE.toNum(Ext.value(k.gaugestartangle,225)),endAngle:JE.toNum(Ext.value(k.gaugeendangle,-45)),max:JE.toNum(Ext.value(k.upperLimit,100)),min:JE.toNum(Ext.value(k.lowerLimit,0)),splitNumber:JE.toNum(Ext.value(k.majorTMNumber,11))-1,axisTick:{show:!JE.toBool(l.gaugeHideAT),splitNumber:JE.toNum(Ext.value(k.minorTMNumber,5)),length:JE.toNum(Ext.value(l.gaugeAT,8))},precision:2,splitLine:{show:!JE.toBool(l.gaugeHideSL),length:JE.toNum(Ext.value(l.gaugeSL,30))},title:{show:!JE.toBool(l.gaugeHideTitle)},axisLabel:{show:JE.toBool(k.showtickvalues),formatter:Ext.value(k.numbersuffix,"")+"{value}"+Ext.value(k.numberprefix,"")},detail:{show:JE.toBool(k.showvalue),formatter:Ext.value(k.numbersuffix,"")+"{value}"+Ext.value(k.numberprefix,"")},radius:"75%",axisLine:{lineStyle:{color:[],width:"10%"}},pointer:{length:"80%",width:8,color:"auto"}};var p=h.gauge.max,g=h.gauge.min,a=[];Ext.each(Ext.decode(Ext.value(k.colorrange,"[]")),function(r){a.push([(JE.toNum(r.maxvalue)-g)/(p-g),r.code])});h.gauge.axisLine.lineStyle.color=a;if(a.length>0){h.gauge.axisTick.lineStyle={color:"#eee",width:1,type:"solid"};h.gauge.splitLine.lineStyle={color:"#eee",width:2,type:"solid"};h.gauge.axisLabel.textStyle={color:"#333"}}var i=Ext.value(q.serieInfo.radius[1],k.gaugeouterradius);if(JE.isNotEmpty(i)){h.gauge.radius=Ext.isNumeric(i)?JE.toNum(i):i}var n=Ext.value(q.serieInfo.radius[0],k.gaugeinnerradius);if(JE.isNotEmpty(n)){h.gauge.axisLine.lineStyle.width=Ext.isNumeric(n)?JE.toNum(n):n}}var e=JE.decode(Ext.value(l.mark,"[]"));var f={},m={max:"最大值",min:"最小值",average:"平均值"};Ext.each(e,function(s){if(JE.isNotEmpty(s.serie)){f[s.serie]=Ext.value(f[s.serie],{markLine:{data:[]},markPoint:{data:[]}});var r="markPoint";if(s.type=="line"){r="markLine"}var t={type:s.value,name:Ext.value(s.name,m[s.value])};if(JE.isNotEmpty(s.color)){t.itemStyle={normal:{color:s.color}}}f[s.serie][r].data.push(t)}});Ext.each(h.series,function(r){if(f[r.name]){Ext.apply(r,f[r.name])}});return h},buildEChartData:function(k,f){var q=APP.chart,e=f.typeInfo,l=Ext.value(e.serieInfo,{}),g=e.itemStyle,o=[],p=[],i=[],c=0,a=0,b=0,r=0,h=false;if(e.type!="gauge"){var d=q.buildDataSet(k,f),j=d.dataset;if(JE.isEmpty(j)&&d.data){j=[{data:d.data,seriesname:d.seriesname}]}Ext.each(j,function(A,w){var x=Ext.value(A.renderas,e.type).toLowerCase();var u=["id","name","value","seriesname","bean"];var z=[],t=0,v=0;Ext.each(A.data,function(B){if(w==0){o.push(B.label)}B.name=B.label;var C={};Ext.each(u,function(D){C[D]=B[D]});if(C.value>t){t=C.value}if(C.value<v){v=C.value}z.push(C)});var y={type:x,value:z,data:z,max:t,itemStyle:Ext.clone(g)};if(x=="line"){y.smooth=e.smooth}if(A.parentyaxis=="S"){y.yAxisIndex=1;h=true;if(t>b){b=t}if(v>r){r=v}}else{if(t>c){c=t}if(v>a){yMix=v}}if(JE.isNotEmpty(A.seriesname)){y.name=A.seriesname;p.push(y.name)}Ext.applyIf(y,l);i.push(y)});if(e.type=="radar"){var s=[{value:[],data:[]}],n=s[0],m=0;Ext.each(i[0].data,function(t){m=t.value>m?t.value:m;n.value.push(t.value);n.data.push(t);n.max=m});i=[Ext.applyIf({type:"radar",data:s},l)]}}else{Ext.each(f.dsCfg.data.split(","),function(u){f.realDS=u.split(".")[0],u=u.split(".")[1];var t={type:e.type,name:u,itemStyle:g,data:[{id:u,name:u,value:0}]};Ext.applyIf(t,l);i.push(t)})}return{labels:o,legends:p,series:i,yMM:[{max:c,min:a,useY:true},{max:b,min:r,useY:h}]}},buildEChartEnd:function(h,d,i){var s=APP.chart,j=d.chart,r=Ext.value(d.echart,{}),c=d.typeInfo,f=d.dataInfo,p=f.labels,q=f.legends,g=f.series;if(["pie","radar","funnel","gauge"].indexOf(c.type)!=-1){delete i.grid;if(["pie","funnel"].indexOf(c.type)!=-1){i.legend.data=p}else{if(c.type=="radar"){var l=i.radar=Ext.applyIf({indicator:[]},c.serieInfo);var n=0;if(i.series[0]&&i.series[0].data[0]){n=i.series[0].data[0].max}Ext.each(p,function(t){l.indicator.push({text:t,max:n})});if(JE.isNotEmpty(j.radarfillcolor)){l.splitArea={show:true,areaStyle:{color:j.radarfillcolor}}}if(JE.isNotEmpty(j.radarbordercolor)){l.splitLine={show:true,lineStyle:{color:j.radarbordercolor,width:JE.toNum(Ext.value(j.radarborderthickness,1)),type:"solid"}}}if(JE.toBool(j.showyaxisvalues)){l.axisLabel={show:true}}}else{if(c.type=="gauge"){Ext.apply(i.series[0],i.gauge);delete i.gauge}}}}else{var a=[],k=[{prefix:j.numberprefix,suffix:j.numbersuffix},{prefix:j.snumberprefix,suffix:j.snumbersuffix}],o=[{max:j.pyaxismaxvalue,min:j.pyaxisminvalue},{max:j.syaxismaxvalue,min:j.syaxisminvalue}];Ext.each([j.yaxisname,j.syaxisname],function(u,t){var x=f.yMM[t],w=o[t];if(x.useY){var v={type:"value",name:u,max:JE.toNum(Ext.value(w.max,x.max)),min:JE.toNum(Ext.value(w.min,x.min)),splitNumber:JE.toNum(Ext.value(j.numdivlines,4))+1,axisLabel:{show:JE.toBool(j.showyaxisvalues),formatter:Ext.value(k[t].prefix,"")+"{value}"+Ext.value(k[t].suffix,"")}};s.buildEMaxNum(v,w);a.push(v)}});i.yAxis=a;i.xAxis=[{type:"category",data:p,boundaryGap:[0.1,0.1],name:j.xaxisname,axisLabel:{show:JE.toBool(j.showlabels)}}];var e=JE.decode(Ext.value(r.xyTitletextStyle,"{}")),m=JE.decode(Ext.value(r.xyLabeltextStyle,"{}"));splits=[{width:j.vdivlinethickness,color:j.vdivlinecolor,dashed:j.vdivlineisdashed,area:j.showalternatevgridcolor,areaColor:j.alternatevgridcolor},{width:Ext.value(j.divlinethickness,"1"),color:j.divlinecolor,dashed:j.divlineisdashed,area:j.showalternatehgridcolor,areaColor:j.alternatehgridcolor}];Ext.each([i.xAxis,i.yAxis],function(u,t){Ext.each(u,function(x,v){x.nameTextStyle=e;x.nameTextStyle.fontWeight=Ext.value(x.nameTextStyle.fontWeight,"bold");x.axisLabel.textStyle=m;if(v==0){var w=splits[t];x.splitLine={show:JE.toNum(w.width)>0,lineStyle:{color:[Ext.value(w.color,"#ccc")],width:JE.toNum(w.width),type:JE.toBool(w.dashed)?"dashed":"solid"}};x.splitArea={show:JE.toBool(w.area),areaStyle:{color:Ext.isEmpty(w.areaColor)?["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]:[w.areaColor]}}}})});if(c.columnBar){var b=i.xAxis;i.xAxis=i.yAxis;i.yAxis=b}}if(JE.isEmpty(i.legend.data)){delete i.legend}return i},getEChartTypes:function(h){var k=APP.chart,i=h.chart,j=Ext.value(h.echart,{}),m=h.type,b={code:m,type:"bar"};if(m.replace("Column","")!=m||m.replace("Bar","")!=m||m.replace("Pareto","")!=m){b.type="bar";b.columnBar=m.replace("Bar","")!=m;if(m.replace("MS","")==m){b.useColors=true}}else{if(m.replace("Line","")!=m){b.type="line"}else{if(m.replace("Area","")!=m){b.type="line";b.itemStyle={areaStyle:{type:"default"}}}else{if(m.replace("Pie","")!=m){b.useColors=true;b.type="pie";b.serieInfo={radius:"60%",selectedMode:"multiple",startAngle:0,clockWise:false};b.itemStyle={label:{formatter:"{name} : "+(JE.toBool(i.showpercentvalues)?"{percent}%":"{value}")}};b.tooltip={formatter:"{name} : {value} ({percent}%)"};if(JE.isNotEmpty(j.EPieLabelFormatter)){b.itemStyle.label.formatter=j.EPieLabelFormatter}b.itemStyle.labelLine={length:1,length2:1}}else{if(m.replace("Doughnut","")!=m){b.type="pie";b.useColors=true;b.itemStyle={label:{formatter:"{name} : "+(JE.toBool(i.showpercentvalues)?"{percent}%":"{value}")}};b.tooltip={formatter:"{name} : {value} ({percent}%)"};b.serieInfo={radius:["30%","60%"],selectedMode:"multiple",startAngle:0};b.itemStyle.labelLine={length:1,length2:1}}else{if(m=="Pyramid"){b.type="funnel";b.useColors=true;b.itemStyle={label:{formatter:"{name} : "+(JE.toBool(i.showpercentvalues)?"{percent}%":"{value}")}};b.tooltip={formatter:"{name} : {value} ({percent}%)"};b.serieInfo={sort:"ascending",width:"50%"}}else{if(m=="Radar"){b.type="radar";b.serieInfo={radius:"75%"};b.tooltip={formatter:function(o){var p=[],n=o.data.data;Ext.each(n,function(q){p.push(q.name+" : "+q.value)});return p.join("</br>")}}}else{if(m=="AngularGauge"){b.type="gauge";b.serieInfo={radius:["10%","75%"]}}}}}}}}}var a=b.code;if(a.replace("Stacked","")!=a){b.Stacked=true}if(a.replace("Scroll","")!=a){b.Scroll=true}if(a.replace("DY","")!=a){b.DY=true}if(a.replace("Combi","")!=a){b.Combi=true}b.smooth=JE.toBool(j.lineSmooth);if(b.serieInfo&&b.serieInfo.radius){var d=b.serieInfo.radius,g=j.ERadius,l=j.ERadius2;if(Ext.isString(d)){d=Ext.value(g,d);d=Ext.isNumeric(d)?JE.toNum(d):d}else{d[0]=Ext.value(l,d[0]);d[1]=Ext.value(g,d[1]);d[0]=Ext.isNumeric(d[0])?JE.toNum(d[0]):d[0];d[1]=Ext.isNumeric(d[1])?JE.toNum(d[1]):d[1]}b.serieInfo.radius=d;var e=Ext.value(j.ECenterX,"50%"),c=Ext.value(j.ECenterY,"50%");e=Ext.isNumeric(e)?JE.toNum(e):e;c=Ext.isNumeric(c)?JE.toNum(c):c;b.serieInfo.center=[e,c]}if(b.useColors&&JE.isNotEmpty(i.palettecolors)&&j.theme=="default"){b.itemStyle=Ext.value(b.itemStyle,{});b.itemStyle.color=function(o){var n=i.palettecolors.split(",");return n[o.dataIndex]}}var f={normal:{label:{show:JE.toBool(h.chart.showvalues),position:""},labelLine:{show:JE.toBool(h.chart.showvalues)},lineStyle:{type:Ext.value(j.lineType,"solid")}}};if(JE.isNotEmpty(j.itemtextStyle)){f.normal.label.textStyle=JE.toObj(j.itemtextStyle)}f.normal=k.applyIf4EC(f.normal,Ext.value(b.itemStyle,{}));b.itemStyle=f;if(JE.isNotEmpty(f.normal.label.formatter)){f.normal.label.formatter=k.echartFormatter(f.normal.label.formatter)}if(m.replace("Pie","")!=m){if(JE.toBool(j.EPieLabelPosition)){f.normal.label.position="inner";f.normal.labelLine.show=false;f.emphasis={label:{show:true,formatter:f.normal.label.formatter}}}}b.tooltip=Ext.value(b.tooltip,{});b.tooltip.formatter=Ext.value(j.formatter,b.tooltip.formatter);if(JE.isNotEmpty(b.tooltip.formatter)){b.tooltip.formatter=k.echartFormatter(b.tooltip.formatter)}return b},applyIf4EC:function(c,a){var b=APP.chart;for(key in a){var d=a[key];if(c[key]===undefined){c[key]=a[key]}else{if(Ext.isObject(d)){c[key]=b.applyIf4EC(c[key],d)}}}return c},echartFormatter:function(b){var a=APP.chart;if(Ext.isString(b)){return JE.toXT(b,{seriesName:"{a}",name:"{b}",value:"{c}",percent:"{d}"})}else{return b}},buildEMaxNum:function(e,g){if(JE.isNotEmpty(g.max)){return}var j=JE.toNum(Ext.Number.toFixed(e.max,0)),a=e.splitNumber;var d=j.toString(),b=d.length;var h=j,k=1;if(b>2){var f=b<7?1:(b-5),h=JE.toNum(d.substring(0,f))+1,k=1/10;for(var c=0;c<b-f;c++){h=h*10;k=k*10}}else{h=j+(5-j%5)}while(h%a!=0){h+=k}var l=h/a,c=1;while(j>l*c){c++}h=l*c;while(h%a!=0){h+=k}e.max=h},buildDataSet:function(k,c){var v=APP.chart;var n=c.ds,h=Ext.applyIf(c.dsCfg,{label:"",data:"",series:""});var a=h.label,q=h.data,j=h.series,r=q.split(".")[1],e=a.split(".")[1],l=j.split(".")[1];var o=v.chart[c.code].data,f=o.data,s=o.labels,t=o.series;var w=f;var m=v.buildLabels(c,"label",w,s);var p=v.buildLabels(c,"series",w,t);v.buildStore({labelList:m,seriesList:p,data:w,dataField:r,labelField:e,seriesField:l,dsCfg:h});var u={};var i=v.getChartCfgs(c.type);if(i.MS||i.Stacked||i.Scroll||i.DY){u.categories=[{category:m}];var b=Ext.decode(Ext.value(h.seriesCfg,"[]"));if(JE.isNotEmpty(b)){Ext.each(p,function(y){Ext.each(b,function(z){if(y.seriesname==z.name){if(JE.isNotEmpty(z.color)){y.color=z.color}if(JE.isNotEmpty(z.type)){y.renderas=z.type}if(JE.toBool(z.rightY)){y.parentyaxis="S"}if(JE.toBool(z.showValues)){y.showvalues=z.showValues}}})})}u.dataset=p}else{var w=p[0].data;if(!Ext.isEmpty(h.labelOrder)){w.sort(function(z,y){if(h.labelOrder=="ASC"){return Ext.value(z.value,0)-Ext.value(y.value,0)}else{return Ext.value(y.value,0)-Ext.value(z.value,0)}})}if(c.type.replaceAll("Pareto","")!=c.type&&JE.isNotEmpty(c.chart.palettecolors)){var d=0,g=c.chart.palettecolors.split(","),x=g.length;Ext.each(w,function(z){if(d==x){d=0}var y=g[d];if(y){z.color=y}d++})}u.data=w;u.seriesname=""}return u},buildLabels:function(f,i,e,c){var a=f.dsCfg[i],b=a.split(".")[0],d=f.ds[b],l=a.split(".")[1];var h=[],o=false;var g=i=="series"?"seriesname":i;var n=(f.dsCfg.data||"").split(".")[0];if(d&&d.code!=n){var e=Ext.value(c,[]);Ext.each(e,function(p){var q={};q[g]=p[Ext.value(l,"name")];h.push(q)})}else{if(b=="DIC"){var j=Ext.value(c,[]);Ext.each(j,function(p){var q={};q[g]=p.text;q.dicData=p;h.push(q)})}else{if(g=="seriesname"){if(a.split(",").length>1){Ext.each(a.split(","),function(p){var q={};q[g]=p.split(".")[1];h.push(q)})}else{if(l=="columns"){var k=Ext.isEmpty(f.dsCfg.labelField)?f.dsCfg.label:f.dsCfg.labelField;k=k.split(".")[1];Ext.each(Ext.value(d.config.fields,[]),function(q){if(q!=k){var p={};p[g]=q;h.push(p)}})}else{o=true}}}else{o=true}}}if(o){var m={};Ext.each(e,function(q){var r={};var p=r[g]=q[l];if(!m[p]){h.push(r);m[p]=p}})}return h},buildStore:function(a){var d=a.labelList,c=a.seriesList,f=a.data,g=a.dataField,b=a.labelField,e=a.seriesField,h=a.dsCfg;if(JE.isNotEmpty(h.labelField)){b=h.labelField.split(".")[1]}if(JE.isNotEmpty(h.seriesField)){e=h.seriesField.split(".")[1]}if(JE.isEmpty(c)){c.push({})}Ext.each(c,function(j){var i=j.seriesname;j.data=[];Ext.each(d,function(m){var l=m.label;var n=0,k;Ext.each(f,function(r){var q=r[b],p=r[e];q=m.dicData&&m.dicData.code==q?m.dicData.text:q;p=j.dicData&&j.dicData.code==p?j.dicData.text:p;if(JE.isEmpty(g)){if(q==l){n=JE.toNum(r[i]);k=Ext.clone(r);return false}}else{if(q==l&&p==i){n=JE.toNum(r[g]);k=Ext.clone(r);return false}}});var o={id:JE.uuid(),value:n,label:l,bean:k};if(i){o.seriesname=i}j.data.push(o)})})},getChartCfgs:function(b){var a={type:b,TD:false,MS:false,Stacked:false,Scroll:false};if(b=="Radar"){a.MS=true}if(b.replace("MS","")!=b){a.MS=true}if(b.replace("3D","")!=b){a.TD=true}if(b.replace("Stacked","")!=b){a.Stacked=true}if(b.replace("Scroll","")!=b){a.Scroll=true}if(b.replace("DY","")!=b){a.DY=true}return a},init:function(){mui.init();mui.ready(function(){mui("header").on("tap",".je-refresh",function(){if(mui.os.plus){var a=plus.webview.currentWebview();var b=a.app;if(!b){return}APP.chart.initChart(b)}else{window.location.reload()}})});if(mui.os.plus){mui.plusReady(function(){var a=plus.webview.currentWebview();var b=a.app;if(!b){return}APP.chart.initChart(b)})}else{mui.ready(function(){var d=window.location.href.split("?")[1].split("&");var a="";for(var b=0;b<d.length;b++){var c=d[b].split("=");if(c[0]=="app"){a=c[1]}}JE.ajax({url:"/je/dynaAction!load.action",params:{tableCode:"JE_PHONE_APP",whereSql:"and APP_CODE ='"+a+"'",limit:-1},callback:function(g,e){var f=e.rows[0];if(!f){return}app={text:f.APP_TEXT,info:f.APP_CHART_LIST};APP.chart.initChart(app)}})})}}};var APP=APP||{};Ext.apply(APP,{doListeners4Button:function(){var b=arguments[0],g=[];for(var c=1;c<arguments.length;c++){g.push(arguments[c])}APP.listeners=APP.listeners||{};var d=APP.listeners[b]||APP._act4Button[b];if(d){if(Ext.isFunction(d)){d.apply(d,g)}else{if(Ext.isObject(d)){var f=d.beforeclick;var e=d.click&&Ext.isFunction(d.click)?d.click:APP._act4Button[b];var a=f&&Ext.isFunction(f)?f(g[0],e):true;if(a!=false&&e){e.apply(e,g)}}}}else{JE.msg("无操作！")}},doListeners4Field:function(){var a=arguments[0],d=arguments[1],e=[];for(var b=1;b<arguments.length;b++){e.push(arguments[b])}APP.listeners=APP.listeners||{};if(d&&APP.listeners[d.name]&&APP.listeners[d.name][a]){var c=APP.listeners[d.name][a];return c.apply(c,e)}},doListeners4Form:function(){var a=arguments[0],d=[];for(var b=1;b<arguments.length;b++){d.push(arguments[b])}APP.listeners=APP.listeners||{};if(APP.listeners.form&&APP.listeners.form[a]){var c=APP.listeners.form[a];return c.apply(c,d)}},doListeners4List:function(){var a=arguments[0],d=[];for(var b=1;b<arguments.length;b++){d.push(arguments[b])}APP.listeners=APP.listeners||{};if(APP.listeners.list&&APP.listeners.list[a]){var c=APP.listeners.list[a];return c.apply(c,d)}},_act4Button:{_gridMoreBtn:function(){var a=APP.list.readOnly?APP.list.noReadOnlyBtns:APP.list.buttons;JE.actionSheet("",function(c){if(c.index<=0){return}var b=APP.list.buttons[c.index-1].code;APP.doListeners4Button(b)},a)},gridInsertBtn:function(){APP.list.editForm()},gridRemoveBtn:function(c){var h="";if(c){h=c.parentNode.getAttribute("data-id")}var e=APP.list.getSelection(h);if(JE.isEmpty(e)){JE.alert("请选择数据！");return}var d=[],f=true,b=true;var a=JE.getCurrentUser(),g=APP.info.permInfo||{};Ext.each(e,function(k){var l=k.data[APP.info.pkName],j=Ext.value(k.data.SY_AUDFLAG,"NOSTATUS"),i=k.data.SY_CREATEUSER;if(g.selfDelete&&i!=a.userCode){b=false}if(APP.info.useWF=="1"&&["NOSTATUS","SUSPEND",""].indexOf(j)==-1){f=false}d.push(l)});if(!b){JE.alert("只能删除本人录入的数据...");return}if(!f){JE.alert("有"+wfCount+"条数据正在审批中，无法删除！");return}JE.confirm("确定删除吗？",function(j){var i=j.index;if(i==1){JE.ajax({url:Ext.value(APP.info.action,"/je/dynaAction")+"!doRemove.action",params:{ids:d.join(","),tableCode:APP.info.tableName},callback:function(l,k){if(k.success){JE.msg(k.obj);Ext.each(e,function(n){var o=n.data[APP.info.pkName],m=n.dom;m.parentNode.removeChild(m);APP.list.store.removeById(o)})}else{JE.alert(k.obj)}}})}},"删除")},formSaveBtn:function(c){if(!APP.form.isValid()){return}var b=APP.form.getValues();if(APP.doListeners4Form("beforesubmit",b)==false){return}Ext.apply(b,{tableCode:APP.info.tableName,batchFilesFields:APP.info.batchFilesFields,codeGenFieldInfo:JE.encode(APP.info.codeGenFieldInfo)});var a=JE.isEmpty(b[APP.info.pkName])?"doSave":"doUpdate";JE.ajax({url:Ext.value(APP.info.action,"/je/dynaAction")+"!"+a+".action",params:b,callback:function(e,d){if(d.success){JE.msg("保存成功！");APP.form.setValues(d.obj);APP.form.commitChanges();APP.form.refreshChild();APP.doListeners4Form("submit",d.obj);APP.form.doSaveAfter(c,a.substring(2).toLocaleLowerCase())}else{JE.alert(d.obj)}}})},do_wf:function(a){APP.workflow.showWfButtons()},do_wfinfo:function(a){JE.fire("je-workflow-info-form","init",{data:a.wfInfo,opener:plus.webview.currentWebview().id}).show("slide-in-right")},wfStartBtn:function(a){APP.workflow.doTask(a)},wfSponsorBtn:function(a){APP.workflow.doTask(a)}}});var APP=APP||{};APP.perm={form:function(g){var g=g||[];var f=[],b=false,d="",c=[],a=[];Ext.each(Ext.value(APP.info.buttons,[]),function(j){if(["FORM","FORMITEM"].indexOf(j.type)!=-1&&j.disable!="1"){if(j.noReadOnly=="1"&&g.indexOf(j.id)==-1){g.push(j.id)}if(g.indexOf(j.id)!=-1){j.title=j.text;if(j.code=="formSaveBtn"){b=true;d=j.id}else{if(j.type=="FORM"){f.push(j);if(j.noReadOnly=="1"){c.push(j);a.push(j.code)}}}}}});APP.form.buttons=f;APP.form.noReadOnlyBtns=c;APP.form.noReadOnlyBtnCodes=a;APP.info.enableSave=b;if(JE.isNotEmpty(g)){APP.info.enableSave=g.indexOf(d)!=-1;var h=[];Ext.each(f,function(j){if(g.indexOf(j.id)!=-1){h.push(j)}});APP.form.buttons=h;mui(".je-form .je-formitem").each(function(){var m=this,k=m.getAttribute("data-name");var l=APP.info.formitems[k],j=l.configInfo;var n="";if(l.xtype=="button"){n=j.buttonId}else{if(l.xtype=="child"){n=l.id}}if(JE.isNotEmpty(n)&&g.indexOf(n)==-1){delete APP.form.fields[k];m.parentNode.removeChild(m)}})}var i=JE.select(".je-doact"),e=JE.select(".saveBtn.je-act-button");if(i&&APP.form.buttons.length==0){i.style.display="none"}if(e&&!APP.info.enableSave){e.style.display="none"}},list:function(k){var k=k||[];var j=[],b=[],f=false,m="",h=[];Ext.each(Ext.value(APP.info.buttons,[]),function(p){if(["GRID","GRIDITEM"].indexOf(p.type)!=-1&&p.disable!="1"){if(p.noReadOnly=="1"&&k.indexOf(p.id)==-1){k.push(p.id)}if(k.indexOf(p.id)!=-1){p.title=p.text;p.cls=p.code=="gridRemoveBtn"?"mui-btn-danger":"mui-btn-blue";if(p.code=="gridInsertBtn"){f=true;m=p.id;j.push(p)}else{if(p.type=="GRID"){j.push(p);if(p.noReadOnly=="1"){h.push(p)}}else{b.push(p)}}}}});APP.list.innerBtns=b;APP.list.buttons=j;APP.list.noReadOnlyBtns=h;APP.list.enableInsert=f;APP.list.enableEdit=APP.info.disableEdit!="1";if(JE.isNotEmpty(k)){APP.list.enableInsert=f?k.indexOf(m)!=-1:f;var o=[];Ext.each(j,function(p){if(k.indexOf(p.id)!=-1){o.push(p)}});APP.list.buttons=j=o;var a=[];Ext.each(b,function(p){if(k.indexOf(p.id)!=-1){a.push(p)}});APP.list.innerBtns=a}var n=JE.select(".je-list-btn");if(n){n.style.display=j.length>0?"":"none";if(j.length>0){if(APP.list.enableInsert&&j.length>1||!APP.list.enableInsert){n.setAttribute("data-code","_gridMoreBtn")}}}var l=APP.info.permInfo||{},d=JE.getCurrentUser(),e=APP.info.permSql;if(!Ext.isEmpty(l.seeUsers)){if(l.seeUsers.split(",").indexOf(d.userId)!=-1){e=""}}if(!Ext.isEmpty(l.seeDepts)){if(l.seeDepts.split(",").indexOf(d.deptId)!=-1){e=""}}if(!Ext.isEmpty(l.seeRoles)){var c=d.roleIds.split(","),i=false;Ext.each(c,function(p){if(l.seeRoles.replace(p,"")!=l.seeRoles){i=true;return false}});if(i){e=""}}if(!Ext.isEmpty(l.seeSentrys)){var g=d.sentryIds.split(","),i=false;Ext.each(g,function(p){if(l.seeSentrys.replace(p,"")!=l.seeSentrys){i=true;return false}});if(i){e=""}}APP.info.permSql=e;if(JE.isNotEmpty(e)){e=e.replaceAll('"',"");APP.info.whereSql+=" "+e}APP.info.whereSql=APP.info.whereSql.replaceAll("parent.","parent_")}};var APP=APP||{};APP.info=APP.info||{};APP.form={rendered:false,readOnly:false,fields:{},datePicker:{},_apps:{},getFuncInfo:function(){return APP.info},getFields:function(a){return JE.isEmpty(a)?APP.form.fields:APP.form.fields[a]},getValues:function(a){if(JE.isNotEmpty(a)){var c=APP.form.getFields(a);if(c){return c.getValue()}}else{var b={};Ext.iterate(APP.form.fields,function(d,e){if(e.submitField){b[d]=e.getValue()}});return b}},setValues:function(c,d){var a={};if(Ext.isString(c)){a[c]=d}else{a=c}for(var b in a){var e=APP.form.getFields(b);if(e){e.setValue(a[b])}}},resets:function(a){if(JE.isNotEmpty(a)){var b=APP.form.getFields(a);if(b){b.reset()}}else{Ext.iterate(APP.form.fields,function(c,d){d.reset()})}},setReadOnly:function(e,b){if(JE.isNotEmpty(b)){var d=APP.form.getFields(b);if(d){d.setReadOnly(e)}}else{if(e==APP.form.readOnly){return}APP.form.readOnly=e;var c=JE.select(".saveBtn.je-act-button");c.style.display=e?"none":(APP.info.enableSave?"":"none");var a=JE.select("header .je-doact");if(e){a.style.display=APP.form.noReadOnlyBtns.length>0?"":"none"}else{a.style.display=APP.form.buttons.length>0?"":"none"}Ext.iterate(APP.form.fields,function(f,g){if(["childfuncfield","child"].indexOf(g.xtype)==-1||g.configInfo.nocontrol!="1"){g.setReadOnly(e)}})}},isValid:function(){var a=[];Ext.iterate(APP.form.fields,function(b,c){a=a.concat(c.validate())});if(JE.isNotEmpty(a)){JE.msg(a.join("\n"));return false}else{return true}},getChanges:function(){var b=APP.form.getValues(),a=[];Ext.iterate(b,function(d,e){var c=APP.form._record[d]||"";if(c!=e){a.push({name:d,oldVal:c,newVal:e})}});return a},commitChanges:function(){var a=APP.form.getValues();Ext.apply(APP.form._record,a)},loadRecord:function(a){APP.form._record=a;APP.form.setValues(a);APP.form.refreshChild()},showButtons:function(){var a=APP.form.readOnly?APP.form.noReadOnlyBtns:APP.form.buttons,b="";if(mui.os.plus&&APP.info.useWF=="1"){a=APP.form.wfButtons;audFlag=APP.form.getValues("SY_AUDFLAG");b=audFlag=="ENDED"?"流程已结束":""}if(JE.isEmpty(a)){JE.msg("无操作");return}JE.actionSheet(b,function(d){if(d.index<1){return}var c=a[d.index-1];APP.doListeners4Button(c.code,c)},a)},resetForm:function(){Ext.iterate(APP.form.fields,function(a,b){var c=b.options;b.setVisible(c.hidden!="1");b.setAllowBlank(c.allowBlank=="1")});APP.form.wfButtons=Ext.clone(APP.form.buttons);APP.form.setReadOnly(false)},doSaveAfter:function(b,a){if(APP.info.useWF=="1"){APP.form.refreshWFForm(b)}APP.form._refreshList();APP.form._refreshParent(a)},activate:function(e){var f=e.modelId,d=e.model,c=APP.parentInfo=e.parentInfo||{};var b=JE.select("header .mui-action-back");b.innerHTML=JE.isEmpty(c.appName)?"":'<span class="parenttitle">'+c.appName+"<span>";if(!mui.os.plus){if(JE.isEmpty(f)){d={}}else{d=JE.ajax({url:APP.info.action+"!getInfoById.action",async:false,params:{tableCode:APP.info.tableName,pkValue:f}})}}APP.doListeners4Form("beforeactivate",d);var a=c.values||{};APP.form.resets();APP.form.resetForm();if(!APP.info.enableSave||APP.parentInfo.readOnly){APP.form.setReadOnly(true)}APP.form.loadRecord(Ext.value(d,a));APP.doListeners4Form("activate");if(APP.info.useWF=="1"&&JE.isNotEmpty(d)){APP.form.refreshWFForm(function(){APP.doListeners4Form("wfactivate");if(mui.os.plus){plus.webview.currentWebview().show("slide-in-right")}});return}if(mui.os.plus){plus.webview.currentWebview().show("slide-in-right")}},childApps:{},childDataMap:{},editChild:function(b,c){var j=APP.form.getFields(b),i=j.configInfo;var d=APP.form.getValues(APP.info.pkName);if(JE.isEmpty(d)){JE.alert("请先保存主功能！");return}if(JE.isEmpty(i.funcCode)){JE.alert("子功能编码不存在,请检查！");return}if(!mui.os.plus){JE.alert("网页不支持！");return}var e={webviewId:plus.webview.currentWebview().id,appCode:APP.info.appCode,appName:APP.info.appName,bean:APP.form.getValues(),configInfo:i,readOnly:j.readOnly};var k=APP.form.getValues();if(JE.isNotEmpty(i.fields)){var m=[],g={};Ext.each(i.fields,function(o){if(JE.isNotEmpty(o.childfield)){var n=e.bean[o.field]||"";if(JE.isNotEmpty(o.whereSql)&&o.whereSql!="no"){var p={code:o.childfield,type:o.whereSql,value:n};m.push(JE.buildWhereSql(p))}if(o.value=="1"){g[o.childfield]=n}}});if(m.length>0){e.sql=" AND "+m.join(" AND ")}e.values=g}if(j.xtype=="childfuncfield"){var l=APP.info.appCode+"_"+i.funcCode+"_form";var h=APP.form.childDataMap[b][c];var a=plus.webview.getWebviewById(l);if(a){JE.fire(l,"init",{model:h,parentInfo:e}).show("slide-in-bottom")}else{JE.showFunc({code:APP.info.appCode,text:APP.info.appName,type:"func",homePage:i.funcCode+"_form.html",params:{viewId:l,aniShow:"slide-in-bottom",callback:function(n){JE.fire(n.id,"init",{model:h,parentInfo:e})}}})}}else{var f={text:j.label,code:i.funcCode,type:"func",info:e};JE.showFunc(f)}},resetChild:function(){Ext.iterate(APP.form.childApps,function(a,b){Ext.iterate(b,function(c){var e=APP.form.getFields(c);if(e){var f=e.dom;f.querySelector(".badge").innerHTML=0;if(e.xtype=="childfuncfield"){var d=f.querySelector(".je-list");d.innerHTML="";d.style.display="none";if(e.readOnly){e.readOnly=false;e.setReadOnly(true)}}}})})},refreshChild:function(c,a){var b=APP.form.getValues(APP.info.pkName);if(JE.isEmpty(b)){APP.form.resetChild();return}if(JE.isNotEmpty(c)){var e=APP.form.childApps[c]||[];Ext.each(e,function(f){var g=APP.form.getFields(f);if(g){APP.doListeners4Field("afteredit",g,a);return false}})}var d={};Ext.iterate(APP.form.childApps,function(g,i){var j=APP.form._apps[g];var h=d[g]={tableCode:j.tableName,sqls:[]};var f=JE.toXT(Ext.value(j.whereSql,""),{});Ext.iterate(i,function(l){var o=APP.form.getFields(l);if(o){var k=o.configInfo,m=[];Ext.each(k.fields,function(q){var r={code:q.childfield,value:"",type:q.whereSql};r.value=APP.form.getValues(q.field);m.push(r)});var p=f+" "+JE.buildWhereSql(m),n=false;Ext.each(h.sqls,function(q){if(q.sql==p){q.name+=","+l;n=true;return false}});if(!n){h.sqls.push({name:l,sql:p})}}});if(JE.isNotEmpty(c)&&g!=c||JE.isEmpty(d[g].sqls)){delete d[g]}});if(JE.isNotEmpty(d)){JE.ajax({url:"/je/appAction!getAppDataNum.action",params:{strData:Ext.encode(d)},callback:function(g,f){Ext.iterate(f,function(i,h){Ext.each(h,function(l){var n=l.name.split(","),j=l.totalCount,m=l.rows,k="";Ext.each(n,function(p){var s=APP.form.getFields(p);var v=s.dom,q=s,u=s.getApp();var o=v.querySelector(".badge");o.innerHTML=j;var t=APP.form.childDataMap[p]={};if(q.xtype=="childfuncfield"&&u.renderer){var r=v.querySelector(".je-list");if(JE.isEmpty(k)){Ext.each(m,function(z,w){var y=u.renderer(z);y=y.replaceAll("{#}",w+1);var x=u.listTpl.replace("{bodyTpl}",y);k+=JE.toXT(x,z);t[z[u.pkName]]=z})}r.innerHTML=k;r.style.display=j>0?"":"none";if(s.readOnly){s.readOnly=false;s.setReadOnly(true)}}})})})}})}},initChildApps:function(apps){APP.form._apps=apps||{};Ext.iterate(APP.form._apps,function(key,app){app.listTpl='<div class="mui-table-view-cell" data-id="{'+app.pkName+'}"><div class="je-slider mui-slider-handle je-cell-body">{bodyTpl}</div><div class="je-slider-button mui-slider-right mui-disabled" data-id="{'+app.pkName+'}"><a class="je-act-button mui-btn mui-btn-danger" data-code="gridRemoveBtn">删除</a></div></div>';app.renderer=JE.isEmpty(app.renderer)?null:JE.eval(app.renderer)})},_record:{},_createField:function(b){var a=Ext.apply({},b);a.configInfo=a.options.configInfo;a.label=a.options.label;a.readOnly=a.options.readOnly=="1";a.isHidden=a.options.hidden=="1";a.allowBlank=a.options.allowBlank=="1";a.lastValue=Ext.value(a.options.value,"");a.inputEl=Ext.get(a.dom);if(a.submitField){a.el=a.isHidden?a.inputEl:a.inputEl.up(".mui-input-row")}else{a.el=a.inputEl}a.down=function(d,c){return a.el.dom[c?"querySelectorAll":"querySelector"](d)};a.checkChange=function(d){if(!a.hasChangeEvent){return}var c=a.dom.getAttribute("data-value")||"",e=a.lastValue;if(d){e=a.dom.value;a.dom.setAttribute("data-value",e)}if(!(String(c)===String(e))){a.lastValue=e;APP.doListeners4Field("change",a,e,c)}};a.getValue=function(){if(!a.submitField){return}var f=a.dom;if(["image","imagefile"].indexOf(a.xtype)!=-1){var g=f.querySelectorAll(".image-item img");var d=[],c=["path","name","bigCls","cls"];Ext.each(g,function(h){var i={};Ext.each(c,function(j){i[j]=h.getAttribute("data-"+j)});d.push(i)});var e="";if(d.length>0){if(a.multiple){e=Ext.encode(d)}else{e=d[0].name+"*"+d[0].path}}f.setAttribute("data-value",e)}else{if(["INPUT","TEXTAREA"].indexOf(f.nodeName)!=-1){f.setAttribute("data-value",f.value)}}return f.getAttribute("data-value")||""};a.setValue=function(k){if(!a.submitField){return}var f=a.dom;if(["image","imagefile"].indexOf(a.xtype)!=-1){Ext.each(f.querySelectorAll(".image-item"),function(n){f.removeChild(n)});if(JE.isNotEmpty(k)){var c=[];if(a.multiple){if(Ext.isString(k)){c=Ext.decode(k,true)}else{c=k}c=Ext.value(c,[])}else{var m=k.split("*");c=[{name:m[0],path:m[1]}]}Ext.each(c,function(n){APP.form._select.image.buildImg(a.name,n)});a.addDom.style.display=c.length<a.maxNum?"":"none"}else{a.addDom.style.display=""}}else{if(a.xtype=="ckeditor"){f.innerHTML=Ext.htmlDecode(k)}else{if(a.xtype=="textcode"){f.innerHTML=k}else{if(a.selectField){a.selectIcon.style.display=JE.isEmpty(k)?"":"none";a.clearIcon.style.display=JE.isEmpty(k)?"none":"";if(JE.isNotEmpty(k)){var h=a.options.dicCode,l=k;if(h){var e=JE.getDicItems(h,true);var i=a.options.configInfo.split(","),d=i[1]?i[1].split("~"):[a.name],j=i[2]?i[2].split("~"):["text"];var g={};Ext.each(d,function(q,n){var o=q==a.name?"text":j[n];var p=[];Ext.each(k.split(","),function(s){var r=e[s]||{};p.push(r[o]||"")});g[q]=p.join(",");if(q==a.name){l=g[q];delete g[q]}});APP.form.setValues(g)}else{if(["datefield","datetimefield","datemonthfield","timefield"].indexOf(a.xtype)!=-1){l=JE.DATE.formatDate(JE.DATE.parseDate(k,a.submitFormat),a.format)}}}f.value=k;a.inputBodyEl[JE.isEmpty(l)?"addCls":"removeCls"]("placeholder");if(JE.isEmpty(l)){l=f.getAttribute("placeholder")}a.inputBodyEl.dom.innerHTML=l}else{if(["INPUT","TEXTAREA"].indexOf(f.nodeName)!=-1){if(a.xtype=="numberfield"){k=JE.isEmpty(k)?"":JE.toNum(k)}f.value=k}}}}}a.lastValue=k;a.checkChange();f.setAttribute("data-value",k)};a.reset=function(){if(!a.submitField){return}var c=JE.toDefVal(APP.info.defaultValues[a.name]||"");a.setValue(c);if(APP.doListeners4Field){APP.doListeners4Field("reset",a)}};a.hide=function(){if(a.isHidden){return}a.isHidden=true;var c=a.el.dom;c.style.display="none"};a.show=function(){if(!a.isHidden){return}a.isHidden=false;var c=a.el.dom;c.style.display="inherit"};a.setVisible=function(c){a[c?"show":"hide"]()};a.setAllowBlank=function(c){if(!a.submitField){return}if(a.allowBlank==c){return}a.allowBlank=c;if(a.requiredDom){a.requiredDom.style.visibility=c?"hidden":"visible"}};a.setReadOnly=function(f){if(a.readOnly==f||a.isHidden||["ckeditor","textcode"].indexOf(a.xtype)!=-1){return}a.readOnly=f;a.el[f?"addCls":"removeCls"]("je-input-readonly");if(["INPUT","TEXTAREA"].indexOf(a.dom.nodeName.toUpperCase())!=-1){f?a.dom.setAttribute("readonly","readonly"):a.dom.removeAttribute("readonly")}if(!a.submitField){var d=a.down(".item",true);Ext.each(d,function(g){if(g.xtype!="button"||APP.form.noReadOnlyBtnCodes.indexOf(g.configInfo.button)==-1){f?g.setAttribute("disabled","disabled"):g.removeAttribute("disabled")}});if(a.xtype=="childfuncfield"){var e=a.down(".je-list .je-slider",true),c="mui-slider-handle";Ext.each(e,function(g){if(f){if(g.classList.contains(c)){g.classList.remove(c)}}else{if(!g.classList.contains(c)){g.classList.add(c)}}})}else{if(a.xtype=="child"){d[0].removeAttribute("disabled")}}}};a.validate=function(){var d=[];if(a.isHidden&&!a.submitField){return d}var c=a.getValue();if(!a.allowBlank&&JE.isEmpty(c)){d.push(a.label+"不能为空")}else{if(a.xtype=="numberfield"&&JE.isNotEmpty(c)&&!Ext.isNumeric(c)){d.push(a.label+"请输入正确的数字")}}return d};a.getApp=function(){if(["child","childfuncfield"].indexOf(a.xtype)!=-1){return APP.form._apps[a.configInfo.funcCode]}};a._init=function(){if(!a.submitField){return}a.requiredDom=a.down(".je-input-required");a.labelDom=a.down("label");a.inputBodyEl=a.el.down(".je-input-body");a.selectField=a.el.hasCls("je-select-field");if(a.labelDom&&JE.isNotEmpty(a.options.labelColor)){a.labelDom.style.color=a.options.labelColor}var e=a.options.unitTpl;var f=a.down(".je-field");if(JE.isNotEmpty(e)&&f){var i=document.createElement("span");i.setAttribute("class","unittpl");i.style.color=a.options.labelColor||"";i.innerHTML=e;f.appendChild(i);var c=e.strLen()*7+10;f.style.paddingRight=c+"px"}if(a.requiredDom&&!a.allowBlank){a.requiredDom.style.visibility="visible"}if(a.selectField){a.selectIcon=a.down(".je-select-icon");a.clearIcon=a.down(".je-select-clear");a.clearIcon.style.display="none";a.dom.removeAttribute("readonly");var d=a.xtype;if(["datefield","datetimefield","datemonthfield","timefield"].indexOf(d)!=-1){var k={type:"datetime"};var g="Y-m-d H:i:s";if(d=="datefield"){k.type="date";g="Y-m-d"}else{if(d=="datemonthfield"){k.type="month";g="Y-m"}else{if(d=="timefield"){k.type="time";g="H:i"}}}var h=Ext.value(a.configInfo.split(",")[0],g);a.format=h;a.submitFormat=g;if(!APP.form.datePicker[d]){APP.form.datePicker[d]=new mui.DtPicker(k)}}}else{if(["image","imagefile"].indexOf(a.xtype)!=-1){a.inputEl.addCls("mui-table-view mui-grid-view mui-grid-9");var j=APP.form._select.image.buildImg(a.name,"add");a.dom.appendChild(j);a.multiple=a.xtype=="image";a.maxNum=a.multiple?10:1;a.addDom=j}else{if(b.xtype=="numberfield"&&mui.os.ios){a.inputEl.on("blur",function(l,m){m.value=JE.toNum(m.value)})}}}if(APP.listeners&&APP.listeners[a.name]&&APP.listeners[a.name].change){a.hasChangeEvent=true;if(["INPUT","TEXTAREA"].indexOf(a.dom.nodeName)!=-1){a.onChangeTask=new Ext.util.DelayedTask(a.checkChange,a,[true]);a.inputEl.on("input",function(l,m){a.onChangeTask.delay(50)})}}};a._init();APP.form.fields[a.name]=a;return a},_select:{date:function(b){var d=APP.form.getFields(b),c=d.getValue(),a=APP.form.datePicker[d.xtype];a.setSelectedValue(c);a.show(function(e){var g=e.value;if(d.xtype=="datetimefield"){var f=JE.DATE.formatDate(new Date,"s");g+=":"+f}d.setValue(g);if(APP.doListeners4Field){APP.doListeners4Field("query",d,g)}})},file:function(a){var b=APP.form.getFields(a);plus.gallery.pick(function(c){JE.log(c)},function(c){},{filename:"_doc/files/",filter:"none",multiple:false,system:true})},crgroup:function(a){var d=APP.form.getFields(a);var c=JE.getDicItems(d.options.dicCode);if(c){var b=d.getValue();JE.showCRGroup({value:b,multiple:d.xtype=="cgroup",items:c,callback:function(e){d.setValue(e.value);if(APP.doListeners4Field){APP.doListeners4Field("query",d,e.value)}}})}},image:{buildImg:function(b,e){var a=APP.info.fields[b]||{};var l=document.createElement("div");var h=a.hideLabel=="1"?"mui-col-xs-3":"mui-col-xs-4";if(e=="add"){l.setAttribute("class","mui-table-view-cell "+h+" image-item-add");l.innerHTML="<i class='mui-icon mui-icon-plusempty'></i>"}else{var j=APP.form.getFields(b);e=e||{};var c=e.path?JE.buildURL(e.path):"";var k=[];Ext.iterate(e,function(m,n){k.push("data-"+m+'="'+n+'"')});l.setAttribute("class","mui-table-view-cell "+h+" image-item");var i=e.name.substring(e.name.lastIndexOf(".")+1);if(["jpg","png","gif","jpeg","bmp"].indexOf(i)!=-1){l.innerHTML='<img src="'+c+'" '+k.join(" ")+' data-preview-src="" data-preview-group="'+b+'"><span class="image-item-close je-select-clear"></span>'}else{var f="";if(["txt"].indexOf(i)!=-1){f="-text-o"}else{if(["doc","docx"].indexOf(i)!=-1){f="-word-o"}else{if(["ppt","ppts"].indexOf(i)!=-1){f="-powerpoint-o"}else{if(["xls","xlsx"].indexOf(i)!=-1){f="-excel-o"}else{if(["pdf"].indexOf(i)!=-1){f="-pdf-o"}else{if(["zip","rar","gz"].indexOf(i)!=-1){f="-archive-o"}else{if(["wav","mp3","wma","ram"].indexOf(i)!=-1){f="-audio-o"}else{if(["avi","mp4","mov","rmvb","rm","mkv"].indexOf(i)!=-1){f="-video-o"}}}}}}}}l.innerHTML='<div class="file" '+k.join(" ")+'><i class="fa fa-file'+f+'"></i><p>'+e.name+'</p></div><span class="image-item-close je-select-clear"></span>'}j.dom.insertBefore(l,j.addDom);var d=j.maxNum;var g=j.dom.querySelectorAll(".image-item").length;j.addDom.style.display=g<d?"":"none"}return l},fieldName:"",selectCount:0,zipPaths:[],zipImg:function(d){var c=APP.form._select.image;var a=c.zipPaths;if(a.length==c.selectCount){c.uploadImg()}else{JE.showWaiting("图片压缩中...",true);var e=Ext.isArray(d)?d:[d];d=e[0];e.splice(0,1);var b=JE.uuid()+d.substring(d.lastIndexOf("."));plus.zip.compressImage({src:d,dst:"_doc/"+b,quality:50},function(g){var f=g.target;a.push(f);c.zipImg(e)},function(f){alert(f.message)})}},uploadImg:function(){var d=APP.form._select.image;JE.showWaiting("上传中...",true);var a=d.zipPaths,e=d.fieldName;while(a.length>0){var c=a[0];a.splice(0,1);var b=plus.uploader.createUpload(JE.buildURL("/doc/docAction!uploadFile.action?login=TRUE"),{},function(g,f){if(f==200){var i=Ext.decode(g.responseText);if(i.success){var h={name:i.obj.DOCUMENT_DOCNAME,bigCls:i.obj.DOCUMENT_BIGICONCLS,cls:i.obj.DOCUMENT_ICONCLS,path:i.obj.DOCUMENT_ADDRESS,id:""};d.buildImg(e,h);if(JE.isEmpty(a)){JE.showWaiting("上传成功！",true);JE.closeWaiting()}}}else{alert("Upload failed: "+f)}});b.addFile(c,{key:"formUploadFiles"});b.addData("filePath","/filestem");b.start()}}},sswin:function(a){var i=APP.form.getFields(a),b=i.options,j=i.getValue(),h="list",d={};var c=APP.form.getValues();var f=APP.parentInfo?APP.parentInfo.values:{};if(i.xtype=="treessfield"){h="tree";var d={},e=Ext.value(b.otherConfig,{});Ext.iterate(e,function(k,m){if(JE.isNotEmpty(m)&&JE.isNotEmpty(m.match(/\{.*?\}/g))){var l="";if(JE.isNotEmpty(m.match(/\{#.*?\#}/g))){l=m.replaceAll("{#","").replaceAll("#}","")}else{l=JE.toXT(m,c,f)}d[k]=l}})}else{if(i.xtype=="queryuserfield"){h="user"}}var g=b.whereSql;if(JE.isNotEmpty(g)&&JE.isNotEmpty(g.match(/\{.*?\}/g))){g=JE.toXT(g,c)}JE.selectWin({title:b.label,configInfo:b.configInfo,otherConfig:b.otherConfig,whereSql:g,enableExp:b.enableExp,enableTip:b.enableTip,value:j,type:h,app:APP.form._apps[b.configInfo.split(",")[0]],params:d,callback:function(l,p){var q=[],m=b.configInfo.split(",");var k=(m[1]||a).split("~");var o=(m[2]||p).split("~");var n={};Ext.each(k,function(s,r){var t=[];Ext.each(l,function(v){var u=o[r];var w=v[u];if(h=="user"&&v.bean&&v.bean[u]){w=v.bean[u]}t.push(w)});n[s]=t.join(",")});APP.form.setValues(n);if(APP.doListeners4Field){APP.doListeners4Field("query",i,l)}}})}},_refreshList:function(){if(!mui.os.plus){return}var a=plus.webview.getWebviewById(APP.info.appCode);if(a&&a.isVisible()){a.evalJS("APP.list.refresh();")}},_refreshParent:function(a){if(!mui.os.plus||!APP.parentInfo){return}var b=plus.webview.getWebviewById(APP.parentInfo.webviewId);if(b){b.evalJS("APP.form.refreshChild('"+APP.info.appCode+"','"+a+"');")}},_buildFieldExp:function(){Ext.iterate(APP.form.fields,function(b){var a=b.options})},initData:function(a,b){if(a=="form"){Ext.each(APP.info.childFunc,function(c){mui.preload({url:c+"_form.html",id:APP.info.appCode+"_"+c+"_form",styles:{},extras:{}})})}JE.ajax({url:"/je/appAction!doInitForm.action",params:{ddListCodes:(APP.info.dics||[]).join(","),appCodes:(APP.info.apps||[]).join(","),apkId:APP.info.apkId,appId:APP.info.appId},callback:function(d,c){if(a=="search"){APP.info.defaultValues={};APP.listeners={}}else{APP.perm.form(c.perms)}APP.form.initChildApps(c.apps);JE.setDicCache(c.dics);Ext.iterate(APP.info.defaultValues,function(g,i){var l=APP.info.fields[g];if(l&&l.dicCode){var k=JE.getDicItems(l.dicCode,true);var e=l.configInfo.split(","),h=e[1]?e[1].split("~"):[],f=e[2]?e[2].split("~"):[];var j={};Ext.each(h,function(p,m){var n=f[m];var o=[];Ext.each(i.split(","),function(r){var q=k[r]||{};o.push(q[n]||"")});j[p]=o.join(",")});Ext.apply(APP.info.defaultValues,j)}});APP.form.rendered=true;if(b){b()}}})},initForm:function(){APP.form.fields={};mui(".je-form .je-submit-field").each(function(){var f=this,c=["name","xtype"];var e={};for(var d=0;d<c.length;d++){var b=c[d];e[b]=JE.value(f.getAttribute("data-"+b),"")}e.options=APP.info.fields[e.name];if(e.options){e.submitField=true;e.dom=f;APP.form._createField(e)}});APP.form._buildFieldExp();var a=function(b){var c="";if(JE.isNotEmpty(b.fontcolor)){c+="color:"+b.fontcolor+";"}if(JE.isNotEmpty(b.bgcolor)){c+="background-color:"+b.bgcolor+";"}return c};APP.form.childApps={};APP.form.childDataMap={};mui(".je-form .je-formitem").each(function(){var m=this,c=m.getAttribute("data-name");var b=APP.info.formitems[c],g=b.configInfo;if(b.xtype=="button"){m.innerHTML='<button type="button" class="mui-btn mui-btn-link item" style="'+a(g)+'">'+b.label+"</button>"}else{if(b.xtype=="link"){Ext.each(g.links,function(i,n){m.innerHTML+='<button type="button" class="mui-btn mui-btn-link item" style="'+a(i)+'" data-index="'+n+'">'+i.text+"</button>"})}else{if(b.xtype=="child"){m.classList.add("func");m.innerHTML='<button type="button" class="mui-btn mui-btn-link mui-icon mui-navigate-right item" style="'+a(g)+'"> '+b.label+'（<span class="badge">0</span>）</button>'}else{if(b.xtype=="childfuncfield"){m.classList.add("form");m.innerHTML='<div class="mui-card mui-table-view je-list"></div><button type="button" class="mui-btn mui-btn-link mui-icon fa fa-plus item" style="'+a(g)+'"> '+b.label+'（<span class="badge">0</span>）</button>'}else{m.parentNode.removeChild(m);m=null}}}}if(JE.isNotEmpty(m)){if(JE.isNotEmpty(b.textAlign)){var d="textalign-"+b.textAlign;m.classList.add(d)}if(["child","childfuncfield"].indexOf(b.xtype)!=-1){var k=b.configInfo.funcCode;var j=APP.form.childApps[k]=APP.form.childApps[k]||[];if(j.indexOf(c)==-1){j.push(c)}}var l=["name","xtype"];var f={options:b};for(var e=0;e<l.length;e++){var h=l[e];f[h]=JE.value(m.getAttribute("data-"+h),"")}f.submitField=false;f.dom=m;APP.form._createField(f)}})},renderForm:function(){mui(".je-form").on("tap",".je-formitem .item",function(){var i=this,c=i.parentNode.getAttribute("data-name");JE.clearFocus();var h=APP.form.getFields(c);var a=h,e=h.configInfo;if(a.xtype=="link"){var d=JE.toNum(i.getAttribute("data-index"));var b=e.links[d]||{};if(JE.isEmpty(b.link)){JE.msg("链接地址不存在！");return}if(mui.os.plus){if(b.open=="app"){plus.runtime.openURL(b.link,function(j){JE.msg("链接地址错误，请检查！")})}else{JE.showFunc({text:b.text,info:b.link,code:JE.uuid(),type:"link"})}}else{window.open(b.link)}}else{if(a.xtype=="button"){var f=e.button;APP.doListeners4Button(f)}else{var g=APP.doListeners4Field("beforeclick",h);if(g!=false){APP.form.editChild(c)}}}});mui(".je-form").on("tap",".je-formitem-childfunc .je-list .mui-table-view-cell",function(){var b=this,c=b.getAttribute("data-id");var a=Ext.get(b).up(".je-formitem-childfunc").getAttribute("data-name");APP.form.editChild(a,c)});mui(".je-form").on("tap",'.je-formitem-childfunc .je-list .mui-table-view-cell a[data-code="gridRemoveBtn"]',function(){var b=this,c=b.parentNode.getAttribute("data-id");var a=Ext.get(b).up(".je-formitem-childfunc").getAttribute("data-name");JE.confirm("确定删除吗？",function(g){var d=g.index;if(d==1){var f=APP.form.getFields(a),h=f.getApp();JE.ajax({url:Ext.value(h.action,"/je/dynaAction")+"!doRemove.action",params:{ids:c,tableCode:h.tableName},callback:function(i,e){if(e.success){JE.msg(e.obj);APP.form.refreshChild(h.appCode,"remove")}else{JE.alert(e.obj)}}})}},"删除")});mui(".je-form").on("tap",".je-select-field .je-select-clear",function(){var d=this.parentNode.querySelector(".je-submit-field"),b=d.getAttribute("data-name"),c=APP.form.getFields(b);JE.clearFocus(c.dom);c.reset();if(["gridssfield","treessfield","cgroup","rgroup"].indexOf(c.xtype)!=-1){var a=c.options.configInfo.split(",");if(JE.isNotEmpty(a[1])){Ext.each(a[1].split("~"),function(e){if(b!=e){APP.form.resets(e)}})}}});mui(".je-form").on("tap",".je-field .mui-input-clear~.mui-icon-clear",function(){var c=this.parentNode.querySelector(".je-submit-field"),a=c.getAttribute("data-name"),b=APP.form.getFields(a);b.reset()});mui(".je-form").on("tap",".je-select-field",function(g){var d=this.getAttribute("class");if(d.indexOf("je-input-readonly")!=-1){return}var b=g.target.getAttribute("class");if(b&&(b.indexOf("je-input-body")!=-1||b.indexOf("je-select-icon")!=-1)){JE.clearFocus();var i=this.querySelector(".je-submit-field"),h=this.getAttribute("class"),c=i.getAttribute("data-name"),f=APP.form.getFields(c);if(APP.doListeners4Field){var a=APP.doListeners4Field("beforequery",f);if(a==false){return}}if(h.indexOf("je-input-date")!=-1){APP.form._select.date(c)}else{if(h.indexOf("je-input-crgroup")!=-1){APP.form._select.crgroup(c)}else{if(h.indexOf("je-input-ssfield")!=-1){APP.form._select.sswin(c)}}}}});mui(".je-form").on("toggle",".je-input-switch .je-submit-field",function(){var b=event.detail.isActive?"1":"0";var c=this.parentNode.querySelector(".je-submit-field"),a=field.getAttribute("data-name");APP.form.setValues(a,b)});if(mui.previewImage){mui.previewImage()}mui(".je-form").on("tap",".je-input-image .image-item .file",function(){event.stopPropagation();JE.clearFocus();var b=this,a=b.getAttribute("data-path");var c="docs"+a.substring(a.lastIndexOf("/"));if(!mui.os.plus){window.open(a);return}plus.io.resolveLocalFileSystemURL(JE.getBasicPath("download/"+c),function(d){plus.runtime.openFile(d.fullPath)},function(){JE.download({url:JE.buildURL(a),fileName:c,callback:function(d){JE.closeWaiting();JE.msg("下载完成！");plus.runtime.openFile(d)}})})});mui(".je-form").on("tap",".je-input-image .image-item .image-item-close",function(){event.stopPropagation();JE.clearFocus();var a=this.parentNode;a.parentNode.querySelector(".image-item-add").style.display="";a.parentNode.removeChild(a)});mui(".je-form").on("tap",".je-input-image .image-item-add",function(){var e=this,f=e.parentNode.getAttribute("data-name"),c=APP.form.getFields(f);JE.clearFocus();if(c.readOnly){return}var a=c.multiple,d=a?10:1;d=d>10?10:d;var b=APP.form._select.image;Ext.apply(b,{fieldName:f,selectCount:0,zipPaths:[]});JE.actionSheet("选择图片",function(i){if(!mui.os.plus){JE.alert("网页不支持！");return}if(i.index==1){plus.camera.getCamera().captureImage(function(j){b.selectCount=1;b.zipImg(j)},function(j){},{filename:"_doc/camera/",index:1})}else{if(i.index==2){var g=d;if(a){var h=c.down(".image-item",true).length;g=d-h}plus.gallery.pick(function(j){if(a){b.selectCount=j.files.length;b.zipImg(j.files)}else{b.selectCount=1;b.zipImg(j)}},function(j){},{maximum:g,filename:"_doc/camera/",filter:"image",multiple:a,system:!a})}}},["拍照","从相册中选择图片"])});mui("header").on("tap",".je-doact",function(){JE.clearFocus();APP.form.showButtons()});mui("body").on("tap",".je-act-button",function(){var b=this,a=b.getAttribute("data-code");JE.clearFocus();APP.doListeners4Button(a)})},initWFForm:function(a){APP.form_type="WFFORM";var d=JE.select(".je-form");var b=a.form,c=a.info;APP.info=b.info;APP.info.perms=a.perms;APP.selectwinApps=a.apps;d.innerHTML=b.fields;APP.form.initChildApps(a.apps);APP.perm.form(a.perms);APP.form.initForm();APP.form.loadRecord(c.bean)},refreshWFForm:function(c){JE.showWaiting("加载中...");var b=APP.info.tableName,a=APP.form.getFields(APP.info.pkName).getValue();JE.ajax({url:"je/appAction!initWFData.action",params:{tableCode:b,pkValue:a,doTaskName:"",apkId:JE.getApkID()||APP.info.apkId,appId:APP.info.appId,form:"1"},callback:function(f,d){JE.closeWaiting();var e=d.info;APP.form.doWFFormEdit(e.bean,e);if(e.info){Ext.each(e.info.changeFields,function(h){var g=APP.form.getFields(h);if(g){g.setValue(e.bean[h])}})}if(c){c()}}})},doWFFormEdit:function(b,c){APP.workflow=APP.workflow||{};APP.workflow._initData={bean:b,wfInfo:c};APP.form.resetForm();var a=JE.select("header .je-doact");var g=Ext.value(c.audFlag,"NOSTATUS");if(c.info&&c.info.enabled!=true){g="NOSTATUS"}APP.form.wfButtons=[];if(g=="NOSTATUS"){var e=APP.form.buildWFStartBtns(b,c);APP.form.wfButtons=Ext.clone(APP.form.buttons);APP.form.wfButtons=APP.form.wfButtons.concat(e);a.style.display=APP.form.wfButtons.length>0?"":"none";return}APP.form.setReadOnly(g!="NOSTATUS");var h=c.currentNode;var d={showFields:{type:"field",data:[],act:"show"},hideFields:{type:"field",data:[],act:"hide"},editFields:{type:"field",data:[],act:"setReadOnly",params:false},readOnlyFields:{type:"field",data:[],act:"setReadOnly",params:true},notNullFields:{type:"field",data:[],act:"setAllowBlank",params:false},showChildren:{type:"child",data:[],act:"show"},hideChildren:{type:"child",data:[],act:"hide"},editChildren:{type:"child",data:[],act:"setReadOnly",params:false},enabledButtons:{type:"button",data:[],act:"show"}};Ext.iterate(d,function(i,j){if(!Ext.isEmpty(h[i])){j.data=h[i].split(",");if(["editFields","editChildren"].indexOf(i)!=-1&&c.doTaskEdit==false){j.params=true;j.data=[]}if(i.lastIndexOf("Fields")!=-1){Ext.each(j.data,function(l){var k=APP.form.getFields(l);if(k){k[j.act](j.params)}})}else{if(i.lastIndexOf("Children")!=-1){Ext.each(j.data,function(k){var l=APP.form.childApps[k];Ext.each(l,function(m){var n=APP.form.getFields(m);if(n){n[j.act](j.params)}})})}}}});var e=d.enabledButtons.data;Ext.each(APP.form.buttons,function(i){if(i.code!="formSaveBtn"&&e.indexOf(i.code)!=-1){APP.form.wfButtons.push(i)}});if(APP.form_type=="FORM"){if(g!="ENDED"){APP.form.wfButtons.push({text:"流程审批",title:"流程审批",code:"do_wf",bean:b,wfInfo:c})}APP.form.wfButtons.push({text:"流程追踪",title:"流程追踪",code:"do_wfinfo",bean:b,wfInfo:c})}a.style.display=APP.form.wfButtons.length>0?"":"none";if(APP.info.enableSave){var f=JE.select(".saveBtn.je-act-button");f.style.display=d.editFields.data.length>0?"":"none"}},buildWFStartBtns:function(bean,wfInfo){var btns=[];Ext.each(wfInfo.startNodes,function(info){var btn={wfButton:true,pdid:info.processDefinitionId,pkValue:wfInfo.pkValue,_info:info,text:"",code:"",title:""};if(info.sponsorAble){btn.code="wfSponsorBtn";btn.text="发起"}else{btn.code="wfStartBtn";btn.text="启动"}var zdyText=info.buttonInfos[btn.code].zdyText;btn.text=Ext.isEmpty(zdyText)?btn.text+"->"+info.processName:zdyText;btn.title=btn.text;var flag=true;if(JE.isNotEmpty(info.startExp)){var exp=info.startExp;exp=JE.toXT(exp,bean);flag=Ext.value(JE.eval(exp),false)}var currentUser=JE.getCurrentUser();if(!flag){}else{if(!info.anyoneStartAble&&bean.SY_CREATEUSER==currentUser.userCode){flag=true}else{if(info.anyoneStartAble){flag=true}else{if(!Ext.isEmpty(info.startRoles)){var currentRoles=Ext.value(currentUser.roleCodes,"").split(",");Ext.each(info.startRoles.split(","),function(role){if(currentRoles.indexOf(role)!=-1){flag=true}})}}}}if(flag){btns.push(btn)}});return btns},init:function(){APP.form_type="FORM";mui.ready(function(){mui.init({swipeBack:true});APP.form.renderForm();APP.form.initForm();if(!mui.os.plus){var a=window.location.href.split("?")[1];if(a){a=Ext.Object.fromQueryString(a);modelId=a.modelId}mui.trigger(window,"init",{modelId:modelId})}});if(mui.os.plus){mui.plusReady(function(){APP.form.initData("form",function(){if(APP.info.homePage=="FORM"){mui.trigger(window,"init",{model:{}})}})})}else{APP.form.initData("form")}window.addEventListener("init",function(){var a=event.detail;if(APP.form.rendered){APP.form.activate(a)}else{JE.showWaiting("表单初始化...");JE.defer(function(){if(APP.form.rendered){JE.closeWaiting();APP.form.activate(a);return false}},100)}});window.addEventListener("apppush",function(){var a=event.detail;APP.doListeners4Form("apppush",a)});window.addEventListener("do_workflow_after",function(){APP.form.doSaveAfter()});if(mui.os.plus&&APP.workflow){APP.workflow.init(true)}}};if(document.documentElement.getAttribute("data-type")=="form"){APP.form.init()}var APP=APP||{};APP.info=APP.info||{};APP.list={selections:{},getSelection:function(e){var c=[];if(JE.isNotEmpty(e)){var b=Ext.clone(APP.list.store.getById(e));var d=APP.dom.list.querySelector('.mui-table-view-cell[data-id="'+e+'"]');c.push({data:b,dom:d})}else{var a=APP.dom.list.querySelectorAll("input[type=checkbox]");Ext.each(a,function(f){if(f.checked){var h=f.getAttribute("data-id"),g=APP.list.store.getById(h);c.push({data:Ext.clone(g),dom:f.parentNode})}})}return c},refresh:function(){APP.list._loadPage(1)},nextPage:function(){APP.list._loadPage(APP.list.store.page+1)},readOnly:false,setReadOnly:function(b){if(APP.list.readOnly==b){return}APP.list.readOnly=b;APP.list.setCellSliderDisabled(b);if(JE.isNotEmpty(APP.list.buttons)){var a=JE.select(".je-list-btn");if(a){a.style.display=b?(APP.list.noReadOnlyBtns.length>0?"":"none"):(APP.list.enableInsert?"":"none")}}},editForm:function(a,b){if(APP.list.list_multiple_ing||!APP.list.enableEdit){return}if(mui.os.plus){JE.fire(APP.info.appCode+"_form","init",{model:a,parentInfo:APP.parentInfo})}else{var c=JE.isEmpty(a)?"":a[APP.info.pkName];window.location.href=window.location.href.replace("index.html","form.html?modelId="+c)}},getStore:function(){return APP.list.store},listType:document.documentElement.getAttribute("data-type"),list_multiple_ing:false,setCellSliderDisabled:function(b){var c=JE.select(".je-list"),d=c.classList,a="mui-slider-disable";if(APP.list.readOnly){b=APP.list.readOnly}if(b){if(!d.contains(a)){d.add(a)}}else{if(d.contains(a)){d.remove(a)}}},_doInit:function(){APP.itemTpl=APP.list._buildItemTpl();APP.renderer=JE.isEmpty(APP.info.renderer)?null:JE.eval(APP.info.renderer);APP.list.store=JE.createStore({url:Ext.value(APP.info.action,"/je/dynaAction")+"!load.action",params:{tableCode:APP.info.tableName,orderSql:APP.info.orderSql},pageSize:APP.info.pageSize,idName:APP.info.pkName});if(mui.os.plus){mui.plusReady(function(){APP.list._buildParentInfo();APP.list.refresh();APP.doListeners4List("renderer")})}else{APP.list.refresh();APP.doListeners4List("renderer")}},_buildParentInfo:function(){var a=plus.webview.currentWebview(),c=a.app.info;if(c){APP.parentInfo=c||{};var b=JE.select("header .mui-action-back");b.innerHTML='<span class="parenttitle">'+c.appName+"<span>";APP.list.setReadOnly(Ext.value(c.readOnly,false))}},_loadPage:function(d,f){var c=APP.info.whereSql,b=Ext.value(APP.info.keywordSql,""),e=APP.parentInfo?Ext.value(APP.parentInfo.sql,""):"";var a=JE.select(".je-header .je-act-dosearch .dosearch-tip");if(a){a.style.visibility=JE.isEmpty(b)?"hidden":"visible"}c+=b;c+=e;c=JE.toXT(c,{});APP.dom.listPageText.style.display="none";JE.showWaiting("加载中...");APP.list.store.loadPage(d,{params:{whereSql:c},callback:function(l,h){JE.closeWaiting();var g=l.rows,j="";if(APP.renderer&&APP.itemTpl){var i=h.start+1;Ext.each(g,function(q,m){var p=Ext.clone(q);var o=APP.renderer(p);o=o.replaceAll("{#}",m+i);var n=APP.itemTpl.replace("{bodyTpl}",o);j+=JE.toXT(n,p)})}if(h.page==1){APP.dom.list.innerHTML=j}else{APP.dom.list.innerHTML+=j}Ext.get(APP.dom.listPageText)[h.page>=h.totalPage?"addCls":"removeCls"]("text-disable");APP.dom.listPageText.innerHTML="第"+h.page+"页/共"+h.totalPage+"页";APP.dom.listPageText.style.display=h.totalPage>1?"":"none";mui(".je-content .je-list input").each(function(){var m=this.parentNode.getAttribute("data-id");if(APP.list.selections[m]){this.checked=this}});if(APP.dom.selectAll){APP.dom.selectAll.checked=false}if(f){f()}APP.doListeners4List("load");if(APP.parentInfo){var k=plus.webview.getWebviewById(APP.parentInfo.webviewId);if(k){k.evalJS("APP.form.refreshChild();")}}}})},_buildItemTpl:function(){var c=APP.list.innerBtns,d="",b=APP.info.pkName;if(c.length>0&&APP.list.listType!="list_view"){d='<div class="je-slider mui-slider-handle je-cell-body">{bodyTpl}</div><div class="je-slider-button mui-slider-right mui-disabled" data-id="{'+b+'}">'+JE.toXT(['<tpl for=".">','<a class="je-act-button mui-btn {cls}" data-code="{code}">{text}</a>',"</tpl>"].join(""),c)+"</div>"}else{d='<div class="je-cell-body">{bodyTpl}</div>'}var a=['<div class="je-audio-btn mui-table-view-cell {%if(APP.list.list_multiple_ing){%} mui-checkbox mui-left {%}%}" data-id="{id}">','<input type="checkbox"  data-id="{id}" style="display:{%if(!APP.list.list_multiple_ing){%}none{%}%};"/>',"{bodyTpl}","</div>"].join("");a=a.replaceAll("{id}","{"+APP.info.pkName+"}").replace("{bodyTpl}",d);return a},_doMultiple:function(a){APP.list.setCellSliderDisabled(a);mui(".je-list .mui-table-view-cell").each(function(){var c=Ext.get(this);c[a?"addCls":"removeCls"]("mui-checkbox mui-left");var b=c.child("input[type=checkbox]",true);b.style.display=a?"":"none";b.checked=false});if(JE.isNotEmpty(APP.list.buttons)){APP.dom.listBtn.style.display=a?"none":""}APP.dom.selectAll.checked=false;APP.list.list_multiple_ing=a;APP.list._pullrefresh.enablePulldown=!a;if(APP.dom.doSearchBtn){APP.dom.doSearchBtn.style.display=!a?"":"none"}APP.dom.listPageText.style.display=!a&&APP.list.store.totalPage>1?"":"none";APP.dom.footer.style.display=a?"inherit":"none";APP.dom.content.style.paddingBottom=a?"40px":"0px";APP.dom.multipleActBtn.style.display=JE.isEmpty(APP.list.innerBtns)?"none":(a?"":"none")},initData:function(){if(!mui.os.plus){var a=window.location.href.split("?")[1];if(a){a=Ext.Object.fromQueryString(a);APP.info.keywordSql=Ext.value(a.sql,"")}}JE.ajax({url:"/je/appAction!doInitList.action",params:{ddListCodes:(APP.info.dics||[]).join(","),apkId:APP.info.apkId,appId:APP.info.appId},callback:function(c,b){APP.perm.list(b.perms);JE.setDicCache(b.dics);APP.list._doInit()}})},init:function(){mui.init({preloadPages:[{url:"form.html",id:APP.info.appCode+"_form"},{url:"search.html",id:APP.info.appCode+"_search"}],gestureConfig:{longtap:true,doubletap:true},beforeback:function(){if(mui.os.ios){return true}else{var a=APP.list.list_multiple_ing;if(a){APP.list._doMultiple(false)}return !a}}});mui.ready(function(){APP.dom={loader:JE.select(".je-loader"),header:JE.select(".je-header"),doSearchBtn:JE.select(".je-header .je-act-dosearch"),cancelBtn:JE.select(".je-footer .je-act-cancel"),content:JE.select(".je-content"),list:JE.select(".je-content .je-list"),listPageText:JE.select(".je-content .je-list-pagetext"),listBtn:JE.select(".je-list-btn"),footer:JE.select(".je-footer"),multipleBar:JE.select(".je-footer .je-multiple-act"),multipleActBtn:JE.select(".je-header .je-act-morebtn"),selectAll:JE.select(".je-footer .je-multiple-act input[type=checkbox]")};APP.dom.content.style.paddingBottom="0px";if(APP.dom.doSearchBtn&&JE.isEmpty(APP.info.searchs)){APP.dom.doSearchBtn.style.display="none";delete APP.dom.doSearchBtn}APP.list._pullrefresh=mui(".je-content").pullRefresh4HTML({down:{callback:function(){APP.list._loadPage(1,function(){APP.list._pullrefresh.endPulldownToRefresh();JE.msg("刷新完成！")})}}});JE.on(APP.dom.listPageText,"tap",function(){if(!Ext.get(this).hasCls("text-disable")){APP.list.nextPage()}});mui(".je-header").on("tap",".je-act-dosearch",function(){if(mui.os.plus){mui.openWindow({id:APP.info.appCode+"_search",show:{aniShow:"slide-in-right"},waiting:{autoShow:true}})}else{window.location.href=window.location.href.replace("index.html","search.html")}});mui(".je-header").on("doubletap",".mui-title",function(){APP.list._pullrefresh.scrollTo(0,0,500)});mui(".je-footer").on("tap",".je-act-cancel",function(){APP.list._doMultiple(false)});mui(".je-multiple-act").on("change","input[type=checkbox]",function(){var a=this.checked;mui(".je-list .mui-table-view-cell input[type=checkbox]").each(function(){this.checked=a})});mui(".je-list").on("longtap",".mui-table-view-cell",function(){if(APP.list.list_multiple_ing||APP.list.readOnly||APP.list.listType=="list_view"){return}APP.list._doMultiple(true)});mui(".je-list").on("tap",".mui-table-view-cell",function(){if(APP.list.list_multiple_ing||APP.list.listType=="list_view"){return}var c=this,d=c.getAttribute("data-id");var b=APP.list.store.getById(d);var a=APP.doListeners4List("itemclick",b,c);if(a!=false){APP.list.editForm(b,c)}});mui(".je-header").on("tap",".je-act-morebtn",function(){JE.actionSheet("",function(b){if(b.index<=0){return}var a=APP.list.innerBtns[b.index-1].code;APP.doListeners4Button(a)},APP.list.innerBtns)});mui("body").on("tap",".je-act-button",function(){var b=this,a=b.getAttribute("data-code");APP.doListeners4Button(a,b)})});if(mui.os.plus){mui.plusReady(function(){APP.list.initData()})}else{APP.list.initData()}window.addEventListener("apppush",function(){var a=event.detail;APP.doListeners4List("apppush",a)})}};if(["list","list_view"].indexOf(APP.list.listType)!=-1){APP.list.init()}var APP=APP||{};APP.info=APP.info||{};APP.search={initSearchs:function(){var c=APP.info.searchs,a={};var b=['<div class="mui-card-header"><span><i class="mui-icon fa fa-book"></i> {text}</span><tpl if="clear"><i class="mui-icon fa fa-trash-o clear"></i></tpl></div>','<div class="mui-card-content {type}">',"{content}","</div>"].join("");Ext.each(c,function(h){var g=h.code;if(h.visible=="1"){var f=APP.info.fields[g];f.search=h.search;if(f.xtype=="rgroup"){f.xtype="cgroup"}var i=document.createElement("div");i.setAttribute("class","mui-card je-card field");i.setAttribute("data-code",g);if(h.show=="tile"&&f.dicCode){f.search="in";var e=JE.getDicItems(f.dicCode);var d=['<div class="item item-all mui-active">全部</div>'];Ext.each(e,function(j){d.push(JE.toXT('<div class="item" data-code="{code}" data-field="{field}">{text}</div>',{text:j.text,code:j.code,field:g}))});i.innerHTML=JE.toXT(b,{text:h.text,content:d.join(""),type:"dic"})}else{var d="";if(JE.isNotEmpty(f.between)){if(f.between=="number"){d=['<div class="mui-table-view mui-grid-view between">','<div class="mui-table-view-cell mui-col-xs-6">',f.searchTpl,"</div>",'<div class="mui-table-view-cell mui-col-xs-6">',f.betweenTpl,"</div>","</div>"].join("")}else{d=[f.searchTpl,f.betweenTpl].join("")}APP.info.fields[g+"_between"]=Ext.clone(f)}else{d=f.searchTpl}i.innerHTML=JE.toXT(b,{text:h.text,content:d,clear:JE.isNotEmpty(f.between)})}JE.get("je-content").appendChild(i)}})},initHistory:function(){var c=JE.select("#je-content .history .mui-card-content");if(!mui.os.plus){c.parentNode.style.display="none";return}var a=Ext.decode(JE.getLSItem(APP.search.historyKey)||"[]");var b=[];Ext.each(a,function(d){b.push('<div class="item">'+d+"</div>")});c.innerHTML=b.join("")},doSearch:function(){var c=JE.get("search_keyword").value;if(JE.isNotEmpty(c)){var b=Ext.decode(JE.getLSItem(APP.search.historyKey)||"[]");while(b.indexOf(c)!=-1){b.splice(b.indexOf(c),1)}b.unshift(c);if(b.length>10){b=b.slice(0,10)}JE.setLSItem(APP.search.historyKey,Ext.encode(b));APP.search.initHistory()}var f=APP.form.getValues();mui(".je-card.field .dic").each(function(){var j=this.parentNode.getAttribute("data-code"),k=[];var i=this.querySelectorAll(".mui-active");Ext.each(i,function(l){if(l.classList.contains("item-all")){return false}else{k.push(l.getAttribute("data-code"))}});f[j]=k.join(",")});var e=[];Ext.iterate(f,function(i,l){if(i.indexOf("_between")==-1){var j=i+"_between";if(JE.isNotEmpty(f[i])){var k=APP.info.fields[i];if(JE.isNotEmpty(f[j])){e.push(i+" BETWEEN '"+f[i]+"' AND '"+f[j]+"' ")}else{if(k.xtype=="textfield"||k.search=="in"){e.push(JE.buildWhereSql({code:i,value:l,type:k.search=="no"?"like":k.search}))}else{e.push(i+"='"+f[i]+"'")}}}}});if(JE.isNotEmpty(c)){var h=[];Ext.each(APP.info.searchs,function(j){var i=Ext.value(j.search,"no");if(i!="no"){h.push(JE.buildWhereSql({code:j.code,value:c,type:i}))}});if(h.length>0){e.push("("+h.join(" OR ")+")")}}var g="";if(e.length>0){g=" AND "+e.join(" AND ")}if(mui.os.plus){var a=plus.webview.currentWebview();a.hide();var d=a.opener();setTimeout(function(){d.evalJS(['APP.info.keywordSql = "'+g+'";',"APP.list.refresh();"].join(""))},200)}else{g=JE.encodeURI(g);window.location.href=window.location.href.replace("search.html","index.html?sql="+g)}},afterinitdata:function(){APP.search.initSearchs();mui(".mui-input-row input").input();APP.form.renderForm();APP.form.initForm();APP.form.resets();APP.search.initHistory()},init:function(){mui.init();mui.ready(function(){APP.search.historyKey=APP.info.apkId+"_"+APP.info.appId+"_history";JE.on("clear_history","tap",function(){JE.clearFocus();JE.confirm("确定清空最近搜索吗？",function(a){if(a.index==1){JE.setLSItem(APP.search.historyKey);APP.li.initHistory();JE.msg("清空完成！")}})});mui(".je-card.history").on("tap",".item",function(){JE.clearFocus();var a=this;JE.get("search_keyword").value=a.innerHTML;APP.search.doSearch()});mui(".je-content").on("tap",".je-card.field .clear",function(){JE.clearFocus();var a=this.parentNode.parentNode.getAttribute("data-code");APP.form.resets(a);APP.form.resets(a+"_between")});mui(".je-content").on("tap",".je-card.field .dic .item",function(){JE.clearFocus();var d=this,c=d.parentNode;if(d.classList.contains("mui-active")&&!d.classList.contains("item-all")){d.classList.remove("mui-active")}else{d.classList.add("mui-active")}if(d.classList.contains("item-all")){var b=c.querySelectorAll(".item");Ext.each(b,function(f){if(f!=d&&f.classList.contains("mui-active")){f.classList.remove("mui-active")}})}else{var a=c.querySelector(".item-all");var e=c.querySelector(".mui-active");if(!e){a.classList.add("mui-active")}else{if(a.classList.contains("mui-active")){a.classList.remove("mui-active")}}}});JE.on("search_keyword","keyup",function(){if(event.keyCode==13){APP.search.doSearch()}});mui("body").on("tap",".btn-search",function(){JE.clearFocus();APP.search.doSearch()});mui("footer").on("tap",".btn-reset",function(){JE.clearFocus();JE.get("search_keyword").value="";APP.form.resets();mui(".je-card.field .dic").each(function(){var a=this.querySelectorAll(".item");Ext.each(a,function(b){if(b.classList.contains("mui-active")){b.classList.remove("mui-active")}if(b.classList.contains("item-all")){b.classList.add("mui-active")}})})})});if(mui.os.plus){mui.plusReady(function(){APP.form.initData("search",APP.search.afterinitdata)})}else{APP.form.initData("search",APP.search.afterinitdata)}}};if(document.documentElement.getAttribute("data-type")=="search"){APP.search.init()};