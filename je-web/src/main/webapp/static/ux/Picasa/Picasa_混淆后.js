var D=function(element){return typeof element=="object"?element:document.getElementById(element);},BD=function(){var AO,AQ;if(self.innerHeight){AO=self.innerWidth;AQ=self.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){AO=document.documentElement.clientWidth;AQ=document.documentElement.clientHeight;}else if(document.body){AO=document.body.clientWidth;AQ=document.body.clientHeight;}var BC,BE;BC=document.body.clientWidth;BE=document.body.clientHeight;return new Array(AO,AQ,BC,BE);},A5=function(e){var Ae;if(navigator.userAgent.match(/msie/i)){var AI;if(typeof window.pageYOffset!="undefined"){AI=[window.pageXOffset,window.pageYOffset];}else if(typeof document.BK!="undefined"&&document.BK!="BackCompat"){AI=[document.documentElement.scrollLeft,document.documentElement.scrollTop];}else if(typeof document.body!="undefined"){AI=[document.body.scrollLeft,document.body.scrollTop];}Ae=[window.event.clientX+AI[0]-document.body.B9,window.event.clientY+AI[1]-document.body.B_];}else{Ae=[e.pageX,e.pageY];}return Ae;},BX=function(B){B=B||document.body;var anchors=B.getElementsByTagName("a");var count=anchors.length;for(var I=0;I<count;I++){anchors[I].onfocus=function(){try{this.blur();}catch(e){}};}},opacity={AH:function(){var F=arguments;var B=D(F[0]);try{B.BY.BU.opacity=F[1];}catch(e){B.style.opacity=F[1]/100;B.style.CB="alpha(opacity="+F[1]+")";}},BV:function(){var B=D(arguments[0]),r;try{r=parseInt(B.BY.BU.opacity,10);if(isNaN(r)){r=100;}}catch(e){r=B.style.opacity;r*=100;}return r;}},BB=function(status){var A7=document.getElementsByTagName("select");var count=A7.length;for(var I=0;I<count;I++){A7[I].style.visibility=status?"visible":"hidden";}},Event={add:function(B,e,m){B=D(B);if(B.addEventListener){B.addEventListener(e,m,false);}else if(B.attachEvent){B.attachEvent("on"+e,function(){return m.call(B,window.event);});}else{var Be=B["on"+e]||function(){};B["on"+e]=function(){Be();m();};}},remove:function(B,e,m){B=D(B);if(B.Bb){B.Bb(e,m,false);}else if(B.BT){B.BT("on"+e,m);}else{B["on"+e]=null;}},end:function(e){e=e||window.event;e.BR&&(e.B8(),e.BR())||(e.CA=true,e.returnValue=false);}};function Picasa(){}Picasa.prototype={author:"Mudoo",version:"1.0 Alpha",name:"MyPicasa",Ab:false,BN:true,BO:true,A6:true,Bk:true,Bg:true,B0:"Picasa/Picasa_Loading.gif",B1:"Picasa/Picasa_Error.gif",BA:36,Bx:50,A$:30,B3:80,B2:5,B7:8,B6:6,AV:6,A_:0.8,A8:10,A9:5000,AU:85,Bj:200,Bh:50,Bm:3000,Aq:10,_:null,AC:null,BF:null,AK:null,AN:null,AP:null,AT:null,AM:null,Ak:null,AS:null,U:[],k:-1,K:0,Ao:0,W:[0,0],Q:[0,0],T:100,Af:100,G:100,AR:[0,0],AE:[0,0],Ac:false,Ag:false,AJ:false,c:false,M:null,lng:{},initialize:function(){var self=this;var anchors=document.getElementsByTagName("a");var count=anchors.length;var Al,AY,img,name,H;for(var I=0;I<count;I++){Al=String(anchors[I].Bs("rel"));if(Al.match(/picasa/i)){AY=Al.replace(/picasa|[\[\s\]]/gi,"")+",";img=[anchors[I].getElementsByTagName("img")[0].src,AY.split(",")[0]];name=img[1].substr(img[1].lastIndexOf("/")+1);H=AY.split(",")[1];anchors[I].setAttribute("PicasaNo",this.U.length);anchors[I].onclick=function(){self.display(this);this.blur();return false;};this.U.push(new Array(img,name,[0,0],H));}}this.k=this.U.length;if(!this.Ab){this.Bt();this.B4();this.Br();BX(this.frame);if(this.BO){this.Bp();}Event.add(window,"unload",function(){self.Bf();});this.Ab=true;}},Bt:function(){this.V=document.createElement("div");this.V.id="PicasaMask";document.body.appendChild(this.V);this.frame=document.createElement("div");this.frame.id="PicasaView";this.frame.innerHTML="<img id=\"PV_Loading\" src=\""+this.B0+"\" />"+"<img id=\"PV_Error\" src=\""+this.B1+"\" />"+"<img id=\"PV_Picture\" src=\"\" />"+"<div id=\"PV_PerHint\"></div>"+"<div id=\"PV_Hint\"></div>"+"<div id=\"PV_Control\">"+"\t<ul id=\"PV_Items\"></ul>"+"\t<div id=\"PV_Buttons\">"+"\t\t<div id=\"PV_Zoom\"><a href=\"javascript: void(0);\" id=\"PV_Btn_ZoomActual\">1:1</a><a href=\"javascript: void(0);\" id=\"PV_Btn_ZoomOut\">-</a><a href=\"javascript: void(0);\" id=\"PV_Btn_ZoomIn\">+</a></div>"+"\t\t<div id=\"PV_Select\" class=\"PV_Btn_Normal\"><a href=\"javascript: void(0);\" id=\"PV_Btn_Prev\"></a><a href=\"javascript: void(0);\" id=\"PV_Btn_Slide\"></a><a href=\"javascript: void(0);\" id=\"PV_Btn_Next\"></a></div>"+"\t\t<div id=\"PV_AutoPlay\"><a href=\"javascript: void(0);\" id=\"PV_Btn_AutoPlay\">\xE8\x87\xAA\xE5\x8A\xA8\xE6\x92\xAD\xE6\x94\xBE</a></div>"+"\t</div>"+"</div>";document.body.appendChild(this.frame);this.C=D("PV_Picture");this.R=D("PV_Loading");this.Error=D("PV_Error");this.S=D("PV_PerHint");this.j=D("PV_Hint");this.L=D("PV_Control");this.O=D("PV_Items");this.Aj=D("PV_Buttons");this.s=D("PV_Btn_ZoomIn");this.v=D("PV_Btn_ZoomOut");this.z=D("PV_Btn_ZoomActual");this.AG=D("PV_Btn_Prev");this.AL=D("PV_Btn_Slide");this.AB=D("PV_Btn_Next");this.AD=D("PV_Btn_AutoPlay");this.V.style.display="none";this.frame.style.display="none";var self=this;this.M=new Image;this.M.onload=function(){self.AT=setTimeout(function(){self.Bq();},200);};this.M.onerror=function(){self.AT=setTimeout(function(){self.Bo();},200);};opacity.AH(this.V,this.Bx);},B4:function(){var A4="";for(var I=0;I<this.k;I++){A4+="<li><a href=\"javascript: void(0);\" onclick=\""+this.name+".changeImage("+I+"); return false;\"><img src=\""+this.U[I][0][0]+"\" /></li>";}this.O.innerHTML=A4;this.O.style.width=this.k*36+"px";},Bi:function(){this.V.style.display="";this.frame.style.display="";var J=BD();this.V.style.width=J[2]+"px";this.V.style.height=J[1]+"px";this.frame.style.width=J[2]+"px";this.frame.style.height=J[1]+"px";this.j.style.width=J[2]+"px";this.j.style.top=J[1]-this.L.offsetHeight-this.j.offsetHeight+"px";this.L.style.width=J[2]+"px";this.L.style.top=J[1]-this.L.offsetHeight+"px";this.Aj.style.left=(J[2]-this.Aj.offsetWidth)/2+"px";this.Ao=Math.round((J[2]-this.BA)/2);opacity.AH(this.O,0);this.O.style.left=this.Ao+"px";this.W=[Math.round(J[2]/2),Math.round((J[1]-this.L.offsetHeight)/2)];this.S.style.left=this.W[0]-Math.round(this.S.offsetWidth/2)+"px";this.S.style.top=this.W[1]-Math.round(this.S.offsetHeight/2)+"px";opacity.AH(this.S,0);},Br:function(){var self=this;this.frame.B$=function(){return false;};this.frame.onclick=function(){self.close();};this.C.onclick=Event.end;this.C.ondblclick=function(){var w=self.G==self.T?self.Af:self.T;if(self.Q.join(",")!="0,0"){w=self.T;self.Q=[0,0];}self.P(w,true);};this.Bl();this.R.onclick=Event.end;this.Error.onclick=Event.end;this.S.onclick=Event.end;this.L.onclick=Event.end;this.L.ondblclick=function(){var w=self.G==self.T?self.Af:self.T;if(self.Q.join(",")!="0,0"){w=self.T;self.Q=[0,0];}self.P(w,true);};this.L.onmouseover=function(){clearInterval(self._);self._=self.AA(1,self.O,100);};this.L.onmouseout=function(){clearInterval(self._);self._=self.AA(0,self.O,self.A$);};this.s.onmouseover=function(){self.H(self.lng.Bv);};this.s.onmouseout=function(){self.H();};this.s.onclick=function(){self.P(1);return false;};this.AX(this.s,"self.zoomAction(1);");this.v.onmouseover=function(){self.H(self.lng.Bn);};this.v.onmouseout=function(){self.H();};this.v.onclick=function(){self.P(-1);return false;};this.AX(this.v,"self.zoomAction(-1);");this.z.onmouseover=function(){self.H(self.G==100?self.lng.Bu:self.lng.By);};this.z.onmouseout=function(){self.H();};this.z.onclick=function(){self.P(self.G==100?self.T:0);return false;};this.AG.onmouseover=function(){self.H(self.lng.Bw);D("PV_Select").className="PV_Btn_PrevOver";};this.AG.onmouseout=function(){self.H();D("PV_Select").className="PV_Btn_Normal";};this.AG.onclick=function(){self.l(self.K-1);return false;};this.AX(this.AG,"self.changeImage(self.currentNo-1);");this.AL.onmouseover=function(){self.H(self.lng.A6);D("PV_Select").className="PV_Btn_SildeOver";};this.AL.onmouseout=function(){self.H();D("PV_Select").className="PV_Btn_Normal";};this.AL.onclick=function(){return false;};this.AB.onmouseover=function(){self.H(self.lng.next);D("PV_Select").className="PV_Btn_NextOver";};this.AB.onmouseout=function(){self.H();D("PV_Select").className="PV_Btn_Normal";};this.AB.onclick=function(){self.l(self.K+1);return false;};this.AX(this.AB,"self.changeImage(self.currentNo+1);");this.AD.onmouseover=function(){self.H(self.lng.B5);};this.AD.onmouseout=function(){self.H();};this.AD.onclick=function(){self.A2();return false;};},display:function(){var self=this;var B=D(arguments[0]);if(!this.Ab){this.initialize();}if(this.BN){this.Az(true);}BB(false);this.Bi();this.K=parseInt(B.Bs("PicasaNo"),10);this.Av();this.Au();this.BF=setTimeout(function(){self.AA(1,self.O,self.A$,0);},300);},l:function(){if(this.AJ){return;}var a=arguments[0];if(a<0){a=0;}if(a>=this.k){a=this.k-1;}if(a==this.K){return;}clearInterval(this.AC);clearTimeout(this.AM);this.K=a;this.Au(true);this.Av();},Av:function(){clearTimeout(this.AT);var self=this;this.Ac=false;this.C.style.display="none";this.R.style.display="";this.Error.style.display="none";if(this.R.offsetLeft==0){this.R.style.left=this.W[0]-this.R.width/2+"px";this.R.style.top=this.W[1]-this.R.height/2+"px";}this.f=this.lng.Bz;this.H();this.M.src=this.U[this.K][0][1];},Bq:function(){this.Ac=true;var J=BD();var Ai=Math.round(this.M.width/J[2]*100);var Ah=Math.round(this.M.height/J[1]*100);var AW=100;if(Ai>Ah&&Ai>=this.AU){AW=Math.round(J[2]*this.AU/this.M.width);}else if(Ai<Ah&&Ah>=this.AU){AW=Math.round(J[1]*this.AU/this.M.height);}this.T=AW;this.Af=Math.round(J[2]/this.M.width*100);this.Q=[0,0];this.U[this.K][2]=[this.M.width,this.M.height];this.C.src=this.M.src;this.P(AW,true,false);var AF=this.U[this.K];var f="";if(AF[3]!=""){f=AF[3]+" \xE2\x80\x94 ";}f+=AF[1]+" ("+(AF[2][0]+" x "+AF[2][1])+")";this.f="<strong>"+f+"</strong>";this.H();this.C.style.display="";this.R.style.display="none";this.Error.style.display="none";if(this.c){this.AZ();}},Bo:function(){this.C.style.display="none";this.R.style.display="none";this.Error.style.display="";this.Error.style.left=this.W[0]-this.Error.width/2+"px";this.Error.style.top=this.W[1]-this.Error.height/2+"px";this.f=this.lng.Bd;this.H();if(this.c){this.AZ();}},A2:function(){if(!this.Bk){return;}if(this.c){clearTimeout(this.AM);this.c=false;}else{this.AZ();this.c=true;}this.Aw(this.AD,this.c);},AZ:function(){var self=this;var a=this.K>=this.k-1?0:this.K+1;this.AM=setTimeout(function(){self.l(a);},this.Bm);},Bl:function(){var self=this;var Aa=[];var Ad=[];function BM(e){if(self.Ag){return false;}if(!self.AJ){self.L.style.display="none";self.j.style.display="none";self.AJ=true;}var Ax=A5(e);self.C.style.left=Aa[0]+Ax[0]-Ad[0]+"px";self.C.style.top=Aa[1]+Ax[1]-Ad[1]+"px";return false;}function BL(e){Aa=[self.C.offsetLeft,self.C.offsetTop];Ad=A5(e);document.BJ=BM;document.onmouseup=BI;return false;}function BI(){document.BJ=null;document.onmouseup=null;self.Q=[Math.round((self.AE[0]-self.C.offsetLeft)/self.G*100),Math.round((self.AE[1]-self.C.offsetTop)/self.G*100)];self.L.style.display="";self.j.style.display="";self.AJ=false;}this.C.onmousedown=BL;},P:function(){if(!this.Ac||this.AJ){return;}clearInterval(this.AC);switch(arguments[0]){case-1:this.G*=this.A_;break;case 0:this.G=100;break;case 1:this.G/=this.A_;break;default:this.G=arguments[0];break;}if(!arguments[1]){if(this.G<this.A8){this.G=this.A8;}if(this.G>this.A9){this.G=this.A9;}this.G=Math.round(this.G);}this.Aw(this.z,this.G==100);var size=this.U[this.K][2];this.AR=[Math.round(size[0]*this.G/100),Math.round(size[1]*this.G/100)];this.AE=[Math.round(this.W[0]-this.AR[0]/2),Math.round(this.W[1]-this.AR[1]/2)];var Q=[Math.round(this.Q[0]*this.G/100),Math.round(this.Q[1]*this.G/100)];var n=this.AR;var q=[this.AE[0]-Q[0],this.AE[1]-Q[1]];var BP=arguments[2]==undefined?this.Bg:arguments[2];if(BP){var self=this;this.AC=setInterval(function(){self.BQ(n,q);},this.Aq);this.Ag=true;}else{this.C.width=n[0];this.C.height=n[1];this.C.style.left=q[0]+"px";this.C.style.top=q[1]+"px";}},BQ:function(){var n=arguments[0];var q=arguments[1];var d=[Math.round((n[0]-this.C.width)/this.AV*10)/10,Math.round((n[1]-this.C.height)/this.AV*10)/10];var g=[Math.round((q[0]-this.C.offsetLeft)/this.AV*10)/10,Math.round((q[1]-this.C.offsetTop)/this.AV*10)/10];if(d.join(",")!="0,0"||g.join(",")!="0,0"){this.C.width+=d[0]>0?Math.ceil(d[0]):Math.floor(d[0]);this.C.height+=d[1]>0?Math.ceil(d[1]):Math.floor(d[1]);this.C.style.left=this.C.offsetLeft+(g[0]>0?Math.ceil(g[0]):Math.floor(g[0]))+"px";this.C.style.top=this.C.offsetTop+(g[1]>0?Math.ceil(g[1]):Math.floor(g[1]))+"px";this.BS(Math.round(this.C.width/this.U[this.K][2][0]*100));}else{clearInterval(this.AC);this.Ag=false;}},Au:function(){clearInterval(this.AK);var self=this;var u=this.Ao-this.K*this.BA;if(arguments[0]){this.AK=setInterval(function(){self.Bc(u);},this.Aq);}else{this.O.style.left=u+"px";}},Bc:function(){var u=arguments[0];var As=this.O.offsetLeft;var N=Math.round((u-As)/this.B6*10)/10;if(N!=0){N=N>0?Math.ceil(N):Math.floor(N);this.O.style.left=As+N+"px";}else{this.O.style.left=u+"px";clearInterval(this.AK);}},AA:function(){var F=arguments;if(F[3]){opacity.AH(F[1],F[3]);}var self=this;var Ap=F[0]==1?this.B2:this.B7;var A0=setInterval(function(){self.BW(F[1],F[2],Ap,A0);},this.Aq);return A0;},BW:function(){var F=arguments;var B=D(F[0]);var Am=opacity.BV(B);var Ap=parseInt(F[2],10)||5;var N=Math.round((F[1]-Am)/Ap*10)/10;if(N!=0){N=N>0?Math.ceil(N):Math.floor(N);Am+=N;opacity.AH(B,Am);}else{clearInterval(F[3]);}},H:function(){var An="";if(arguments[0]){An=arguments[0];}else{An=this.f;}this.j.innerHTML=An;},BS:function(){this.S.innerHTML=arguments[0]+"%";var self=this;clearInterval(this.AS);this.AS=this.AA(1,self.S,this.B3);clearTimeout(this.Ak);this.Ak=setTimeout(function(){self.AS=self.AA(0,self.S,0);},1000);},AX:function(){var F=arguments;var self=this;F[0].onmousedown=function(){self.AN=setTimeout(function(){self.AP=setInterval(function(){eval(F[1]);},self.Bh);},self.Bj);};F[0].onmouseup=function(){clearTimeout(self.AN);clearInterval(self.AP);};Event.add(F[0],"mouseout",function(){clearTimeout(self.AN);clearInterval(self.AP);});},Az:function(A3){var self=this;if(A3){document.onkeydown=function(e){self.BG(e);};}else{document.onkeydown=null;}},BG:function(e){e=e||window.event;var key=e.keyCode;var Z=false;if(key==27){this.close();Z=true;}else if(key==37){this.l(this.K-1);Z=true;}else if(key==39){this.l(this.K+1);Z=true;}else if(key==38||key==187||key==107){this.P(1);Z=true;}else if(key==40||key==189||key==109){this.P(-1);Z=true;}else if(key==111||key==191||key==220){this.P(100);Z=true;}else if(key==106){this.P(this.T);Z=true;}if(Z){Event.end(e);}},Bp:function(A3){var self=this;if(window.addEventListener){this.frame.addEventListener("DOMMouseScroll",function(e){self.A1(e);},false);this.L.addEventListener("DOMMouseScroll",function(e){self.At(e);},false);}this.frame.BZ=function(){self.A1();};this.L.BZ=function(){self.At();};},Ay:function(e){e=e||window.event;var t=0;if(e.Ba){t=e.Ba/120;}else if(e.BH){t=-e.BH/3;}t=t>0?1:-1;return t;},A1:function(e){this.P(this.Ay(e));Event.end(e);},At:function(e){this.l(this.K-this.Ay(e));Event.end(e);},Aw:function(){var F=arguments;F[0].className=F[1]?"seled":"";},Ar:function(){clearTimeout(this.BF);clearTimeout(this.AM);clearTimeout(this.AN);clearInterval(this.AP);clearTimeout(this.AT);clearInterval(this.AC);clearInterval(this.AK);clearInterval(this._);clearTimeout(this.Ak);clearInterval(this.AS);},close:function(){this.Ar();if(this.c){this.A2();}this.Az(false);BB(true);this.V.style.display="none";this.frame.style.display="none";},Bf:function(){this.Ar();this.V=null;this.frame=null;this.C=null;this.R=null;this.Error=null;this.S=null;this.j=null;this.L=null;this.O=null;this.Aj=null;this.s=null;this.v=null;this.z=null;this.AG=null;this.AL=null;this.AB=null;this.AD=null;this.M=null;window[this.name]=null;}};var language={chs:{Bv:"\xE6\x94\xBE\xE5\xA4\xA7\xE5\x9B\xBE\xE5\x83\x8F",Bn:"\xE7\xBC\xA9\xE5\xB0\x8F\xE5\x9B\xBE\xE5\x83\x8F",By:"\xE4\xBB\xA5\xE5\xAE\x9E\xE9\x99\x85\xE5\xA4\xA7\xE5\xB0\x8F\xE6\x98\xBE\xE7\xA4\xBA",Bu:"\xE8\x87\xAA\xE9\x80\x82\xE5\xBA\x94\xE5\xB1\x8F\xE5\xB9\x95\xE5\xA4\xA7\xE5\xB0\x8F",Bw:"\xE4\xB8\x8A\xE4\xB8\x80\xE5\xBC\xA0\xE5\x9B\xBE\xE7\x89\x87",A6:"\xE6\x92\xAD\xE6\x94\xBE\xE5\xB9\xBB\xE7\x81\xAF\xE7\x89\x87\xE6\xBC\x94\xE7\xA4\xBA",next:"\xE4\xB8\x8B\xE4\xB8\x80\xE5\xBC\xA0\xE5\x9B\xBE\xE7\x89\x87",B5:"\xE8\x87\xAA\xE5\x8A\xA8\xE6\x92\xAD\xE6\x94\xBE",Bz:"\xE5\x9B\xBE\xE7\x89\x87\xE5\x8A\xA0\xE8\xBD\xBD\xE4\xB8\xAD...",Bd:"\xE5\x9B\xBE\xE7\x89\x87\xE5\x8A\xA0\xE8\xBD\xBD\xE9\x94\x99\xE8\xAF\xAF"}};var MyPicasa=new Picasa;MyPicasa.lng=language.chs;window.onload=function(){MyPicasa.initialize();};